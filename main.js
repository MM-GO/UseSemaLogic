/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  DebugLevel: () => DebugLevel,
  Default_profile: () => Default_profile,
  SemaLogicPluginComm: () => SemaLogicPluginComm2,
  default: () => SemaLogicPlugin,
  mygSID: () => mygSID
});
module.exports = __toCommonJS(main_exports);
var import_obsidian7 = require("obsidian");

// src/view.ts
var import_obsidian3 = require("obsidian");

// src/const.ts
var API_Defaults = {
  http: "http://",
  https: "https://",
  Base_URL: "service.semalogic.ddns.net",
  Port: "443",
  rules_parse: "/rules/parse",
  reset: "/reset",
  Version: "/APIVersion",
  PostDialect: "/dialect/define",
  RemoveDialect: "/dialect/remove",
  GetAPI: "/APIVersion",
  SID: "12345678",
  ShowContext: true,
  useUserPasswortforHTTP: true,
  HttpUser: "User",
  HttpPassword: "Password",
  viewheader: "SVG",
  AspUrl: "ASP-Service-URL.com/",
  AspEndpoint: "/plans/count",
  useUserPasswortforHTTPSL: true,
  HttpUserSL: "User",
  HttpPasswordSL: "Password"
};
var Value_Defaults = {
  updateInterval: 500
};
var semaLogicCommand = {
  command_start: "SemaLogic(",
  command_end: ")",
  showHelp: "show help",
  showVersion: "show version",
  getDialectwTemplate: "template",
  useDialect: "use ???dialectName???",
  define: "define",
  showParse: "show as",
  showFilter: "for",
  transfer: "transfer",
  transferEndpoint: "to endpoint",
  transferParam: "with param"
};
var semaLogicHelp = [
  [semaLogicCommand.command_start + "???" + semaLogicCommand.command_end, "You can define what SemaLogic should do for you by replacing ??? with one of the following SemaLogic commands:"],
  [semaLogicCommand.command_start + semaLogicCommand.showHelp + semaLogicCommand.command_end, "Show this help information"],
  [semaLogicCommand.command_start + semaLogicCommand.showVersion + semaLogicCommand.command_end, "Show the version of the SemaLogic-Service"],
  [semaLogicCommand.command_start + semaLogicCommand.define + semaLogicCommand.command_end, "After this inlinecommand and a space line comes e.g. a table that should be interpreted by SemaLogic (table, NTable, ZTable) with optional headerinterpretation- Expected format:\n(|Symbol||Level(n+1)|\n|---|---|\n|Level(1)|Level(n)|Value|)"],
  [`${semaLogicCommand.command_start + semaLogicCommand.showParse} %1 ${semaLogicCommand.showFilter} %2 ${semaLogicCommand.command_end}`, "show as - shows an output directly to the reading view ( with %1 you have to set the output type: 1|1 {picture, syemalogic, asp} and with %2 you could filter for an symbol by symbolname)"],
  [`${semaLogicCommand.command_start + semaLogicCommand.transfer} %1 ${semaLogicCommand.transferEndpoint} %2 ${semaLogicCommand.transferParam} %3 ${semaLogicCommand.command_end}`, "transfer - shows an (currently only) asp output directly to the asp.view from SemaLogicView ( with %1 you have to set the output type: 1|1 {asp} and with %2 you could set the endpoint and wuth %3 you could set queryparameter)"]
];
var Rstypes_Semalogic = 0;
var Rstypes_Picture = 3;
var Rstypes_ASP = 6;
var Rstypes_SemanticTree = 8;
var Rstypes_KnowledgeGraph = 9;
var RulesettypesCommands = [
  ["SemaLogic", "SemaLogic"],
  ["technical", "SemaLogic"],
  ["semalogic", "SemaLogic"],
  ["Picture (SVG)", "SVG"],
  ["picture", "SVG"],
  ["SVG", "SVG"],
  ["ASP", "ASP.json"],
  ["asp", "ASP.json"],
  ["SemanticTree", "SemanticTree"],
  ["KnwoledgeGraph", "KnowledgeGraph"]
];
var DebugLevelNames = [
  "DebugLevel_Off",
  "DebugLevel_Error",
  "DebugLevel_Current_Dev",
  "DebugLevel_Important",
  "DebugLevel_Informative",
  "DebugLevel_Chatty",
  "DebugLevel_All"
];
var DebugLevMap = {
  "DebugLevel_Off": 0,
  "DebugLevel_Error": 1,
  "DebugLevel_Current_Dev": 2,
  "DebugLevel_Important": 3,
  "DebugLevel_Informative": 4,
  "DebugLevel_Chatty": 5,
  "DebugLevel_All": 6
};
var slTexts = {
  "HeaderSL": "SemaLogic.View",
  "HeaderTV": "Transfer.View"
};
var slTemplate = {
  "PathCommands": "Templates/SemaLogic/Commands",
  "PathSymTokenComparison": "Templates/SemaLogic/SymToken/Comparison",
  "PathSymTokenElements": "Templates/SemaLogic/SymToken/Elements",
  "PathSymTokenFunc": "Templates/SemaLogic/SymToken/FuncToken",
  "PathSymTokenMath": "Templates/SemaLogic/SymToken/Math",
  "PathSymTokenRefToken": "Templates/SemaLogic/SymToken/RefToken",
  "PathSymTokenTerms": "Templates/SemaLogic/SymToken/TermsAndRules",
  "PathExamplesBasic": "Templates/SemaLogic/Examples/Basic"
};

// src/utils.ts
var import_obsidian = require("obsidian");
var import_obsidian2 = require("obsidian");
var searchForSemaLogicCommands = (el) => {
  for (let i = 0; i < el.childNodes.length; i++) {
    const child = el.childNodes[i];
    if (isSemaLogicCommand(child)) {
      return true;
    }
  }
  return false;
};
var isSemaLogicCommand = (n) => {
  var _a;
  return n.nodeType === Node.TEXT_NODE && Boolean((_a = n.textContent) == null ? void 0 : _a.startsWith(semaLogicCommand.command_start));
};
var replaceWithEmptyNode = (containerEl) => {
  const results = [];
  return results;
};
async function replaceWithCommandNode(containerEl, settings) {
  var _a, _b;
  let results = [];
  let found = false;
  let semaLogicCom = (_b = containerEl.textContent) == null ? void 0 : _b.substring(semaLogicCommand.command_start.length, (_a = containerEl.textContent) == null ? void 0 : _a.indexOf(semaLogicCommand.command_end)).toLowerCase();
  if (!found && (semaLogicCom == null ? void 0 : semaLogicCom.toString().substring(0, semaLogicCommand.showHelp.length)) == semaLogicCommand.showHelp) {
    results = await showHelp();
    found = true;
  }
  if (!found && (semaLogicCom == null ? void 0 : semaLogicCom.toString().substring(0, semaLogicCommand.showVersion.length)) == semaLogicCommand.showVersion) {
    results = await showVersion(settings);
    found = true;
  }
  if (!found && (semaLogicCom == null ? void 0 : semaLogicCom.toString().substring(0, semaLogicCommand.showParse.length)) == semaLogicCommand.showParse) {
    let rulesettype = "";
    let filter = "";
    for (let rule in RulesettypesCommands) {
      if (semaLogicCom.contains(RulesettypesCommands[rule][0])) {
        rulesettype = RulesettypesCommands[rule][1];
        const findfor = semaLogicCom.indexOf(semaLogicCommand.showFilter);
        if (findfor > 0) {
          filter = semaLogicCom.substring(findfor + semaLogicCommand.showFilter.length);
          filter = filter.trim();
        }
        found = true;
        break;
      }
    }
    if (!found) {
      results = await showHelp();
      found = true;
    }
    if (rulesettype != "") {
      results = await showParseWithFilter(filter, rulesettype, settings);
    }
    found = true;
  }
  if (!found) {
    results = replaceWithEmptyNode(containerEl);
  }
  return results;
}
var SemaLogicRenderedElement = class extends import_obsidian.MarkdownRenderChild {
  constructor({ containerEl, set }) {
    super(containerEl);
    this.mysettings = set;
  }
  async onload() {
    this.containerEl.setChildrenInPlace(
      await replaceWithCommandNode(this.containerEl, this.mysettings)
    );
  }
};
async function showHelp() {
  let results = [];
  let buildcontainerEl;
  slconsolelog(DebugLevMap.DebugLevel_Informative, void 0, semaLogicCommand.showHelp);
  buildcontainerEl = createEl("table");
  let body = buildcontainerEl.createEl("body");
  let row = body.createEl("tr");
  row.createEl("td", { text: "SemaLogic-Commands-Help" });
  row.createEl("td", { text: "Description" });
  for (let i = 0; i < semaLogicHelp.length; i++) {
    const row2 = body.createEl("tr");
    row2.createEl("td", { text: semaLogicHelp[i][0] });
    row2.createEl("td", { text: semaLogicHelp[i][1] });
  }
  results.push(buildcontainerEl);
  return results;
}
async function showVersion(settings) {
  let results = [];
  let buildcontainerEl;
  let versiontext = "";
  slconsolelog(DebugLevMap.DebugLevel_Informative, void 0, semaLogicCommand.showVersion);
  const version = await semaLogicGetVersion(settings).then(function(resultBuffer) {
    versiontext = resultBuffer;
  }).catch(
    function(resultBuffer) {
      versiontext = resultBuffer;
    }
  );
  slconsolelog(DebugLevMap.DebugLevel_High, void 0, `JSON-Text in Processor:${versiontext}`);
  buildcontainerEl = createEl("table");
  const table = buildcontainerEl.createEl("table");
  const body = buildcontainerEl.createEl("body");
  const row = body.createEl("tr");
  row.createEl("td", { text: versiontext });
  results.push(buildcontainerEl);
  return results;
}
function sethttps(https) {
  let str;
  if (https) {
    str = API_Defaults.https;
  } else {
    str = API_Defaults.http;
  }
  return str;
}
function getHostPort(settings) {
  let adress = sethttps(settings.mySLSettings[settings.mySetting].myUseHttpsSL);
  adress = adress + settings.mySLSettings[settings.mySetting].myBaseURL;
  if (settings.mySLSettings[settings.mySetting].myPort != "") {
    adress = adress + ":" + settings.mySLSettings[settings.mySetting].myPort;
  }
  slconsolelog(DebugLevMap.DebugLevel_High, void 0, "getting SemaLogic-Adress: " + adress);
  return adress;
}
function getHostAspPort(settings, parsedCommands) {
  let adress;
  if (parsedCommands.outputformat == RulesettypesCommands[Rstypes_ASP][1]) {
    adress = sethttps(settings.mySLSettings[settings.mySetting].myUseHttps);
    adress = adress + settings.mySLSettings[settings.mySetting].myAspUrl;
    if (parsedCommands.endpoint != void 0) {
      if (parsedCommands.endpoint.indexOf("http") >= 0) {
        adress = parsedCommands.endpoint;
      } else {
        adress = adress + "/" + parsedCommands.endpoint;
      }
    }
  } else {
    adress = parsedCommands.endpoint;
  }
  if (parsedCommands.param != void 0 && parsedCommands.param != "") {
    adress = adress + "?" + parsedCommands.param;
  }
  slconsolelog(DebugLevMap.DebugLevel_High, void 0, "getting asp-Adress: " + adress);
  return adress;
}
async function semaLogicGetVersion(settings) {
  slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Start semaLogicGetVersion");
  const myVersion = '{"version":"0","versiontext":"Text"}';
  let myJson = JSON.parse(myVersion);
  let jsonVersion = "";
  let vAPI_URL_Version = getHostPort(settings) + API_Defaults.Version;
  slconsolelog(DebugLevMap.DebugLevel_Important, void 0, vAPI_URL_Version);
  let options;
  if (settings.mySLSettings[settings.mySetting].myUseHttpsSL && settings.mySLSettings[settings.mySetting].myUserSL != "") {
    options = {
      url: vAPI_URL_Version,
      method: "GET",
      headers: {
        "content-type": "application/json",
        "Authorization": "Basic " + btoa(settings.mySLSettings[settings.mySetting].myUserSL + ":" + settings.mySLSettings[settings.mySetting].myPasswordSL)
      }
    };
  } else {
    options = {
      url: vAPI_URL_Version,
      method: "GET"
    };
  }
  let response;
  try {
    response = await (0, import_obsidian2.requestUrl)(options);
    myJson = JSON.parse(response.text);
    slconsolelog(DebugLevMap.DebugLevel_All, void 0, myJson.version);
    jsonVersion = myJson.version;
    slconsolelog(DebugLevMap.DebugLevel_All, void 0, `JSON-Text in Request:${jsonVersion}`);
    return jsonVersion;
  } catch (e) {
    slconsolelog(DebugLevMap.DebugLevel_Error, void 0, "Error: Catch of APIVersion" + e.toString());
    throw new Error();
  }
}
async function semaLogicPing(settings, lastUpdate) {
  let starttime = Date.now();
  slconsolelog(DebugLevMap.DebugLevel_Informative, void 0, "GetVersionPing at ", Date.now(), "  for ", getHostPort(settings));
  await semaLogicGetVersion(settings).then(function(resultBuffer) {
    slconsolelog(DebugLevMap.DebugLevel_Informative, void 0, "SemaLogic GetVersionPing started at:", starttime, " Endtime: ", Date.now());
  }).catch(
    function(e) {
      if (starttime < lastUpdate) {
        slconsolelog(DebugLevMap.DebugLevel_Important, void 0, `There is no connection to SemaLogicService APIVersion`);
        slconsolelog(DebugLevMap.DebugLevel_Important, void 0, getHostPort(settings));
        app.workspace.iterateAllLeaves((leaf) => {
          let slView = leaf.view.getViewType();
          if (slView == SemaLogicViewType) {
            const container = leaf.view.containerEl.children[1];
            container.empty();
            container.createEl("h3", { text: "SemaLogic_Error" });
            container.createEl("b", { text: "There is no connection to SemaLogicService -> APIVersion" });
            container.createEl("b", { text: getHostPort(settings) });
            return false;
          }
        });
      } else {
        slconsolelog(DebugLevMap.DebugLevel_High, void 0, "SemaLogic GetVersionPing failed and not used started:", starttime, " Endtime: ", Date.now());
      }
    }
  );
  return true;
}
async function showParseWithFilter(filter, rulessettype, settings) {
  let results = [];
  let buildcontainerEl;
  let vAPI_URL = getHostPort(settings) + API_Defaults.rules_parse + "?sid=" + mygSID;
  slconsolelog(DebugLevMap.DebugLevel_Important, void 0, vAPI_URL);
  let bodytext = "";
  let activeView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
  if (activeView == void 0) {
    slconsolelog(DebugLevMap.DebugLevel_High, void 0, "Do not find an active view");
    return results;
  }
  let dialectID = "default";
  let codeblock = false;
  let newCodeblock = false;
  if (activeView != null) {
    for (let i = 0; i < activeView.editor.lineCount(); i++) {
      slconsolelog(DebugLevMap.DebugLevel_All, void 0, i, ";", activeView.editor.getLine(i));
      slconsolelog(DebugLevMap.DebugLevel_All, void 0, "Substring:", activeView.editor.getLine(i).substring(0, 2));
      if (activeView.editor.getLine(i).substring(0, 3) == "```") {
        if (!codeblock) {
          codeblock = true;
          newCodeblock = true;
        } else {
          newCodeblock = false;
        }
      }
      slconsolelog(DebugLevMap.DebugLevel_Informative, void 0, "Current line is Codeblock", codeblock);
      if (!codeblock && !newCodeblock) {
        switch (activeView.editor.getLine(i)) {
          default:
            bodytext = bodytext.concat(activeView.editor.getLine(i) + "\n");
        }
      } else {
        switch (activeView.editor.getLine(i).substring(0, semaLogicCommand.useDialect.length)) {
          case semaLogicCommand.useDialect: {
            dialectID = activeView.editor.getLine(i).substring(semaLogicCommand.useDialect.length, activeView.editor.getLine(i).length - 1);
            dialectID = dialectID.trim();
            break;
          }
          default: {
          }
        }
      }
      if (i < activeView.editor.lineCount()) {
        if (activeView.editor.getLine(i).substring(0, 3) == "```") {
          if (codeblock && !newCodeblock) {
            codeblock = false;
          } else {
            newCodeblock = false;
          }
        }
      }
    }
  }
  if (bodytext == "") {
    bodytext = "";
  }
  if (dialectID == "") {
    dialectID = "default";
  }
  let result = "";
  let optionsParse;
  if (filter != "") {
    let jsonwoFilter = {
      "text": [
        {
          "textID": "fly",
          "dialectID": dialectID,
          "rules": bodytext
        }
      ],
      "filter": {
        "dialectID": "default",
        "symbols": [
          {
            "symbol": filter
          }
        ]
      },
      "persistency": false,
      "rulesettype": rulessettype
    };
    optionsParse = {
      url: vAPI_URL,
      method: "POST",
      headers: {
        "content-type": "application/json"
      },
      body: JSON.stringify(jsonwoFilter)
    };
  } else {
    let jsontestwthFilter = {
      "text": [
        {
          "textID": "fly",
          "dialectID": dialectID,
          "rules": bodytext
        }
      ],
      "filter": {},
      "persistency": false,
      "rulesettype": rulessettype
    };
    optionsParse = {
      url: vAPI_URL,
      method: "POST",
      headers: {
        "content-type": "application/json"
      },
      body: JSON.stringify(jsontestwthFilter)
    };
  }
  let res;
  slconsolelog(DebugLevMap.DebugLevel_Chatty, void 0, `Context: ${dialectID}, Bodytext: ${bodytext}`);
  slconsolelog(DebugLevMap.DebugLevel_Important, void 0, optionsParse);
  try {
    const responseParse = await (0, import_obsidian2.requestUrl)(optionsParse);
    const remJson = responseParse.text;
    slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "SemaLogic: Parse with http-status " + responseParse.status.toString());
    if (responseParse.status == 200) {
      let resulthttp = responseParse.text;
      const fragment = new Range().createContextualFragment(resulthttp);
      buildcontainerEl = createEl("p");
      buildcontainerEl.appendChild(fragment);
      results.push(buildcontainerEl);
      slconsolelog(DebugLevMap.DebugLevel_Important, void 0, `Parseresult:${resulthttp}`);
      return results;
    }
  } catch (e) {
    slconsolelog(DebugLevMap.DebugLevel_Error, void 0, `Catcherror of removing context ${vAPI_URL}`);
    slconsolelog(DebugLevMap.DebugLevel_Error, void 0, e.toString());
    throw e;
  }
  return results;
}
function slconsolelog(DebugValue, slview, message, ...optionalParams) {
  if (DebugLevel >= DebugValue) {
    if (slview != void 0) {
      if (slview.getViewType() == SemaLogicViewType) {
        if (slview.getDebugInline() == true) {
          let logMessages = JSON.stringify(message);
          slview.appendDebugContent(logMessages);
        } else {
          console.log(message, ...optionalParams);
        }
      }
    } else {
      console.log(message, ...optionalParams);
    }
  }
}

// src/view_utils.ts
var ViewUtils = class {
  getContent(contentEl, outPutFormat) {
    let content;
    if (contentEl.textContent == null) {
      content = "";
    } else {
      content = contentEl.textContent;
    }
    content = this.cleanContent(content, outPutFormat);
    content = this.cleanCommands(content);
    return content;
  }
  cleanContent(content, outPutFormat) {
    if (outPutFormat == RulesettypesCommands[Rstypes_ASP][1]) {
      const firstJSONBracket = content.indexOf("{");
      content = content.substring(firstJSONBracket, content.length);
    }
    if (outPutFormat == RulesettypesCommands[Rstypes_Semalogic][1]) {
      const headerString = "Semalogic Output";
      const firstheaderString = content.indexOf(headerString);
      content = content.substring(firstheaderString + headerString.length, content.length);
    }
    return content;
  }
  cleanCommands(content) {
    let contentCleaned = [];
    let contentArray = content.split("\n");
    contentArray.forEach((element) => {
      let row = element.trim();
      row = row.toLowerCase();
      slconsolelog(DebugLevMap.DebugLevel_Chatty, void 0, "Row before:" + row);
      row = row.replaceAll(" ", "");
      slconsolelog(DebugLevMap.DebugLevel_Chatty, void 0, "Row after:" + row);
      if (row.indexOf(semaLogicCommand.command_start.toLowerCase()) != 0) {
        contentCleaned.push(element);
      } else {
        slconsolelog(DebugLevMap.DebugLevel_Chatty, void 0, "Index Define:" + row.indexOf(semaLogicCommand.define).toString());
        slconsolelog(DebugLevMap.DebugLevel_Chatty, void 0, "Length Start:" + semaLogicCommand.command_start.length.toString());
        if (row.indexOf(semaLogicCommand.define) == semaLogicCommand.command_start.length) {
          contentCleaned.push(element);
        }
      }
    });
    content = "";
    contentCleaned.forEach((element) => {
      content = content + element + "\n";
    });
    return content;
  }
};

// src/view.ts
var SemaLogicViewType = "SemaLogicService";
var SemaLogicView2 = class extends import_obsidian3.ItemView {
  constructor(leaf) {
    super(leaf);
    this.scaleRatio = 100;
    this.view_utils = new ViewUtils();
    this.debugInline = false;
    this.debugContent = [];
  }
  getOutPutFormat() {
    return this.dropdownButton.getValue();
  }
  getDebugInline() {
    return this.debugInline;
  }
  getContent() {
    return this.view_utils.getContent(this.contentEl, this.getOutPutFormat());
  }
  appendDebugContent(text) {
    this.debugContent.push(text);
  }
  copyToCb() {
    const blobcontentText = (cont) => `${cont}`;
    let data = new ClipboardItem({
      "text/plain": new Blob([blobcontentText(this.currResult)], {
        type: "text/plain"
      })
    });
    navigator.clipboard.write([data]).then(() => {
      alert("successfully copied");
    }).catch(() => {
      alert("something went wrong");
    });
  }
  setComm(comm) {
    if (this.slComm != comm) {
      this.slComm = comm;
      this.setNewInitial(this.slComm.slPlugin.settings.mySLSettings[this.slComm.slPlugin.settings.mySetting].myOutputFormat, false);
    }
  }
  getViewType() {
    return SemaLogicViewType;
  }
  getDisplayText() {
    return SemaLogicViewType;
  }
  onload() {
    this.navigation = true;
    this.contentEl.contentEditable = "true";
    this.debugInline == false;
  }
  getDebugButtonText() {
    if (this.debugInline == true) {
      return "InlineDebug is on";
    } else {
      return "InlineDebug is off";
    }
  }
  createDropDownButtonForOutPutFormat(container, dropDownValue) {
    this.dropdownButton = new import_obsidian3.DropdownComponent(container).addOption(RulesettypesCommands[Rstypes_Semalogic][1], RulesettypesCommands[Rstypes_Semalogic][0]).addOption(RulesettypesCommands[Rstypes_ASP][1], RulesettypesCommands[Rstypes_ASP][0]).addOption(RulesettypesCommands[Rstypes_Picture][1], RulesettypesCommands[Rstypes_Picture][0]).addOption(RulesettypesCommands[Rstypes_SemanticTree][1], RulesettypesCommands[Rstypes_SemanticTree][0]).addOption(RulesettypesCommands[Rstypes_KnowledgeGraph][1], RulesettypesCommands[Rstypes_KnowledgeGraph][0]).setValue(dropDownValue).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_Informative, this.slComm.slview, "Set ViewOutputFormat: " + value);
      this.slComm.slPlugin.updateOutstanding = true;
      dropDownValue = value;
      this.dropdownButton.setValue(value);
      this.getSemaLogicParse(this.slComm.slPlugin.settings, this.apiURL, this.dialectID, this.bodytext, false, value);
    });
    return container;
  }
  createCopyToClipboardButton(container) {
    this.copyButton = new import_obsidian3.ButtonComponent(container).setButtonText("Copy to Clipboard").onClick((mouse_event) => {
      this.copyToCb();
    });
    return container;
  }
  createDebugButton(container) {
    if (DebugLevel != DebugLevMap.DebugLevel_Off) {
      this.debugButton = new import_obsidian3.ButtonComponent(container).setButtonText(this.getDebugButtonText()).onClick((mouse_event) => {
        if (this.debugInline == true) {
          this.debugInline = false;
          this.debugContent = [];
        } else {
          this.debugInline = true;
        }
        if (this.slComm.slview != void 0) {
          slconsolelog(DebugLevMap.DebugLevel_Informative, this.slComm.slview, "Set InlineDebugging: " + this.debugInline);
        }
        this.updateView();
      });
    }
    return container;
  }
  createScaleButtons(container) {
    this.zoomIn = new import_obsidian3.ButtonComponent(container).setButtonText("-").onClick((mouse_event) => {
      this.scaleRatio = this.scaleRatio / 2;
      if (this.zoomRatio != null) {
        this.zoomRatio.setButtonText(String(this.scaleRatio));
      }
      slconsolelog(DebugLevMap.DebugLevel_Informative, this.slComm.slview, "Set ScaleRatio to: " + this.scaleRatio);
      this.updateView();
    });
    this.zoomRatio = new import_obsidian3.ButtonComponent(container).setButtonText(String(this.scaleRatio)).onClick((mouse_event) => {
      slconsolelog(DebugLevMap.DebugLevel_Informative, this.slComm.slview, "ScaleRatio := " + this.scaleRatio);
    });
    this.zoomOut = new import_obsidian3.ButtonComponent(container).setButtonText("+").onClick((mouse_event) => {
      this.scaleRatio = this.scaleRatio * 2;
      this.zoomRatio.setButtonText(String(this.scaleRatio));
      slconsolelog(DebugLevMap.DebugLevel_Informative, this.slComm.slview, "Set ScaleRatio to: " + this.scaleRatio);
      this.updateView();
    });
    return container;
  }
  checkContainerContent() {
    var _a;
    if (this.containerEl.children != void 0) {
      if (((_a = this.containerEl.children[1].textContent) == null ? void 0 : _a.substring(0, slTexts["HeaderSL"].length)) == slTexts["HeaderSL"]) {
        return true;
      } else {
        return false;
      }
    } else {
      return false;
    }
  }
  deleteContainerContent() {
    if (this.containerEl.children != void 0) {
      for (let i = 0; i < this.containerEl.children.length; i++) {
        if (this.containerEl.children[i].nodeName == "p") {
          while (this.containerEl.children[i] != void 0) {
            this.containerEl.children[i].empty;
          }
        }
      }
    }
  }
  setNewInitial(dropDownValue, now) {
    let container = this.contentEl;
    if (!this.checkContainerContent() || now) {
      container.empty();
      container.createEl("h4", { text: slTexts["HeaderSL"] });
      container = this.createDropDownButtonForOutPutFormat(container, dropDownValue);
      container = this.createCopyToClipboardButton(container);
      container = this.createDebugButton(container);
      if (dropDownValue == RulesettypesCommands[Rstypes_Picture][1]) {
        container = this.createScaleButtons(container);
      }
      container.createEl("p");
    } else {
      this.deleteContainerContent();
    }
  }
  async onOpen() {
    this.setNewInitial(RulesettypesCommands[Rstypes_Semalogic][1], false);
  }
  async onClose() {
  }
  showError(fragment) {
    this.contentEl.appendChild(fragment);
  }
  onunload() {
    if (this.slComm.slPlugin != void 0) {
      this.slComm.slPlugin.activated = false;
      this.slComm.slPlugin.myStatus.setText("SemaLogic is off");
    }
  }
  createSemaLogicRequestBody(dialectID, bodytext, outPutFormat) {
    slconsolelog(DebugLevMap.DebugLevel_Important, this.slComm.slview, "Context: " + dialectID + " Bodytext: " + bodytext);
    let semaLogicJsonRequestBody = {
      "text": [
        {
          "textID": "ParsingOnTheFly",
          "dialectID": dialectID,
          "rules": bodytext
        }
      ],
      "filter": {},
      "persistency": false,
      "rulesettype": outPutFormat
    };
    return semaLogicJsonRequestBody;
  }
  createSemaLogicRequest(settings, vAPI_URL, semaLogicJsonRequestBody) {
    let request = {
      url: vAPI_URL,
      method: "POST",
      headers: {
        "content-type": "application/json"
      },
      body: JSON.stringify(semaLogicJsonRequestBody)
    };
    if (settings.mySLSettings[settings.mySetting].myUseHttpsSL && settings.mySLSettings[settings.mySetting].myUserSL != "") {
      request = {
        url: vAPI_URL,
        method: "POST",
        headers: {
          "content-type": "application/json",
          "Authorization": "Basic " + btoa(settings.mySLSettings[settings.mySetting].myUserSL + ":" + settings.mySLSettings[settings.mySetting].myPasswordSL)
        },
        body: JSON.stringify(semaLogicJsonRequestBody)
      };
    }
    slconsolelog(DebugLevMap.DebugLevel_Important, this.slComm.slview, "Parsingsstring");
    slconsolelog(DebugLevMap.DebugLevel_Important, this.slComm.slview, request);
    return request;
  }
  getRequestEmbed(content) {
    if (this.getOutPutFormat() == RulesettypesCommands[Rstypes_Picture][1]) {
      let viewBoxString;
      const beginVB = content.indexOf("viewBox");
      if (beginVB > 0) {
        const endVB = content.indexOf('"', content.indexOf('"', beginVB) + 1);
        viewBoxString = content.substring(beginVB, endVB + 1);
      } else {
        viewBoxString = 'viewBox = "0 0 16 9"';
      }
      content = content.replace("<body>", "");
      content = content.replace("</body>", "");
      let header;
      header = "<svg  " + viewBoxString + ' width = "' + String(this.scaleRatio) + '%" xmlns = "http://www.w3.org/2000/svg" >\n';
      header = header + content;
      header = header + "</svg>";
      return header;
    } else {
      return content;
    }
  }
  getCurrResult() {
    return this.getRequestEmbed(this.currResult);
  }
  getCurrHTML() {
    let responseContent = this.contentEl.createEl("div");
    if (this.debugInline == true) {
      this.debugContent.forEach((value) => {
        const textline = responseContent.createEl("span", { text: value + "\n", cls: "debuginline" });
      });
    } else {
      if (this.getOutPutFormat() == RulesettypesCommands[Rstypes_ASP][1]) {
        let resulttextarray = this.getCurrResult().split("\n");
        resulttextarray.forEach((value) => {
          const textline = responseContent.createEl("span", { text: value + "\n", cls: "debuginline" });
        });
      } else {
        responseContent.createEl("p", { text: " " });
        responseContent.insertAdjacentHTML("afterend", this.getCurrResult());
      }
    }
  }
  updateView() {
    this.setNewInitial(this.getOutPutFormat(), true);
    this.getCurrHTML();
  }
  async getSemaLogicParse(settings, vAPI_URL, dialectID, bodytext, parseOnTheFly, parsingFormat) {
    this.bodytext = bodytext;
    this.apiURL = vAPI_URL;
    this.dialectID = dialectID;
    let outPutFormat;
    let resulthttp;
    if (parsingFormat !== void 0) {
      outPutFormat = parsingFormat;
    } else {
      outPutFormat = this.getOutPutFormat();
    }
    let semaLogicJsonRequestBody = this.createSemaLogicRequestBody(dialectID, bodytext, outPutFormat);
    let semaLogicRequest = this.createSemaLogicRequest(settings, vAPI_URL, semaLogicJsonRequestBody);
    try {
      const response = await (0, import_obsidian3.requestUrl)(semaLogicRequest);
      slconsolelog(DebugLevMap.DebugLevel_High, this.slComm.slview, "SemaLogic: Parse with http-status " + response.status.toString());
      if (response.status == 200) {
        resulthttp = response.text;
        slconsolelog(DebugLevMap.DebugLevel_Chatty, this.slComm.slview, `Parseresult:${resulthttp}`);
        if (this.debugInline == false && parseOnTheFly == false) {
          this.currResult = resulthttp;
        }
        if (!parseOnTheFly) {
          this.updateView();
        }
      }
      if (this.slComm.slaspview != void 0) {
      }
      return new Promise((resolve) => {
        resolve(resulthttp);
      });
    } catch (e) {
      slconsolelog(DebugLevMap.DebugLevel_High, this.slComm.slview, `Catcherror of removing context ${vAPI_URL}`);
      slconsolelog(DebugLevMap.DebugLevel_High, this.slComm.slview, e.toString());
      let text = new DocumentFragment();
      text.createEl("p");
      let textfragment = new Range().createContextualFragment(e.toString());
      text.appendChild(textfragment);
      text.createEl("p");
      textfragment = new Range().createContextualFragment("See for information about the error-code of http: https://de.wikipedia.org/wiki/HTTP-Statuscode ");
      text.append(textfragment);
      text.createEl("p");
      textfragment = new Range().createContextualFragment(semaLogicRequest.url);
      text.append(textfragment);
      text.createEl("p");
      textfragment = new Range().createContextualFragment(String(semaLogicRequest.body));
      text.append(textfragment);
      this.showError(text);
      throw e;
    }
  }
};

// src/view_asp.ts
var import_obsidian4 = require("obsidian");
var ASPViewType = "TransferService";
var ASPView = class extends import_obsidian4.ItemView {
  constructor(leaf) {
    super(leaf);
    this.LastRequestTime = 0;
    this.navigation = true;
    this.setNewASPInitial(true);
  }
  setComm(comm) {
    this.slComm = comm;
    this.setNewASPInitial(false);
  }
  getViewType() {
    return ASPViewType;
  }
  getDisplayText() {
    return ASPViewType;
  }
  onload() {
    this.navigation = true;
    this.contentEl.contentEditable = "true";
  }
  checkASPContainerContent() {
    var _a;
    if (this.containerEl.children != void 0) {
      if (((_a = this.containerEl.children[1].textContent) == null ? void 0 : _a.substring(0, slTexts["HeaderTV"].length)) == slTexts["HeaderTV"]) {
        return true;
      } else {
        return false;
      }
    } else {
      return false;
    }
  }
  deleteASPContainerContent() {
    if (this.containerEl.children != void 0) {
      for (let i = 0; i < this.containerEl.children.length; i++) {
        if (this.containerEl.children[i].nodeName == "p") {
          while (this.containerEl.children[i] != void 0) {
            this.containerEl.children[i].empty;
          }
        }
      }
    }
  }
  setNewASPInitial(now) {
    let container = this.contentEl;
    if (now || !this.checkASPContainerContent()) {
      container.empty();
      container.createEl("h4", { text: slTexts["HeaderTV"] });
      container.createEl("p");
    } else {
    }
  }
  async onOpen() {
  }
  async onClose() {
  }
  showError(fragment) {
    this.contentEl.appendChild(fragment);
  }
  onunload() {
    if (this.slComm != void 0) {
      this.slComm.slPlugin.activated = false;
      this.slComm.slPlugin.myStatus.setText("Transfer is off");
    }
  }
  createRequest(comm, settings, apiUrl, method, contentType, withBasicAuth, body) {
    let request;
    let myHeader = {};
    contentType = contentType.toLowerCase();
    method = method.toUpperCase();
    switch (contentType.toLowerCase()) {
      case "json": {
        myHeader["Content-Type"] = "application/json";
        break;
      }
      case "asp": {
        myHeader["Content-Type"] = "application/json";
        break;
      }
      case "asp.json": {
        myHeader["Content-Type"] = "application/json";
        break;
      }
      case "text": {
        myHeader["Content-Type"] = "text/plain";
        break;
      }
      default: {
        myHeader["Content-Type"] = contentType;
        break;
      }
    }
    if (withBasicAuth) {
      myHeader["Authorization"] = "Basic " + btoa(settings.mySLSettings[settings.mySetting].myUser + ":" + settings.mySLSettings[settings.mySetting].myPassword);
    }
    request = {
      url: apiUrl,
      method,
      headers: myHeader,
      body
    };
    slconsolelog(DebugLevMap.DebugLevel_Important, this.slComm.slview, request);
    return request;
  }
  getASPCommands(slComm, settings) {
    let parseCommands;
    parseCommands = {
      commands: [{
        outputformat: "ASP.json",
        endpoint: settings.mySLSettings[settings.mySetting].myAspEndpoint,
        param: ""
      }]
    };
    let parseInitial = true;
    if (slComm.slview != null) {
      const editortext = slComm.slUsedMDView.editor.getRange({ line: 0, ch: 0 }, { line: slComm.slUsedMDView.editor.lastLine() + 1, ch: slComm.slUsedMDView.editor.lastLine.length });
      const rows = editortext.split("\n").filter((row) => row.length > 0);
      let myStrResult;
      let transferString;
      let endpointString = "";
      let paramString;
      rows.forEach((row) => {
        if (row.substring(0, semaLogicCommand.command_start.length) == semaLogicCommand.command_start) {
          const transfer = row.indexOf(semaLogicCommand.transfer);
          const endpoint = row.indexOf(semaLogicCommand.transferEndpoint);
          let param = row.indexOf(semaLogicCommand.transferParam);
          const endCommand = row.lastIndexOf(semaLogicCommand.command_end);
          if (param < 0) {
            param = endCommand;
          }
          if (transfer <= 0) {
          } else {
            transferString = row.substring(transfer + semaLogicCommand.transfer.length + 1, endpoint);
            transferString = transferString.trimEnd();
            if (endpoint > 0) {
              endpointString = row.substring(endpoint + 1 + semaLogicCommand.transferEndpoint.length, param);
              endpointString = endpointString.trimEnd();
            }
            if (param > 0 && param != endCommand) {
              paramString = row.substring(param + 1 + semaLogicCommand.transferParam.length, endCommand);
              paramString = paramString.trimEnd();
            }
            let paramParsedCommand = {
              outputformat: transferString,
              endpoint: endpointString,
              param: paramString
            };
            if (parseInitial) {
              parseInitial = false;
              parseCommands.commands[0] = paramParsedCommand;
            } else {
              parseCommands.commands.push(paramParsedCommand);
            }
          }
        }
      });
    }
    return parseCommands;
  }
  async aspParse(slComm, settings, aspJsonParsedSemaLogic, RequestTime) {
    slconsolelog(DebugLevMap.DebugLevel_Current_Dev, this.slComm.slview, "Start Transfer_Parse");
    let vAPI_URL = "";
    const parseCommands = this.getASPCommands(slComm, settings);
    parseCommands.commands.forEach((parseCommands2) => {
      if (parseCommands2.outputformat == RulesettypesCommands[Rstypes_ASP][1] || parseCommands2.outputformat == RulesettypesCommands[Rstypes_ASP][0]) {
        vAPI_URL = getHostAspPort(settings, parseCommands2);
      } else {
        vAPI_URL = parseCommands2.endpoint;
        if (parseCommands2.param != void 0) {
          if (parseCommands2.param.length > 0) {
            vAPI_URL = vAPI_URL + "?" + parseCommands2.param;
          }
        }
        slconsolelog(DebugLevMap.DebugLevel_Current_Dev, this.slComm.slview, "Transfer URL: ", vAPI_URL);
      }
      let optionsParse = this.createRequest(this.slComm, settings, vAPI_URL, "POST", "json", true, aspJsonParsedSemaLogic);
      this.Resp(optionsParse, vAPI_URL, RequestTime);
    });
  }
  async Resp(optionsParse, vAPI_URL, RequestTime) {
    try {
      slconsolelog(DebugLevMap.DebugLevel_Important, this.slComm.slview, "ASP: want to parse ", optionsParse);
      const responseParse = await (0, import_obsidian4.requestUrl)(optionsParse);
      const remJson = responseParse.text;
      slconsolelog(DebugLevMap.DebugLevel_Important, this.slComm.slview, "ASP: Parse with http-status " + responseParse.status.toString());
      if (responseParse.status == 200) {
        if (this.slComm.slaspview.LastRequestTime == RequestTime) {
          let resulthttp = responseParse.text;
          this.setNewASPInitial(true);
          this.contentEl.createEl("br");
          this.contentEl.createEl("span", "---------------------------------------------------------");
          this.contentEl.createEl("br");
          resulthttp = resulthttp.replaceAll("[", "[\n");
          resulthttp = resulthttp.replaceAll("]", "\n]");
          resulthttp = resulthttp.replaceAll(",", ",\n");
          let resulthttpArray = resulthttp.split("\n");
          resulthttpArray.forEach((element) => {
            this.contentEl.append(element);
            this.contentEl.createEl("br");
          });
          slconsolelog(DebugLevMap.DebugLevel_Chatty, this.slComm.slview, `ASP-Parseresult:${resulthttp}`);
        } else {
          slconsolelog(DebugLevMap.DebugLevel_Current_Dev, this.slComm.slview, `Old_ASP-Request: ${RequestTime} vs ${this.slComm.slaspview.LastRequestTime}`);
        }
      }
    } catch (e) {
      slconsolelog(DebugLevMap.DebugLevel_Error, this.slComm.slview, `Catcherror of removing context ${vAPI_URL}`);
      slconsolelog(DebugLevMap.DebugLevel_Error, this.slComm.slview, e.toString());
      let text = new DocumentFragment();
      text.createEl("p");
      let textfragment = new Range().createContextualFragment(e.toString());
      text.appendChild(textfragment);
      text.createEl("p");
      textfragment = new Range().createContextualFragment("See for information about the error-code of http: https://de.wikipedia.org/wiki/HTTP-Statuscode ");
      text.append(textfragment);
      text.createEl("p");
      textfragment = new Range().createContextualFragment(optionsParse.url);
      text.append(textfragment);
      text.createEl("p");
      textfragment = new Range().createContextualFragment(String(optionsParse.body));
      text.append(textfragment);
      this.contentEl.empty();
      this.contentEl.createEl("br");
      this.contentEl.append(text);
    }
  }
};

// main.ts
var import_view3 = require("@codemirror/view");

// src/template.ts
var import_obsidian5 = require("obsidian");
async function createTemplateFolder(vault) {
  const templ = {
    folder: [
      {
        name: slTemplate["PathCommands"],
        files: [
          {
            name: "SL_Transfer",
            content: "SemaLogic(transfer %1 to endpoint %2 with param %3 )"
          },
          {
            name: "SL_ShowHelp",
            content: "SemaLogic(show help)"
          },
          {
            name: "SL_ShowVersion",
            content: "SemaLogic(show version)"
          },
          {
            name: "SL_TableDefine",
            content: "SemaLogic(define table)"
          },
          {
            name: "SL_Show",
            content: "SemaLogic(show as %1 for %2)"
          }
        ]
      },
      {
        name: slTemplate["PathSymTokenComparison"],
        files: [
          {
            name: "SymTokenCompEqual",
            content: "=="
          },
          {
            name: "SymTokenCompGreater",
            content: ">"
          },
          {
            name: "SymTokenCompGreaterEqual",
            content: ">="
          },
          {
            name: "SymTokenCompLess",
            content: "<"
          },
          {
            name: "SymTokenCompLessEqual",
            content: "<="
          },
          {
            name: "SymTokenCompNotEqual",
            content: "!="
          }
        ]
      },
      {
        name: slTemplate["PathSymTokenElements"],
        files: [
          {
            name: "SymTokenAnnounced",
            content: "%"
          },
          {
            name: "SymTokenAttribute",
            content: "$"
          },
          {
            name: "SymTokenCommentEnd",
            content: "*/"
          },
          {
            name: "SymTokenCommentStart",
            content: "/*"
          },
          {
            name: "SymTokenElement",
            content: ","
          },
          {
            name: "SymTokenEOL",
            content: "\n"
          },
          {
            name: "SymTokenEoS",
            content: ";"
          },
          {
            name: "SymTokenEqual",
            content: "\u2261"
          },
          {
            name: "SymTokenFilter",
            content: "\u25BC"
          },
          {
            name: "SymTokenGlobalMax",
            content: "+\u221E"
          },
          {
            name: "SymTokenGlobalMin",
            content: "-\u221E"
          },
          {
            name: "SymTokenIDDevider",
            content: "."
          },
          {
            name: "SymTokenInstance",
            content: "@"
          },
          {
            name: "SymTokenInterval",
            content: "|"
          },
          {
            name: "SymTokenLimit",
            content: "\u0141"
          },
          {
            name: "SymTokenLineComment",
            content: "//"
          },
          {
            name: "SymTokenReverseIDDevider",
            content: ":"
          },
          {
            name: "SymTokenSpace",
            content: " "
          },
          {
            name: "SymTokenVersion",
            content: "#"
          }
        ]
      },
      {
        name: slTemplate["PathSymTokenFunc"],
        files: [
          {
            name: "FuncTokenCount",
            content: "Count"
          },
          {
            name: "FuncTokenMax",
            content: "Max"
          },
          {
            name: "FuncTokenMean",
            content: "Mean"
          },
          {
            name: "FuncTokenMin",
            content: "Min"
          },
          {
            name: "FuncTokenSum",
            content: "Sum"
          },
          {
            name: "FuncTokenUnDef",
            content: "_FuncUndef"
          }
        ]
      },
      {
        name: slTemplate["PathSymTokenMath"],
        files: [
          {
            name: "SymTokenFunctionClose",
            content: ")"
          },
          {
            name: "SymTokenFunctionOpen",
            content: "("
          },
          {
            name: "SymTokenOpDivide",
            content: "/"
          },
          {
            name: "SymTokenOpMinus",
            content: "-"
          },
          {
            name: "SymTokenOpMultiply",
            content: "*"
          },
          {
            name: "SymTokenOpPlus",
            content: "+"
          }
        ]
      },
      {
        name: slTemplate["PathSymTokenRefToken"],
        files: [
          {
            name: "RefTokenAll",
            content: "All"
          },
          {
            name: "RefTokenAnnounced",
            content: "Announced"
          },
          {
            name: "RefTokenChild",
            content: "Child"
          },
          {
            name: "RefTokenLeaf",
            content: "Leaf"
          },
          {
            name: "RefTokenRange",
            content: "Range"
          },
          {
            name: "RefTokenThis",
            content: "This"
          },
          {
            name: "RefTokenUnder",
            content: "Under"
          },
          {
            name: "RefTokenUsed",
            content: "Used"
          },
          {
            name: "RefTokenValue",
            content: "Value"
          }
        ]
      },
      {
        name: slTemplate["PathSymTokenTerms"],
        files: [
          {
            name: "SymTokenAdviceClose",
            content: "!"
          },
          {
            name: "SymTokenAdviceOpen",
            content: "\xA1"
          },
          {
            name: "SymTokenAndClose",
            content: "]"
          },
          {
            name: "SymTokenAndOpen",
            content: "["
          },
          {
            name: "SymTokenCheckClose",
            content: "?"
          },
          {
            name: "SymTokenCheckOpen",
            content: "\xBF"
          },
          {
            name: "SymTokenDialectDefine",
            content: "\u2261"
          },
          {
            name: "SymTokenEqual",
            content: ":="
          },
          {
            name: "SymTokenGroup",
            content: "~"
          },
          {
            name: "SymTokenOrClose",
            content: "}"
          },
          {
            name: "SymTokenOrOpen",
            content: "{"
          },
          {
            name: "SymTokenTimeAfter",
            content: "\u21FD"
          },
          {
            name: "SymTokenTimeBefore",
            content: "\u21FE"
          },
          {
            name: "SymTokenTimeParallelAfter",
            content: "\u2962"
          },
          {
            name: "SymTokenTimeParallelBefore",
            content: "\u2964"
          }
        ]
      }
    ]
  };
  for (var myfolder = 0; myfolder < templ.folder.length; myfolder++) {
    for (var myfile = 0; myfile < templ.folder[myfolder].files.length; myfile++) {
      vault.createFolder(templ.folder[myfolder].name).catch((error) => console.log(error));
      vault.create(
        (0, import_obsidian5.normalizePath)(templ.folder[myfolder].name + "/" + templ.folder[myfolder].files[myfile].name + ".md"),
        templ.folder[myfolder].files[myfile].content
      ).catch((error) => console.log(error));
    }
  }
}

// src/examples.ts
var import_obsidian6 = require("obsidian");
async function createExamples(vault) {
  const templ = {
    folder: [
      {
        name: slTemplate["PathExamplesBasic"],
        files: [
          {
            name: "00_Overview",
            content: "In the next exmaple files there are a few and simple examples to use SemaLogic for biulding semantic logical rulesets. In general the examples should show the operating principle opf SemaLogic and have in mind that the characters of the syntax of the technical language could be replaced by formal (more natural) language as it shown in example from 30 up. \n\n0x - 1x: Simple rules and some of the functionalties\n2x - 3x: Cascading rules and combining with functions\n4x - 5x: Formal language examples\n8x     : Additional technical information for values and so on\n 9x     : Little Glossar for SymTokens\n\n\nPlease keep in mind that this examples are work in progress and we try to expand them to show all the functionality of SemaLogic in future releases of this plugin. \n\nWe also working on [our website](www.SemaLogic.de) - which is currently only available in german -  and are writing an official document for all syntax and structures you are able to use in SemaLogic now and about planned funtionalities. But we can not do everything at the same time.\n\nTechnical Information for using SemaLogic in obsidian: With ALT + T you can access to the SemaLogicToken-Templates !"
          },
          {
            name: "01_AND-Rules",
            content: "Defining a simple and-rule in standard technical language : A is true - if B,C and D are true \n\n---\n\nA [B, C, D]\n"
          },
          {
            name: "02_OR-Rules",
            content: "Defining a simple or-rule in standard technical language : A is true - if B,C or D are true \n\n---\n\nA 1|1 {B, C, D}\n\nIn an OR-Rule it is possible to define how many of the symbols (B,C,D) must be true with the number before and after the pipe-symbol.\n\nE 1|2 {E,F,G}\n\nThis OR-Rule means that one or two of the three symbols (E,F,G) must be true, so that E ist true. If none of the symbols is true or all of them, E will be false as well.\nIf you don't use from|to in an or-rule then it is replaced by from one to all symbols - what means that a minimum of one of the symbols has to be true so that E is true. "
          },
          {
            name: "03_Groups",
            content: "If you don't want to reuse some symbols with in different rule, it it possible to define groups which will be inserted in rules instead of the groups name\n\n---\n\nMyGroup ~ Elem1, Elem2, Elem3 ~\nMyOptions 1|1 {MyGroup}\n"
          },
          {
            name: "04_Dynamic groups",
            content: "It is also possible to define groups for using them in rules, even if you do not know which symbols are in by using an interval.Then the members of the group are defined by the rules dynamically.\n\n---\n\nMyGroup ~ Elem1|Elem4 ~\nElem2 [A,B]\nELem4 {C,D}\nMyOptions 1|1 {MyGroup}\n\nIn this case the ruleset only knows the symbols Elem2 and Elem4, which are inherited by the interval from Elem1 till Elem4. So the group is replaced by Eleem2 and Elem4.\n"
          },
          {
            name: "05_Time dependencies",
            content: "It it possible to define time dependencies for the used symbols. So the results have to be 'time ordered'. \n\n---\n\nA \u21FE B;\nThis means that in a solution A must be sorted before B and in combination with time lines it means that A have to be fullfilled completely before B begins.\n\nA \u2964 B;\nThis means that in a solution A must be sorted before B and in combination with time lines it means that A have to be fullfilled completely before B ends.\n\nIf you want to define this time dependencies vice versa you could use for after \u21FD or for parallel after \u2962.\n"
          },
          {
            name: "10_Values",
            content: "There are a lot of possibilites to put values to the attributes of a symbol or the symbol itself.\n\n---\n\nA.attrib \u2261 15\n\nThis statement will put a value of 15 to the attribute attrib of the symbol A. For example you can define a symbol Germany and put a tax rate to this symbol like Germay.Sales Tax = 19\n"
          },
          {
            name: "15_Using Tables",
            content: "You can reading tables in many different variants to upload rules and relations \n\n---\n\n   SemaLogic(Define Ntable, header((module_exam_number_\u2026), [exam_number_\u2026]), order(1, 2))\n\n| module_exam_number | exam_number |\n| ------------------ | ----------- |\n| 1032 | 10321 |\n| 1030 | 10311 |\n| 1021 | 10213 |\n| 1021 | 10215 |\n| 1021 | 10216 |\n\n "
          },
          {
            name: "20_Cascading rules",
            content: "It is possible to cascade rule only by using same symbolname for a new rule : \nA is true - if B or C is true; \nB is true - if B1 or B2 is true\n C is true - if C1 and C2 are true \n\n---\n\nA [B, C]\nB {B1 , B2}\nC [C1 , C2]"
          },
          {
            name: "40_Formal Language",
            content: "It is possible replace technical Symtokens for using formal language,\nso it ispossible to change dialects as you want with words you use - offical dialects are under development  \n\n---\n\nDas Studium besteht aus einer Abschlussarbeit und umfasst Fachsemester 1 bis Fachsemester 4 als Elemente.\n\n\nSymTokenSpace\u2261einer \nSymTokenSpace\u2261Das \nSymTokenInterval\u2261bis \nSymTokenGroup\u2261 umfasst\nSymTokenGroup\u2261 als Elemente\nSymTokenAndOpen\u2261 besteht aus\nSymTokenElement\u2261 und\nSymTokenAndClose\u2261.\nSymTokenOrClose\u2261.\n"
          }
        ]
      }
    ]
  };
  for (var myfolder = 0; myfolder < templ.folder.length; myfolder++) {
    for (var myfile = 0; myfile < templ.folder[myfolder].files.length; myfile++) {
      vault.createFolder(templ.folder[myfolder].name).catch((error) => console.log(error));
      vault.create(
        (0, import_obsidian6.normalizePath)(templ.folder[myfolder].name + "/" + templ.folder[myfolder].files[myfile].name + ".md"),
        templ.folder[myfolder].files[myfile].content
      ).catch((error) => console.log(error));
    }
  }
}

// main.ts
var DebugLevel = 0;
var mygSID = String(Math.round(Math.random() * 99999999999));
var Default_profile = {
  mySLSettings: [
    {
      myPort: API_Defaults.Port,
      myOutputFormat: "SemaLogic",
      myBaseURL: API_Defaults.Base_URL,
      myGetAPI: API_Defaults.GetAPI,
      mySID: API_Defaults.SID,
      myContext: API_Defaults.ShowContext,
      myUseHttps: API_Defaults.useUserPasswortforHTTP,
      myUser: API_Defaults.HttpUser,
      myPassword: API_Defaults.HttpPassword,
      myUpdateInterval: Value_Defaults.updateInterval,
      myAspUrl: API_Defaults.AspUrl,
      myAspEndpoint: API_Defaults.AspEndpoint,
      myUseHttpsSL: API_Defaults.useUserPasswortforHTTPSL,
      myUserSL: API_Defaults.HttpUserSL,
      myPasswordSL: API_Defaults.HttpPasswordSL
    },
    {
      myPort: API_Defaults.Port,
      myOutputFormat: "SemaLogic",
      myBaseURL: API_Defaults.Base_URL,
      myGetAPI: API_Defaults.GetAPI,
      mySID: API_Defaults.SID,
      myContext: API_Defaults.ShowContext,
      myUseHttps: API_Defaults.useUserPasswortforHTTP,
      myUser: API_Defaults.HttpUser,
      myPassword: API_Defaults.HttpPassword,
      myUpdateInterval: Value_Defaults.updateInterval,
      myAspUrl: API_Defaults.AspUrl,
      myAspEndpoint: API_Defaults.AspEndpoint,
      myUseHttpsSL: API_Defaults.useUserPasswortforHTTPSL,
      myUserSL: API_Defaults.HttpUserSL,
      myPasswordSL: API_Defaults.HttpPasswordSL
    },
    {
      myPort: API_Defaults.Port,
      myOutputFormat: "SemaLogic",
      myBaseURL: API_Defaults.Base_URL,
      myGetAPI: API_Defaults.GetAPI,
      mySID: API_Defaults.SID,
      myContext: API_Defaults.ShowContext,
      myUseHttps: API_Defaults.useUserPasswortforHTTP,
      myUser: API_Defaults.HttpUser,
      myPassword: API_Defaults.HttpPassword,
      myUpdateInterval: Value_Defaults.updateInterval,
      myAspUrl: API_Defaults.AspUrl,
      myAspEndpoint: API_Defaults.AspEndpoint,
      myUseHttpsSL: API_Defaults.useUserPasswortforHTTPSL,
      myUserSL: API_Defaults.HttpUserSL,
      myPasswordSL: API_Defaults.HttpPasswordSL
    }
  ],
  mySetting: 0,
  myDebugLevel: 0
};
var SemaLogicSettingTab = class extends import_obsidian7.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for SemaLogic:" });
    new import_obsidian7.Setting(containerEl).setName("General DebugLevel").setDesc("You can set a DebugLevel for Developmentinformation").addDropdown((dropDown) => dropDown.addOption("0", DebugLevelNames[0]).addOption("1", DebugLevelNames[1]).addOption("2", DebugLevelNames[2]).addOption("3", DebugLevelNames[3]).addOption("4", DebugLevelNames[4]).addOption("5", DebugLevelNames[5]).setValue(String(this.plugin.settings.myDebugLevel)).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_High, void 0, "Set DebugLevel: " + DebugLevelNames[parseInt(value)]);
      this.plugin.settings.myDebugLevel = parseInt(value);
      DebugLevel = parseInt(value);
      await this.plugin.saveSettings();
      this.display();
    }));
    new import_obsidian7.Setting(containerEl).setName("Change your setting profile").setDesc("You can define different profiles for your SemaLogicService").addDropdown((dropDown) => dropDown.addOption("0", "Profile 1").addOption("1", "Profile 2").addOption("2", "Profile 3").setValue(this.plugin.settings.mySetting.toString()).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_High, void 0, "Set Profile: " + value);
      this.plugin.settings.mySetting = parseInt(value);
      this.display();
      await this.plugin.saveSettings();
    }));
    new import_obsidian7.Setting(containerEl).setName("Standard updateinterval").addText((setting) => setting.setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUpdateInterval.toString()).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set Update Interval: " + value);
      this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUpdateInterval = parseInt(value);
      window.clearInterval(this.plugin.interval);
      this.plugin.registerInterval(
        this.plugin.interval = window.setInterval(this.plugin.handleUpdate, this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUpdateInterval)
      );
      await this.plugin.saveSettings();
    }));
    new import_obsidian7.Setting(containerEl).setName("BaseUrl").setDesc("BaseURL for reaching SemaLogicService").addText((text) => text.setPlaceholder(API_Defaults.Base_URL).setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myBaseURL).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set BaseURL: " + value);
      this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myBaseURL = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian7.Setting(containerEl).setName("Path to Get-API-Endpoints").setDesc("Path to Get-API for more Information about the Endpoints of used APIs").addText((text) => text.setPlaceholder(API_Defaults.GetAPI).setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myGetAPI).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set to Get-API-Endpoint: " + value);
      this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myGetAPI = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian7.Setting(containerEl).setName("Port SemaLogic").setDesc("Enter the Port").addText((text) => text.setPlaceholder(API_Defaults.Port).setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myPort).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set to Port: " + value);
      this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myPort = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian7.Setting(containerEl).setName("OutputFormat").setDesc("Here you can set the outputformat for SemaLogic, which could be get from SemaLogicService").addDropdown((dropDown) => dropDown.addOption(RulesettypesCommands[Rstypes_Semalogic][1], RulesettypesCommands[Rstypes_Semalogic][0]).addOption(RulesettypesCommands[Rstypes_ASP][1], RulesettypesCommands[Rstypes_ASP][0]).addOption(RulesettypesCommands[Rstypes_Picture][1], RulesettypesCommands[Rstypes_Picture][0]).addOption(RulesettypesCommands[Rstypes_SemanticTree][1], RulesettypesCommands[Rstypes_SemanticTree][0]).addOption(RulesettypesCommands[Rstypes_KnowledgeGraph][1], RulesettypesCommands[Rstypes_KnowledgeGraph][0]).setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myOutputFormat).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set Outputformat: " + value);
      this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myOutputFormat = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian7.Setting(containerEl).setName("Secure HTTP-Request SemaLogic").setDesc("If you has to use User/Password for http-request to the semalogic service").addToggle((setting) => setting.setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUseHttpsSL).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set UserPasswordRequest: " + value);
      this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUseHttpsSL = value;
      await this.plugin.saveSettings();
      this.display();
    }));
    if (this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUseHttpsSL) {
      new import_obsidian7.Setting(containerEl).setName("HTTP-Request-User").setDesc("User to reach transfer service").addText((text) => text.setPlaceholder(API_Defaults.HttpUserSL).setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUserSL).onChange(async (value) => {
        slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set HTTP-Request-User...");
        this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUserSL = value;
        await this.plugin.saveSettings();
      }));
      new import_obsidian7.Setting(containerEl).setName("HTTP-Request-Password").setDesc("Password to reach transfer service").addText((text) => text.setPlaceholder(API_Defaults.HttpPasswordSL).setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myPasswordSL).onChange(async (value) => {
        slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set HTTP-Request-Password...");
        this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myPasswordSL = value;
        await this.plugin.saveSettings();
      }));
    }
    new import_obsidian7.Setting(containerEl).setName("Show Context in Reading View").addToggle((setting) => setting.setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myContext).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set Context of Reading View: " + value);
      this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myContext = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h1", { text: "_______________________________" });
    containerEl.createEl("h2", { text: "Settings for Transfer/ASP-View:" });
    new import_obsidian7.Setting(containerEl).setName("BaseUrl for Transfer/ASP").setDesc("BaseURL for reaching Transfer/ASP-Service").addText((text) => text.setPlaceholder(API_Defaults.AspUrl).setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myAspUrl).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set Transfer/ASP-BaseURL: " + value);
      this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myAspUrl = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian7.Setting(containerEl).setName("Path to Get-Transfer/ASP-StandardAPI-Endpoint").setDesc("Path to Transfer/ASP-Standard-API ").addText((text) => text.setPlaceholder(API_Defaults.AspEndpoint).setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myAspEndpoint).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set to Transfer/ASP-Standard-API-Endpoint: " + value);
      this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myAspEndpoint = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian7.Setting(containerEl).setName("Secure HTTP-Request").setDesc("If you has to use User/Password for http-request to the transfer service").addToggle((setting) => setting.setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUseHttps).onChange(async (value) => {
      slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set UserPasswordRequest: " + value);
      this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUseHttps = value;
      await this.plugin.saveSettings();
      this.display();
    }));
    if (this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUseHttps) {
      new import_obsidian7.Setting(containerEl).setName("HTTP-Request-User").setDesc("User to reach transfer service").addText((text) => text.setPlaceholder(API_Defaults.HttpUser).setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUser).onChange(async (value) => {
        slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set HTTP-Request-User...");
        this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myUser = value;
        await this.plugin.saveSettings();
      }));
      new import_obsidian7.Setting(containerEl).setName("HTTP-Request-Password").setDesc("Password to reach transfer service").addText((text) => text.setPlaceholder(API_Defaults.HttpPassword).setValue(this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myPassword).onChange(async (value) => {
        slconsolelog(DebugLevMap.DebugLevel_Important, void 0, "Set HTTP-Request-Password...");
        this.plugin.settings.mySLSettings[this.plugin.settings.mySetting].myPassword = value;
        await this.plugin.saveSettings();
      }));
    }
  }
};
var SemaLogicPluginComm2 = class {
  constructor() {
    this.activatedASP = false;
  }
  setSlView(view) {
    this.slview = view;
  }
  setSLClass(slclass) {
    this.slPlugin = slclass;
  }
  add(a, b) {
    return a + b;
  }
};
var SemaLogicPlugin = class extends import_obsidian7.Plugin {
  constructor() {
    super(...arguments);
    this.activated = false;
    this.updating = false;
    this.lastUpdate = 0;
    this.updateOutstanding = false;
    this.updateTransferOutstanding = false;
    this.updateOutstandingSetting = false;
    this.waitingForResponse = false;
    this.UpdateProcessing = false;
    this.view_utils = new ViewUtils();
    this.handleUpdate = (update) => {
      if (this.statusSL) {
        const text = "Updatetime/" + String(Date.now()) + "/" + String(this.lastUpdate) + "/" + String(Date.now() - this.lastUpdate) + "/" + String(this.updateOutstanding) + "/" + String(this.waitingForResponse);
        slconsolelog(DebugLevMap.DebugLevel_Current_Dev, this.slComm.slview, text);
        if (update == null) {
        } else {
          if (update.view) {
            if (!update.docChanged && !update.focusChanged) {
              return;
            } else {
              if (this.UpdateProcessing == false) {
                slconsolelog(DebugLevMap.DebugLevel_Current_Dev, this.slComm.slview, "Start Update docChanged, focuschanged, UpdProc  " + String(update.docChanged) + "/" + String(update.focusChanged) + "/" + String(this.UpdateProcessing));
                this.semaLogicUpdate();
              }
            }
          }
        }
        if (Date.now() - this.lastUpdate > this.settings.mySLSettings[this.settings.mySetting].myUpdateInterval && (this.updateOutstanding == true || this.updateTransferOutstanding == true) && this.waitingForResponse == false) {
          slconsolelog(DebugLevMap.DebugLevel_Current_Dev, this.slComm.slview, "Start Update PARSING");
          this.lastUpdate = Date.now();
          this.semaLogicUpdate();
        } else if (Date.now() - this.lastUpdate > this.settings.mySLSettings[this.settings.mySetting].myUpdateInterval && this.updateOutstanding == true && this.waitingForResponse == false) {
          semaLogicPing(this.settings, this.lastUpdate);
        }
      }
    };
  }
  getContextFromLine(mydialectID) {
    mydialectID = mydialectID.replace("SemaLogicContext\u2261", "SemaLogicDialect\u2261");
    let re = /\t/gi;
    mydialectID = mydialectID.replace(re, "");
    re = /\n/gi;
    mydialectID = mydialectID.replace(re, "");
    return { mydialectID };
  }
  getActiveView() {
    const activeView = app.workspace.getActiveViewOfType(import_obsidian7.MarkdownView);
    if (activeView === null) {
      if (this.lastactiveView === null) {
        slconsolelog(DebugLevMap.DebugLevel_High, this.slComm.slview, "ActiveView could not be defined through SemaLogic");
        return;
      } else {
        return this.lastactiveView;
      }
    }
    this.lastactiveView = activeView;
    slconsolelog(DebugLevMap.DebugLevel_Important, this.slComm.slview, this.lastactiveView.getDisplayText());
    return this.lastactiveView;
  }
  setViews() {
    this.slComm.activatedASP = false;
    this.app.workspace.iterateAllLeaves((leaf) => {
      switch (leaf.view.getViewType()) {
        case SemaLogicViewType: {
          this.slComm.slview = leaf.view;
          this.slComm.slview.setComm(this.slComm);
          this.slComm.slview.slComm.setSlView(this.slComm.slview);
          this.slComm.slview.slComm.slPlugin = this.slComm.slPlugin;
          this.activated = true;
          this.statusSL = true;
          break;
        }
        case ASPViewType: {
          this.slComm.slaspview = leaf.view;
          this.slComm.slaspview.setComm(this.slComm);
          this.slComm.slaspview.slComm.setSlView(this.slComm.slview);
          this.slComm.slaspview.slComm.slPlugin = this.slComm.slPlugin;
          this.slComm.activatedASP = true;
          this.statusTransfer = true;
          break;
        }
      }
    });
    this.getActiveView();
  }
  async onload() {
    this.registerMarkdownPostProcessor((element, context) => {
      slconsolelog(DebugLevMap.DebugLevel_Chatty, void 0, element);
      slconsolelog(DebugLevMap.DebugLevel_Chatty, void 0, context);
      element.querySelectorAll("p").forEach((el) => {
        if (searchForSemaLogicCommands(el)) {
          let set = this.settings;
          context.addChild(new SemaLogicRenderedElement({ containerEl: el, set }));
        }
      });
    });
    this.addSettingTab(new SemaLogicSettingTab(this.app, this));
    await this.loadSettings();
    DebugLevel = this.settings.myDebugLevel;
    this.myStatus = this.addStatusBarItem();
    this.slComm = new SemaLogicPluginComm2();
    this.slComm.setSLClass(this);
    this.activateView();
    await this.semaLogicReset();
    this.setViews();
    this.addRibbonIcon("book", "On/Off SemaLogic.View", () => {
      this.setViews();
      if (this.activated == false) {
        this.statusSL = true;
        if (!this.activated) {
          this.activateView();
        }
      } else {
        this.statusSL = false;
        this.deactivateView();
      }
    });
    this.addRibbonIcon("dice", "On/Off Transfer.View", () => {
      this.setViews();
      if (this.slComm != void 0) {
        if (this.slComm.activatedASP == false) {
          this.activateASPView();
        } else {
          this.deactivateASPView();
        }
      }
    });
    this.addCommand({
      id: "sl_create_template",
      name: "SemaLogic create template",
      callback: () => {
        createTemplateFolder(app.vault);
        createExamples(app.vault);
      }
    });
    if (this.statusSL) {
      this.semaLogicReset();
      this.slComm.slview.setNewInitial(this.settings.mySLSettings[this.settings.mySetting].myOutputFormat, true);
      this.semaLogicParse();
    }
    this.registerInterval(
      this.interval = window.setInterval(this.handleUpdate, this.settings.mySLSettings[this.settings.mySetting].myUpdateInterval)
    );
    this.registerEditorExtension([import_view3.EditorView.updateListener.of(this.handleUpdate)]);
  }
  async semaLogicParse() {
    this.setViews();
    slconsolelog(DebugLevMap.DebugLevel_, this.slComm.slview, "Start SemaLogicParse");
    let results = [];
    this.lastUpdate = Date.now();
    await semaLogicPing(this.settings, this.lastUpdate);
    let vAPI_URL = getHostPort(this.settings) + API_Defaults.rules_parse + "?sid=" + mygSID;
    slconsolelog(DebugLevMap.DebugLevel_Important, this.slComm.slview, vAPI_URL);
    let bodytext = "";
    let activeView = this.getActiveView();
    if (activeView != void 0) {
      this.slComm.slUsedMDView = activeView;
    }
    let dialectID = "default";
    let codeblock = false;
    let newCodeblock = false;
    if (activeView != null) {
      slconsolelog(DebugLevMap.DebugLevel_Chatty, this.slComm.slview, "ActiveView is not NULL");
      for (let i = 0; i < activeView.editor.lineCount(); i++) {
        slconsolelog(DebugLevMap.DebugLevel_All, this.slComm.slview, i, ";", activeView.editor.getLine(i));
        slconsolelog(DebugLevMap.DebugLevel_All, this.slComm.slview, "Substring:", activeView.editor.getLine(i).substring(0, 2));
        if (activeView.editor.getLine(i).substring(0, 3) == "```") {
          if (!codeblock) {
            codeblock = true;
            newCodeblock = true;
            slconsolelog(DebugLevMap.DebugLevel_Chatty, this.slComm.slview, "Current line is Codeblock: " + i.toString(), codeblock);
          } else {
            newCodeblock = false;
          }
        }
        if (!codeblock && !newCodeblock) {
          bodytext = bodytext.concat(activeView.editor.getLine(i) + "\n");
        } else {
          switch (activeView.editor.getLine(i).substring(0, semaLogicCommand.useDialect.length)) {
            case semaLogicCommand.useDialect: {
              dialectID = activeView.editor.getLine(i).substring(semaLogicCommand.useDialect.length, activeView.editor.getLine(i).length - 1);
              dialectID = dialectID.trim();
              break;
            }
            default: {
            }
          }
        }
        if (i < activeView.editor.lineCount()) {
          if (activeView.editor.getLine(i).substring(0, 3) == "```") {
            if (codeblock && !newCodeblock) {
              codeblock = false;
            } else {
              newCodeblock = false;
            }
          }
        }
      }
    }
    bodytext = this.view_utils.cleanCommands(bodytext);
    if (dialectID == "") {
      dialectID = "default";
    }
    slconsolelog(DebugLevMap.DebugLevel_Chatty, void 0, "Parsingresult for SemaLogicView");
    const responseForSemaLogic = this.slComm.slview.getSemaLogicParse(this.settings, vAPI_URL, dialectID, bodytext, false);
    responseForSemaLogic.then((value) => {
      slconsolelog(DebugLevMap.DebugLevel_Chatty, void 0, value);
    });
    if (this.slComm.activatedASP) {
      if (Date.now() - this.slComm.slaspview.LastRequestTime >= this.settings.mySLSettings[this.settings.mySetting].myUpdateInterval) {
        this.slComm.slaspview.LastRequestTime = Date.now();
        slconsolelog(DebugLevMap.DebugLevel_Current_Dev, this.slComm.slview, `Set-Requesttime: ${this.slComm.slaspview.LastRequestTime}`);
        this.updateTransferOutstanding = false;
        let outputFormat = RulesettypesCommands[Rstypes_ASP][1];
        const responseForASP = this.slComm.slview.getSemaLogicParse(this.settings, vAPI_URL, dialectID, bodytext, true, outputFormat);
        responseForASP.then((value) => {
          slconsolelog(DebugLevMap.DebugLevel_Chatty, this.slComm.slview, value);
          const aspPromise = this.slComm.slaspview.aspParse(this.slComm, this.settings, value, this.slComm.slaspview.LastRequestTime);
          aspPromise.then((value2) => {
            if (value2 != void 0) {
              slconsolelog(DebugLevMap.DebugLevel_Current_Dev, this.slComm.slview, value2);
            }
          });
        });
      } else {
        this.updateTransferOutstanding = true;
      }
    }
    return results;
  }
  async activateASPView() {
    if (this.slComm.slaspview == void 0) {
      this.registerView(
        ASPViewType,
        (leaf2) => new ASPView(leaf2)
      );
    }
    const leaf = this.GetAspLeaf();
    if (leaf != void 0) {
      leaf.setViewState({
        type: ASPViewType,
        active: false
      });
      await this.semaLogicReset();
      this.app.workspace.revealLeaf(leaf);
    } else {
      slconsolelog(DebugLevMap.DebugLevel_Chatty, void 0, "ASP-Leaf not created");
    }
    this.setViews();
    this.handlePing();
    this.statusTransfer = true;
    this.semaLogicUpdate();
    this.myStatus.setText("ASP is on");
  }
  async activateView() {
    if (this.slComm.slview == void 0) {
      this.registerView(
        SemaLogicViewType,
        (leaf2) => new SemaLogicView2(leaf2)
      );
    }
    const leaf = this.GetSemaLogicLeaf();
    if (leaf != void 0) {
      leaf.setViewState({
        type: SemaLogicViewType,
        active: false
      });
      await this.semaLogicReset();
      this.app.workspace.revealLeaf(leaf);
    } else {
      slconsolelog(DebugLevMap.DebugLevel_Chatty, void 0, "SemaLogic-Leaf not created");
    }
    this.setViews();
    this.handlePing();
    this.semaLogicUpdate();
    this.myStatus.setText("SemaLogic is on");
  }
  async deactivateASPView() {
    this.app.workspace.detachLeavesOfType(ASPViewType);
    this.slComm.activatedASP = false;
    this.statusTransfer = true;
    this.myStatus.setText("ASP is off");
  }
  async deactivateView() {
    this.app.workspace.detachLeavesOfType(SemaLogicViewType);
    this.activated = false;
    this.slComm.slview.unload();
    this.myStatus.setText("SemaLogic is off");
  }
  GetAspLeaf() {
    let found = false;
    let slv = void 0;
    this.app.workspace.iterateAllLeaves((leaf) => {
      if (!found) {
        switch (leaf.view.getViewType()) {
          case ASPViewType: {
            found = true;
            slv = leaf;
          }
        }
      }
    });
    if (!found) {
      slconsolelog(DebugLevMap.DebugLevel_All, void 0, "Split");
      slv = this.app.workspace.getLeaf("split");
      slconsolelog(DebugLevMap.DebugLevel_All, void 0, slv);
    }
    return slv;
  }
  GetSemaLogicLeaf() {
    let found = false;
    let slv = void 0;
    this.app.workspace.iterateAllLeaves((leaf) => {
      if (!found) {
        switch (leaf.view.getViewType()) {
          case SemaLogicViewType: {
            found = true;
            slv = leaf;
          }
        }
      }
    });
    if (!found) {
      slconsolelog(DebugLevMap.DebugLevel_All, void 0, "Split");
      slv = this.app.workspace.getLeaf("split");
      slconsolelog(DebugLevMap.DebugLevel_All, void 0, slv);
    }
    return slv;
  }
  async onunload() {
    this.app.workspace.detachLeavesOfType(ASPViewType);
  }
  async loadSettings() {
    this.settings = Object.assign({}, Default_profile, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    if (this.slComm.slview != void 0) {
      this.slComm.slview.setNewInitial(this.settings.mySLSettings[this.settings.mySetting].myOutputFormat, false);
    }
    this.updateOutstanding = true;
  }
  handlePing() {
    semaLogicPing(this.settings, this.lastUpdate);
  }
  semaLogicUpdate(setView) {
    this.waitingForResponse = true;
    this.UpdateProcessing = true;
    if (setView == true || setView == void 0) {
      this.setViews();
    }
    slconsolelog(DebugLevMap.DebugLevel_Chatty, this.slComm.slview, "Start SemaLogicUpdate");
    this.setViews();
    let activeView = this.getActiveView();
    this.semaLogicParse();
    if (!this.updating) {
      this.updating = true;
      this.updating = false;
    }
    this.UpdateProcessing = false;
    this.waitingForResponse = false;
  }
  getSemaLogicText() {
    if (this.slComm.slview.contentEl.textContent == null) {
      return "";
    } else {
      return this.slComm.slview.getContent();
    }
  }
  async semaLogicReset() {
    let vAPI_URL_Reset = getHostPort(this.settings) + API_Defaults.reset + "?sid=" + mygSID;
    let optionsReset;
    if (this.settings.mySLSettings[this.settings.mySetting].myUseHttpsSL && this.settings.mySLSettings[this.settings.mySetting].myUserSL != "") {
      optionsReset = {
        url: vAPI_URL_Reset,
        method: "POST",
        headers: {
          "content-type": "text/plain",
          "Authorization": "Basic " + btoa(this.settings.mySLSettings[this.settings.mySetting].myUserSL + ":" + this.settings.mySLSettings[this.settings.mySetting].myPasswordSL)
        }
      };
    } else {
      optionsReset = {
        url: vAPI_URL_Reset,
        method: "POST",
        headers: {
          "content-type": "text/plain"
        }
      };
    }
    slconsolelog(DebugLevMap.DebugLevel_Important, this.slComm.slview, optionsReset);
    try {
      const responseReset = await (0, import_obsidian7.requestUrl)(optionsReset);
      slconsolelog(DebugLevMap.DebugLevel_Informative, this.slComm.slview, `SemaLogic: Reset with http-status ${responseReset.status.toString()}`);
    } catch (e) {
      slconsolelog(DebugLevMap.DebugLevel_Error, this.slComm.slview, `Catcherror by reset ${vAPI_URL_Reset}`);
      slconsolelog(DebugLevMap.DebugLevel_Error, this.slComm.slview, e.toString());
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvdmlldy50cyIsICJzcmMvY29uc3QudHMiLCAic3JjL3V0aWxzLnRzIiwgInNyYy92aWV3X3V0aWxzLnRzIiwgInNyYy92aWV3X2FzcC50cyIsICJzcmMvdGVtcGxhdGUudHMiLCAic3JjL2V4YW1wbGVzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIE1hcmtkb3duVmlldywgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCByZXF1ZXN0VXJsLCBTZXR0aW5nLCBXb3Jrc3BhY2VMZWFmLCByZW5kZXJSZXN1bHRzLCBSZXF1ZXN0VXJsUGFyYW0sIFJlcXVlc3RVcmxSZXNwb25zZSwgUmVxdWVzdFVybFJlc3BvbnNlUHJvbWlzZSwgQnV0dG9uQ29tcG9uZW50LCBNYXJrZG93blJlbmRlckNoaWxkLCBNYXJrZG93blByZXZpZXdWaWV3LCBWaWV3IH1cclxuXHRmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFNlbWFMb2dpY1ZpZXcsIFNlbWFMb2dpY1ZpZXdUeXBlIH0gZnJvbSBcIi4vc3JjL3ZpZXdcIjtcclxuaW1wb3J0IHsgQVNQVmlldywgQVNQVmlld1R5cGUgfSBmcm9tIFwiLi9zcmMvdmlld19hc3BcIjtcclxuaW1wb3J0IHsgVmlld1VwZGF0ZSwgRWRpdG9yVmlldyB9IGZyb20gXCJAY29kZW1pcnJvci92aWV3XCI7XHJcbmltcG9ydCB7IFNlbWFMb2dpY1JlbmRlcmVkRWxlbWVudCwgc2VhcmNoRm9yU2VtYUxvZ2ljQ29tbWFuZHMsIGdldEhvc3RQb3J0LCBzZW1hTG9naWNQaW5nLCBzbGNvbnNvbGVsb2cgfSBmcm9tIFwiLi9zcmMvdXRpbHNcIjtcclxuaW1wb3J0IHsgQVBJX0RlZmF1bHRzLCBWYWx1ZV9EZWZhdWx0cywgc2VtYUxvZ2ljQ29tbWFuZCwgUnVsZXNldHR5cGVzQ29tbWFuZHMsIFJzdHlwZXNfU2VtYWxvZ2ljLCBSc3R5cGVzX1BpY3R1cmUsIFJzdHlwZXNfQVNQLCBEZWJ1Z0xldk1hcCwgRGVidWdMZXZlbE5hbWVzLCBSc3R5cGVzX0tub3dsZWRnZUdyYXBoLCBSc3R5cGVzX1NlbWFudGljVHJlZSB9IGZyb20gXCIuL3NyYy9jb25zdFwiXHJcbmltcG9ydCB7IFZpZXdVdGlscyB9IGZyb20gJ3NyYy92aWV3X3V0aWxzJztcclxuaW1wb3J0IHsgY3JlYXRlVGVtcGxhdGVGb2xkZXIgfSBmcm9tICdzcmMvdGVtcGxhdGUnO1xyXG5pbXBvcnQgeyBjcmVhdGVFeGFtcGxlcyB9IGZyb20gJ3NyYy9leGFtcGxlcyc7XHJcbi8vaW1wb3J0IHsgUnN0eXBlc19TZW1hbnRpY1RyZWUgfSBmcm9tICdzcmMvY29uc3Qgb25seSBmb3IgVVAnO1xyXG5cclxuZXhwb3J0IHZhciBEZWJ1Z0xldmVsID0gMDtcclxuXHJcbmV4cG9ydCB2YXIgbXlnU0lEID0gU3RyaW5nKE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDk5OTk5OTk5OTk5KSlcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU0xTZXR0aW5nIHtcclxuXHRteVBvcnQ6IHN0cmluZztcclxuXHRteU91dHB1dEZvcm1hdDogc3RyaW5nO1xyXG5cdG15QmFzZVVSTDogc3RyaW5nO1xyXG5cdG15R2V0QVBJOiBzdHJpbmc7XHJcblx0bXlTSUQ6IHN0cmluZztcclxuXHRteUNvbnRleHQ6IGJvb2xlYW47XHJcblx0bXlVcGRhdGVJbnRlcnZhbDogbnVtYmVyO1xyXG5cdG15VXNlSHR0cHM6IGJvb2xlYW4sXHJcblx0bXlVc2VyOiBzdHJpbmcsXHJcblx0bXlQYXNzd29yZDogc3RyaW5nLFxyXG5cdG15QXNwVXJsOiBzdHJpbmcsXHJcblx0bXlBc3BFbmRwb2ludDogc3RyaW5nLFxyXG5cdG15VXNlSHR0cHNTTDogYm9vbGVhbixcclxuXHRteVVzZXJTTDogc3RyaW5nLFxyXG5cdG15UGFzc3dvcmRTTDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2VtYUxvZ2ljUGx1Z2luU2V0dGluZ3Mge1xyXG5cdG15U0xTZXR0aW5nczogU0xTZXR0aW5nW107XHJcblx0bXlTZXR0aW5nOiBudW1iZXI7XHJcblx0bXlEZWJ1Z0xldmVsOiBudW1iZXI7XHJcbn1cclxuZXhwb3J0IGNvbnN0IERlZmF1bHRfcHJvZmlsZTogU2VtYUxvZ2ljUGx1Z2luU2V0dGluZ3MgPSB7XHJcblx0bXlTTFNldHRpbmdzOiBbe1xyXG5cdFx0bXlQb3J0OiBBUElfRGVmYXVsdHMuUG9ydCxcclxuXHRcdG15T3V0cHV0Rm9ybWF0OiAnU2VtYUxvZ2ljJyxcclxuXHRcdG15QmFzZVVSTDogQVBJX0RlZmF1bHRzLkJhc2VfVVJMLFxyXG5cdFx0bXlHZXRBUEk6IEFQSV9EZWZhdWx0cy5HZXRBUEksXHJcblx0XHRteVNJRDogQVBJX0RlZmF1bHRzLlNJRCxcclxuXHRcdG15Q29udGV4dDogQVBJX0RlZmF1bHRzLlNob3dDb250ZXh0LFxyXG5cdFx0bXlVc2VIdHRwczogQVBJX0RlZmF1bHRzLnVzZVVzZXJQYXNzd29ydGZvckhUVFAsXHJcblx0XHRteVVzZXI6IEFQSV9EZWZhdWx0cy5IdHRwVXNlcixcclxuXHRcdG15UGFzc3dvcmQ6IEFQSV9EZWZhdWx0cy5IdHRwUGFzc3dvcmQsXHJcblx0XHRteVVwZGF0ZUludGVydmFsOiBWYWx1ZV9EZWZhdWx0cy51cGRhdGVJbnRlcnZhbCxcclxuXHRcdG15QXNwVXJsOiBBUElfRGVmYXVsdHMuQXNwVXJsLFxyXG5cdFx0bXlBc3BFbmRwb2ludDogQVBJX0RlZmF1bHRzLkFzcEVuZHBvaW50LFxyXG5cdFx0bXlVc2VIdHRwc1NMOiBBUElfRGVmYXVsdHMudXNlVXNlclBhc3N3b3J0Zm9ySFRUUFNMLFxyXG5cdFx0bXlVc2VyU0w6IEFQSV9EZWZhdWx0cy5IdHRwVXNlclNMLFxyXG5cdFx0bXlQYXNzd29yZFNMOiBBUElfRGVmYXVsdHMuSHR0cFBhc3N3b3JkU0xcclxuXHR9LFxyXG5cdHtcclxuXHRcdG15UG9ydDogQVBJX0RlZmF1bHRzLlBvcnQsXHJcblx0XHRteU91dHB1dEZvcm1hdDogJ1NlbWFMb2dpYycsXHJcblx0XHRteUJhc2VVUkw6IEFQSV9EZWZhdWx0cy5CYXNlX1VSTCxcclxuXHRcdG15R2V0QVBJOiBBUElfRGVmYXVsdHMuR2V0QVBJLFxyXG5cdFx0bXlTSUQ6IEFQSV9EZWZhdWx0cy5TSUQsXHJcblx0XHRteUNvbnRleHQ6IEFQSV9EZWZhdWx0cy5TaG93Q29udGV4dCxcclxuXHRcdG15VXNlSHR0cHM6IEFQSV9EZWZhdWx0cy51c2VVc2VyUGFzc3dvcnRmb3JIVFRQLFxyXG5cdFx0bXlVc2VyOiBBUElfRGVmYXVsdHMuSHR0cFVzZXIsXHJcblx0XHRteVBhc3N3b3JkOiBBUElfRGVmYXVsdHMuSHR0cFBhc3N3b3JkLFxyXG5cdFx0bXlVcGRhdGVJbnRlcnZhbDogVmFsdWVfRGVmYXVsdHMudXBkYXRlSW50ZXJ2YWwsXHJcblx0XHRteUFzcFVybDogQVBJX0RlZmF1bHRzLkFzcFVybCxcclxuXHRcdG15QXNwRW5kcG9pbnQ6IEFQSV9EZWZhdWx0cy5Bc3BFbmRwb2ludCxcclxuXHRcdG15VXNlSHR0cHNTTDogQVBJX0RlZmF1bHRzLnVzZVVzZXJQYXNzd29ydGZvckhUVFBTTCxcclxuXHRcdG15VXNlclNMOiBBUElfRGVmYXVsdHMuSHR0cFVzZXJTTCxcclxuXHRcdG15UGFzc3dvcmRTTDogQVBJX0RlZmF1bHRzLkh0dHBQYXNzd29yZFNMXHJcblx0fSxcclxuXHR7XHJcblx0XHRteVBvcnQ6IEFQSV9EZWZhdWx0cy5Qb3J0LFxyXG5cdFx0bXlPdXRwdXRGb3JtYXQ6ICdTZW1hTG9naWMnLFxyXG5cdFx0bXlCYXNlVVJMOiBBUElfRGVmYXVsdHMuQmFzZV9VUkwsXHJcblx0XHRteUdldEFQSTogQVBJX0RlZmF1bHRzLkdldEFQSSxcclxuXHRcdG15U0lEOiBBUElfRGVmYXVsdHMuU0lELFxyXG5cdFx0bXlDb250ZXh0OiBBUElfRGVmYXVsdHMuU2hvd0NvbnRleHQsXHJcblx0XHRteVVzZUh0dHBzOiBBUElfRGVmYXVsdHMudXNlVXNlclBhc3N3b3J0Zm9ySFRUUCxcclxuXHRcdG15VXNlcjogQVBJX0RlZmF1bHRzLkh0dHBVc2VyLFxyXG5cdFx0bXlQYXNzd29yZDogQVBJX0RlZmF1bHRzLkh0dHBQYXNzd29yZCxcclxuXHRcdG15VXBkYXRlSW50ZXJ2YWw6IFZhbHVlX0RlZmF1bHRzLnVwZGF0ZUludGVydmFsLFxyXG5cdFx0bXlBc3BVcmw6IEFQSV9EZWZhdWx0cy5Bc3BVcmwsXHJcblx0XHRteUFzcEVuZHBvaW50OiBBUElfRGVmYXVsdHMuQXNwRW5kcG9pbnQsXHJcblx0XHRteVVzZUh0dHBzU0w6IEFQSV9EZWZhdWx0cy51c2VVc2VyUGFzc3dvcnRmb3JIVFRQU0wsXHJcblx0XHRteVVzZXJTTDogQVBJX0RlZmF1bHRzLkh0dHBVc2VyU0wsXHJcblx0XHRteVBhc3N3b3JkU0w6IEFQSV9EZWZhdWx0cy5IdHRwUGFzc3dvcmRTTFxyXG5cdH0sXHJcblx0XSxcclxuXHRteVNldHRpbmc6IDAsXHJcblx0bXlEZWJ1Z0xldmVsOiAwLFxyXG59XHJcblxyXG5cclxuY29uc3QgZ2V0RGVidWdMZXZlbCA9IChEZWJ1Z0xldmVsTmFtZTogc3RyaW5nKTogbnVtYmVyID0+IHtcclxuXHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DaGF0dHksIHVuZGVmaW5lZCwgJ0dldCBmb3IgRGVidWdMZXZlbE5hbWUnLCBEZWJ1Z0xldmVsTmFtZSlcclxuXHREZWJ1Z0xldmVsTmFtZXMuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XHJcblx0XHRpZiAodmFsdWUgPT0gRGVidWdMZXZlbE5hbWUpIHtcclxuXHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfQ2hhdHR5LCB1bmRlZmluZWQsICdGaW5kIERlYnVnTGV2ZWxJbmRleCcsIGluZGV4KVxyXG5cdFx0XHRyZXR1cm4gaW5kZXhcclxuXHRcdH1cclxuXHR9KTtcclxuXHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9IaWdoLCB1bmRlZmluZWQsICdObyBGaW5kaW5nIGZvciBEZWJ1Z0xldmVsTmFtZScsIERlYnVnTGV2ZWxOYW1lKVxyXG5cdHJldHVybiAwXHJcbn1cclxuXHJcbi8vIFNldHRpbmdzIGZvciBTZW1hTG9naWNcclxuY2xhc3MgU2VtYUxvZ2ljU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogU2VtYUxvZ2ljUGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBTZW1hTG9naWNQbHVnaW4pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHJcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHQvLyBIZWFkbGluZSBmb3IgU2V0dGluZ3NUYWJcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1NldHRpbmdzIGZvciBTZW1hTG9naWM6JyB9KTtcclxuXHJcblx0XHQvLyBHZW5lcmFsIERlYnVnIExldmVsXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0dlbmVyYWwgRGVidWdMZXZlbCcpXHJcblx0XHRcdC5zZXREZXNjKCdZb3UgY2FuIHNldCBhIERlYnVnTGV2ZWwgZm9yIERldmVsb3BtZW50aW5mb3JtYXRpb24nKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcERvd24gPT4gZHJvcERvd25cclxuXHRcdFx0XHQuYWRkT3B0aW9uKCcwJywgRGVidWdMZXZlbE5hbWVzWzBdKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJzEnLCBEZWJ1Z0xldmVsTmFtZXNbMV0pXHJcblx0XHRcdFx0LmFkZE9wdGlvbignMicsIERlYnVnTGV2ZWxOYW1lc1syXSlcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCczJywgRGVidWdMZXZlbE5hbWVzWzNdKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJzQnLCBEZWJ1Z0xldmVsTmFtZXNbNF0pXHJcblx0XHRcdFx0LmFkZE9wdGlvbignNScsIERlYnVnTGV2ZWxOYW1lc1s1XSlcclxuXHRcdFx0XHQuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLm15RGVidWdMZXZlbCkpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSGlnaCwgdW5kZWZpbmVkLCAnU2V0IERlYnVnTGV2ZWw6ICcgKyBEZWJ1Z0xldmVsTmFtZXNbcGFyc2VJbnQodmFsdWUpXSlcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm15RGVidWdMZXZlbCA9IHBhcnNlSW50KHZhbHVlKTtcclxuXHRcdFx0XHRcdERlYnVnTGV2ZWwgPSBwYXJzZUludCh2YWx1ZSlcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KClcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gRGlzcGxheSBTZXR0aW5ncyBmb3IgU2VtYUxvZ2ljXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0NoYW5nZSB5b3VyIHNldHRpbmcgcHJvZmlsZScpXHJcblx0XHRcdC5zZXREZXNjKCdZb3UgY2FuIGRlZmluZSBkaWZmZXJlbnQgcHJvZmlsZXMgZm9yIHlvdXIgU2VtYUxvZ2ljU2VydmljZScpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wRG93biA9PiBkcm9wRG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJzAnLCAnUHJvZmlsZSAxJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCcxJywgJ1Byb2ZpbGUgMicpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignMicsICdQcm9maWxlIDMnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmcudG9TdHJpbmcoKSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9IaWdoLCB1bmRlZmluZWQsICdTZXQgUHJvZmlsZTogJyArIHZhbHVlKVxyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nID0gcGFyc2VJbnQodmFsdWUpO1xyXG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cclxuXHRcdC8vIFNob3cgU3RhbmRhcmRVcGRhdGVJbnRlcnZhbFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdTdGFuZGFyZCB1cGRhdGVpbnRlcnZhbCcpXHJcblx0XHRcdC8vLnNldERlc2MoJ1NldCBzdGFuZGFyZCB1cGRhdGVpbnRlcnZhbCcpXHJcblx0XHRcdC5hZGRUZXh0KHNldHRpbmcgPT4gc2V0dGluZ1xyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVVwZGF0ZUludGVydmFsLnRvU3RyaW5nKCkpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB1bmRlZmluZWQsICdTZXQgVXBkYXRlIEludGVydmFsOiAnICsgdmFsdWUpXHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVVwZGF0ZUludGVydmFsID0gcGFyc2VJbnQodmFsdWUpO1xyXG5cdFx0XHRcdFx0d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5wbHVnaW4uaW50ZXJ2YWwpXHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5yZWdpc3RlckludGVydmFsKFxyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5pbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLnBsdWdpbi5oYW5kbGVVcGRhdGUsIHRoaXMucGx1Z2luLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmddLm15VXBkYXRlSW50ZXJ2YWwpXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcclxuXHRcdFx0XHRcdC8vdGhpcy5kaXNwbGF5KClcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cclxuXHRcdC8vIEJhc2VVUkwgXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0Jhc2VVcmwnKVxyXG5cdFx0XHQuc2V0RGVzYygnQmFzZVVSTCBmb3IgcmVhY2hpbmcgU2VtYUxvZ2ljU2VydmljZScpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihBUElfRGVmYXVsdHMuQmFzZV9VUkwpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmddLm15QmFzZVVSTClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHVuZGVmaW5lZCwgJ1NldCBCYXNlVVJMOiAnICsgdmFsdWUpXHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teUJhc2VVUkwgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1BhdGggdG8gR2V0LUFQSS1FbmRwb2ludHMnKVxyXG5cdFx0XHQuc2V0RGVzYygnUGF0aCB0byBHZXQtQVBJIGZvciBtb3JlIEluZm9ybWF0aW9uIGFib3V0IHRoZSBFbmRwb2ludHMgb2YgdXNlZCBBUElzJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKEFQSV9EZWZhdWx0cy5HZXRBUEkpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmddLm15R2V0QVBJKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0ltcG9ydGFudCwgdW5kZWZpbmVkLCAnU2V0IHRvIEdldC1BUEktRW5kcG9pbnQ6ICcgKyB2YWx1ZSlcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmddLm15R2V0QVBJID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdC8vdGhpcy5kaXNwbGF5KClcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cclxuXHRcdC8vIFBvcnQgZm9yIHJlYWNoaW5nIFNlbWFMb2dpYyB3aXRoIFN0YW5kYXJkcGFyYW1ldGVyXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1BvcnQgU2VtYUxvZ2ljJylcclxuXHRcdFx0LnNldERlc2MoJ0VudGVyIHRoZSBQb3J0JylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKEFQSV9EZWZhdWx0cy5Qb3J0KVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVBvcnQpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB1bmRlZmluZWQsICdTZXQgdG8gUG9ydDogJyArIHZhbHVlKVxyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTTFNldHRpbmdzW3RoaXMucGx1Z2luLnNldHRpbmdzLm15U2V0dGluZ10ubXlQb3J0ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gT3V0cHV0Rm9ybWF0cyBcclxuXHRcdC8vIFRvRG86IEdldCBmcm9tIEFQSSB3aGljaCBPdXRwdXRGb3JtYXRzIGFyZSBwb3NzaWJsZVx0XHRcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnT3V0cHV0Rm9ybWF0JylcclxuXHRcdFx0LnNldERlc2MoJ0hlcmUgeW91IGNhbiBzZXQgdGhlIG91dHB1dGZvcm1hdCBmb3IgU2VtYUxvZ2ljLCB3aGljaCBjb3VsZCBiZSBnZXQgZnJvbSBTZW1hTG9naWNTZXJ2aWNlJylcclxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3BEb3duID0+IGRyb3BEb3duXHJcblx0XHRcdFx0LmFkZE9wdGlvbihSdWxlc2V0dHlwZXNDb21tYW5kc1tSc3R5cGVzX1NlbWFsb2dpY11bMV0sIFJ1bGVzZXR0eXBlc0NvbW1hbmRzW1JzdHlwZXNfU2VtYWxvZ2ljXVswXSlcclxuXHRcdFx0XHQuYWRkT3B0aW9uKFJ1bGVzZXR0eXBlc0NvbW1hbmRzW1JzdHlwZXNfQVNQXVsxXSwgUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19BU1BdWzBdKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19QaWN0dXJlXVsxXSwgUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19QaWN0dXJlXVswXSlcclxuXHRcdFx0XHQuYWRkT3B0aW9uKFJ1bGVzZXR0eXBlc0NvbW1hbmRzW1JzdHlwZXNfU2VtYW50aWNUcmVlXVsxXSwgUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19TZW1hbnRpY1RyZWVdWzBdKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19Lbm93bGVkZ2VHcmFwaF1bMV0sIFJ1bGVzZXR0eXBlc0NvbW1hbmRzW1JzdHlwZXNfS25vd2xlZGdlR3JhcGhdWzBdKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teU91dHB1dEZvcm1hdClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHVuZGVmaW5lZCwgJ1NldCBPdXRwdXRmb3JtYXQ6ICcgKyB2YWx1ZSlcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmddLm15T3V0cHV0Rm9ybWF0ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0LyogU0lEIGlzIG5vdCBuZWVkZWQgZm9yIG9uLXRoZS1mbHktc29sdmluZyBpbiBvYnNpZGlhblxyXG5cdFx0XHRcdC8vIFNJRC1JbmZvcm1hdGlvblxyXG5cdFx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdFx0LnNldE5hbWUoJ1NJRCcpXHJcblx0XHRcdFx0XHQuc2V0RGVzYygnU2VtYUxvZ2ljIFNlc3Npb25JRCcpXHJcblx0XHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKEFQSV9EZWZhdWx0cy5TSUQpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVNJRClcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0ltcG9ydGFudCwgdW5kZWZpbmVkLCAnU2V0IFNJRDogJyArIHZhbHVlKVxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmddLm15U0lEID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH0pKTtcclxuXHRcdCovXHJcblxyXG5cdFx0Ly8gRm9yIEhUVFAtUmVxdWVzdCB3aXRoIFVzZXIvUGFzc3dvcmQgZm9yIHRyYW5zZmVyIHZpZXdcdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1NlY3VyZSBIVFRQLVJlcXVlc3QgU2VtYUxvZ2ljJylcclxuXHRcdFx0LnNldERlc2MoJ0lmIHlvdSBoYXMgdG8gdXNlIFVzZXIvUGFzc3dvcmQgZm9yIGh0dHAtcmVxdWVzdCB0byB0aGUgc2VtYWxvZ2ljIHNlcnZpY2UnKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHNldHRpbmcgPT4gc2V0dGluZ1xyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVVzZUh0dHBzU0wpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB1bmRlZmluZWQsICdTZXQgVXNlclBhc3N3b3JkUmVxdWVzdDogJyArIHZhbHVlKVxyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTTFNldHRpbmdzW3RoaXMucGx1Z2luLnNldHRpbmdzLm15U2V0dGluZ10ubXlVc2VIdHRwc1NMID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxyXG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KClcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmddLm15VXNlSHR0cHNTTCkge1xyXG5cdFx0XHQvLyBSZXF1ZXN0LVVzZXJcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoJ0hUVFAtUmVxdWVzdC1Vc2VyJylcclxuXHRcdFx0XHQuc2V0RGVzYygnVXNlciB0byByZWFjaCB0cmFuc2ZlciBzZXJ2aWNlJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihBUElfRGVmYXVsdHMuSHR0cFVzZXJTTClcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVVzZXJTTClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB1bmRlZmluZWQsICdTZXQgSFRUUC1SZXF1ZXN0LVVzZXIuLi4nKVxyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVVzZXJTTCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcdC8vIFJlcXVlc3QtUGFzc3dvcmRcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoJ0hUVFAtUmVxdWVzdC1QYXNzd29yZCcpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Bhc3N3b3JkIHRvIHJlYWNoIHRyYW5zZmVyIHNlcnZpY2UnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKEFQSV9EZWZhdWx0cy5IdHRwUGFzc3dvcmRTTClcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVBhc3N3b3JkU0wpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0ltcG9ydGFudCwgdW5kZWZpbmVkLCAnU2V0IEhUVFAtUmVxdWVzdC1QYXNzd29yZC4uLicpXHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmddLm15UGFzc3dvcmRTTCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0Ly8gU2hvdyBEaWFsZWN0IGluIFJlYWRpbmcgVmlld1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdTaG93IENvbnRleHQgaW4gUmVhZGluZyBWaWV3JylcclxuXHRcdFx0Ly8uc2V0RGVzYygnU2hvdyBDb250ZXh0IGluIFJlYWRpbmcgVmlldycpXHJcblx0XHRcdC5hZGRUb2dnbGUoc2V0dGluZyA9PiBzZXR0aW5nXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmddLm15Q29udGV4dClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHVuZGVmaW5lZCwgJ1NldCBDb250ZXh0IG9mIFJlYWRpbmcgVmlldzogJyArIHZhbHVlKVxyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTTFNldHRpbmdzW3RoaXMucGx1Z2luLnNldHRpbmdzLm15U2V0dGluZ10ubXlDb250ZXh0ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxyXG5cdFx0XHRcdFx0Ly90aGlzLmRpc3BsYXkoKVxyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBIZWFkbGluZSBmb3IgU2V0dGluZ3NUYWJcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMScsIHsgdGV4dDogJ19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18nIH0pO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnU2V0dGluZ3MgZm9yIFRyYW5zZmVyL0FTUC1WaWV3OicgfSk7XHJcblxyXG5cdFx0Ly8gQVNQQmFzZVVSTCBcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnQmFzZVVybCBmb3IgVHJhbnNmZXIvQVNQJylcclxuXHRcdFx0LnNldERlc2MoJ0Jhc2VVUkwgZm9yIHJlYWNoaW5nIFRyYW5zZmVyL0FTUC1TZXJ2aWNlJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKEFQSV9EZWZhdWx0cy5Bc3BVcmwpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmddLm15QXNwVXJsKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0ltcG9ydGFudCwgdW5kZWZpbmVkLCAnU2V0IFRyYW5zZmVyL0FTUC1CYXNlVVJMOiAnICsgdmFsdWUpXHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teUFzcFVybCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFN0YW5kYXJkIEFTUEVuZHBvaW50XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1BhdGggdG8gR2V0LVRyYW5zZmVyL0FTUC1TdGFuZGFyZEFQSS1FbmRwb2ludCcpXHJcblx0XHRcdC5zZXREZXNjKCdQYXRoIHRvIFRyYW5zZmVyL0FTUC1TdGFuZGFyZC1BUEkgJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKEFQSV9EZWZhdWx0cy5Bc3BFbmRwb2ludClcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTTFNldHRpbmdzW3RoaXMucGx1Z2luLnNldHRpbmdzLm15U2V0dGluZ10ubXlBc3BFbmRwb2ludClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHVuZGVmaW5lZCwgJ1NldCB0byBUcmFuc2Zlci9BU1AtU3RhbmRhcmQtQVBJLUVuZHBvaW50OiAnICsgdmFsdWUpXHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teUFzcEVuZHBvaW50ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gRm9yIEhUVFAtUmVxdWVzdCB3aXRoIFVzZXIvUGFzc3dvcmQgZm9yIHRyYW5zZmVyIHZpZXdcdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1NlY3VyZSBIVFRQLVJlcXVlc3QnKVxyXG5cdFx0XHQuc2V0RGVzYygnSWYgeW91IGhhcyB0byB1c2UgVXNlci9QYXNzd29yZCBmb3IgaHR0cC1yZXF1ZXN0IHRvIHRoZSB0cmFuc2ZlciBzZXJ2aWNlJylcclxuXHRcdFx0LmFkZFRvZ2dsZShzZXR0aW5nID0+IHNldHRpbmdcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTTFNldHRpbmdzW3RoaXMucGx1Z2luLnNldHRpbmdzLm15U2V0dGluZ10ubXlVc2VIdHRwcylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHVuZGVmaW5lZCwgJ1NldCBVc2VyUGFzc3dvcmRSZXF1ZXN0OiAnICsgdmFsdWUpXHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVVzZUh0dHBzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxyXG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KClcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVVzZUh0dHBzKSB7XHJcblx0XHRcdC8vIFJlcXVlc3QtVXNlclxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnSFRUUC1SZXF1ZXN0LVVzZXInKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdVc2VyIHRvIHJlYWNoIHRyYW5zZmVyIHNlcnZpY2UnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKEFQSV9EZWZhdWx0cy5IdHRwVXNlcilcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVVzZXIpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0ltcG9ydGFudCwgdW5kZWZpbmVkLCAnU2V0IEhUVFAtUmVxdWVzdC1Vc2VyLi4uJylcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTTFNldHRpbmdzW3RoaXMucGx1Z2luLnNldHRpbmdzLm15U2V0dGluZ10ubXlVc2VyID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0Ly8gUmVxdWVzdC1QYXNzd29yZFxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnSFRUUC1SZXF1ZXN0LVBhc3N3b3JkJylcclxuXHRcdFx0XHQuc2V0RGVzYygnUGFzc3dvcmQgdG8gcmVhY2ggdHJhbnNmZXIgc2VydmljZScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoQVBJX0RlZmF1bHRzLkh0dHBQYXNzd29yZClcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVBhc3N3b3JkKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHVuZGVmaW5lZCwgJ1NldCBIVFRQLVJlcXVlc3QtUGFzc3dvcmQuLi4nKVxyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teVBhc3N3b3JkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0fVxyXG59XHJcblxyXG4vLyBDb21tdW5pY2F0aW9uQ2xhc3MgZm9yIGludGVyYWN0aW9uIGJldHdlZW4gU0x2aWV3IGFuZCBlZGl0b3Igd2luZG93XHJcbmV4cG9ydCBjbGFzcyBTZW1hTG9naWNQbHVnaW5Db21tIHtcclxuXHRzbHZpZXc6IFNlbWFMb2dpY1ZpZXdcclxuXHRzbFBsdWdpbjogU2VtYUxvZ2ljUGx1Z2luXHJcblx0c2xhc3B2aWV3OiBBU1BWaWV3XHJcblx0YWN0aXZhdGVkQVNQOiBib29sZWFuID0gZmFsc2U7XHJcblx0c2xVc2VkTURWaWV3OiBNYXJrZG93blZpZXdcclxuXHJcblx0c2V0U2xWaWV3KHZpZXc6IFNlbWFMb2dpY1ZpZXcpIHtcclxuXHRcdHRoaXMuc2x2aWV3ID0gdmlld1xyXG5cdH1cclxuXHJcblx0c2V0U0xDbGFzcyhzbGNsYXNzOiBTZW1hTG9naWNQbHVnaW4pIHtcclxuXHRcdHRoaXMuc2xQbHVnaW4gPSBzbGNsYXNzXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYWRkKGE6IG51bWJlciwgYjogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiBhICsgYlxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VtYUxvZ2ljUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogU2VtYUxvZ2ljUGx1Z2luU2V0dGluZ3M7XHJcblx0c2VtYUxvZ2ljVmlldzogU2VtYUxvZ2ljVmlldztcclxuXHRteVN0YXR1czogSFRNTEVsZW1lbnQ7XHJcblx0c3RhdHVzVHJhbnNmZXI6IGJvb2xlYW5cclxuXHRzdGF0dXNTTDogYm9vbGVhbjtcclxuXHJcblx0YWN0aXZhdGVkOiBib29sZWFuID0gZmFsc2U7XHJcblx0dXBkYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRsYXN0VXBkYXRlOiBudW1iZXIgPSAwO1xyXG5cdHVwZGF0ZU91dHN0YW5kaW5nOiBib29sZWFuID0gZmFsc2U7XHJcblx0dXBkYXRlVHJhbnNmZXJPdXRzdGFuZGluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdHVwZGF0ZU91dHN0YW5kaW5nU2V0dGluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdHdhaXRpbmdGb3JSZXNwb25zZSA9IGZhbHNlO1xyXG5cdFVwZGF0ZVByb2Nlc3Npbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRzbENvbW06IFNlbWFMb2dpY1BsdWdpbkNvbW07XHJcblx0bGFzdGFjdGl2ZVZpZXc6IE1hcmtkb3duVmlldztcclxuXHR2aWV3X3V0aWxzID0gbmV3IFZpZXdVdGlsc1xyXG5cdGludGVydmFsOiBudW1iZXJcclxuXHJcblx0Ly8gRHVlIHRvIGNoYW5nZSBpbiBTcHJpbnQgMS8yMDIzIHRvIGlubGluZSBkaWFsZWN0cywgZGV0ZWN0aW9uIG9mIGNvbnRleHRzIHdpbGwgYmUgbmVlZGVkIGluIGxhdGVyIHNwcmludHMgXHJcblx0cHJpdmF0ZSBnZXRDb250ZXh0RnJvbUxpbmUobXlkaWFsZWN0SUQ6IHN0cmluZykge1xyXG5cdFx0Ly8gVG9EbzogUmVwbGFjZSB2b24gVG9rb25zIC0gYmlzIGRpZSBuZXVlIFNlbWFMb2dpY1ZlcnNpb24gYnpnbC4gZGVyIENvbnRleHRlIHZlcmZcdTAwRkNnYmFyIGlzdFxyXG5cdFx0bXlkaWFsZWN0SUQgPSBteWRpYWxlY3RJRC5yZXBsYWNlKCdTZW1hTG9naWNDb250ZXh0XHUyMjYxJywgJ1NlbWFMb2dpY0RpYWxlY3RcdTIyNjEnKTtcclxuXHRcdC8vbXlkaWFsZWN0SUQgPSBteWRpYWxlY3RJRC5yZXBsYWNlKFwiZGlhbGVjdDo9XCIsIFwiXCIpO1xyXG5cdFx0bGV0IHJlID0gL1xcdC9naTtcclxuXHRcdG15ZGlhbGVjdElEID0gbXlkaWFsZWN0SUQucmVwbGFjZShyZSwgXCJcIik7XHJcblx0XHRyZSA9IC9cXG4vZ2k7XHJcblx0XHRteWRpYWxlY3RJRCA9IG15ZGlhbGVjdElELnJlcGxhY2UocmUsIFwiXCIpO1xyXG5cdFx0cmV0dXJuIHsgbXlkaWFsZWN0SUQgfTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0QWN0aXZlVmlldygpOiBNYXJrZG93blZpZXcgfCB1bmRlZmluZWQge1xyXG5cdFx0Y29uc3QgYWN0aXZlVmlldyA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG5cdFx0aWYgKGFjdGl2ZVZpZXcgPT09IG51bGwpIHtcclxuXHRcdFx0aWYgKHRoaXMubGFzdGFjdGl2ZVZpZXcgPT09IG51bGwpIHtcclxuXHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9IaWdoLCB0aGlzLnNsQ29tbS5zbHZpZXcsIFwiQWN0aXZlVmlldyBjb3VsZCBub3QgYmUgZGVmaW5lZCB0aHJvdWdoIFNlbWFMb2dpY1wiKVxyXG5cdFx0XHRcdHJldHVyblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmxhc3RhY3RpdmVWaWV3O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR0aGlzLmxhc3RhY3RpdmVWaWV3ID0gYWN0aXZlVmlld1xyXG5cdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB0aGlzLnNsQ29tbS5zbHZpZXcsIHRoaXMubGFzdGFjdGl2ZVZpZXcuZ2V0RGlzcGxheVRleHQoKSlcclxuXHRcdHJldHVybiB0aGlzLmxhc3RhY3RpdmVWaWV3XHJcblx0fVxyXG5cclxuXHRzZXRWaWV3cygpOiB2b2lkIHtcclxuXHRcdHRoaXMuc2xDb21tLmFjdGl2YXRlZEFTUCA9IGZhbHNlXHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuaXRlcmF0ZUFsbExlYXZlcygobGVhZikgPT4ge1xyXG5cdFx0XHRzd2l0Y2ggKGxlYWYudmlldy5nZXRWaWV3VHlwZSgpKSB7XHJcblx0XHRcdFx0Y2FzZSBTZW1hTG9naWNWaWV3VHlwZToge1xyXG5cdFx0XHRcdFx0dGhpcy5zbENvbW0uc2x2aWV3ID0gKGxlYWYudmlldyBhcyBTZW1hTG9naWNWaWV3KVxyXG5cdFx0XHRcdFx0dGhpcy5zbENvbW0uc2x2aWV3LnNldENvbW0odGhpcy5zbENvbW0pXHJcblx0XHRcdFx0XHR0aGlzLnNsQ29tbS5zbHZpZXcuc2xDb21tLnNldFNsVmlldyh0aGlzLnNsQ29tbS5zbHZpZXcpXHJcblx0XHRcdFx0XHR0aGlzLnNsQ29tbS5zbHZpZXcuc2xDb21tLnNsUGx1Z2luID0gdGhpcy5zbENvbW0uc2xQbHVnaW5cclxuXHRcdFx0XHRcdHRoaXMuYWN0aXZhdGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0dGhpcy5zdGF0dXNTTCA9IHRydWVcclxuXHRcdFx0XHRcdGJyZWFrXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGNhc2UgQVNQVmlld1R5cGU6IHtcclxuXHRcdFx0XHRcdHRoaXMuc2xDb21tLnNsYXNwdmlldyA9IChsZWFmLnZpZXcgYXMgQVNQVmlldylcclxuXHRcdFx0XHRcdHRoaXMuc2xDb21tLnNsYXNwdmlldy5zZXRDb21tKHRoaXMuc2xDb21tKVxyXG5cdFx0XHRcdFx0dGhpcy5zbENvbW0uc2xhc3B2aWV3LnNsQ29tbS5zZXRTbFZpZXcodGhpcy5zbENvbW0uc2x2aWV3KVxyXG5cdFx0XHRcdFx0dGhpcy5zbENvbW0uc2xhc3B2aWV3LnNsQ29tbS5zbFBsdWdpbiA9IHRoaXMuc2xDb21tLnNsUGx1Z2luXHJcblx0XHRcdFx0XHR0aGlzLnNsQ29tbS5hY3RpdmF0ZWRBU1AgPSB0cnVlXHJcblx0XHRcdFx0XHR0aGlzLnN0YXR1c1RyYW5zZmVyID0gdHJ1ZVxyXG5cclxuXHRcdFx0XHRcdGJyZWFrXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdFx0dGhpcy5nZXRBY3RpdmVWaWV3KClcclxuXHRcdC8vdGhpcy5zZW1hTG9naWNVcGRhdGUoZmFsc2UpXHJcblx0fVxyXG5cclxuXHRhc3luYyBvbmxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHR0aGlzLnJlZ2lzdGVyTWFya2Rvd25Qb3N0UHJvY2Vzc29yKChlbGVtZW50LCBjb250ZXh0KSA9PiB7XHJcblx0XHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0NoYXR0eSwgdW5kZWZpbmVkLCBlbGVtZW50KVxyXG5cdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DaGF0dHksIHVuZGVmaW5lZCwgY29udGV4dClcclxuXHRcdFx0ZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwicFwiKS5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChzZWFyY2hGb3JTZW1hTG9naWNDb21tYW5kcyhlbCkpIHtcclxuXHRcdFx0XHRcdGxldCBzZXQgPSB0aGlzLnNldHRpbmdzXHJcblx0XHRcdFx0XHRjb250ZXh0LmFkZENoaWxkKG5ldyBTZW1hTG9naWNSZW5kZXJlZEVsZW1lbnQoeyBjb250YWluZXJFbDogZWwgYXMgSFRNTEVsZW1lbnQsIHNldCB9KSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pXHJcblxyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2VtYUxvZ2ljU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdERlYnVnTGV2ZWwgPSB0aGlzLnNldHRpbmdzLm15RGVidWdMZXZlbFxyXG5cclxuXHRcdC8vIFRoaXMgYWRkcyBhIHN0YXR1cyBiYXIgZm9yIGluZm9ybWF0aW9uc1xyXG5cdFx0dGhpcy5teVN0YXR1cyA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpXHJcblxyXG5cdFx0dGhpcy5zbENvbW0gPSBuZXcgU2VtYUxvZ2ljUGx1Z2luQ29tbVxyXG5cdFx0dGhpcy5zbENvbW0uc2V0U0xDbGFzcyh0aGlzKVxyXG5cclxuXHRcdHRoaXMuYWN0aXZhdGVWaWV3KCk7XHJcblx0XHQvLyBDbGVhciBTZW1hTG9naWMgdG8gc3RhcnQgd2l0aCBhIGNsZWFyIHNlcnZpY2VcclxuXHRcdGF3YWl0IHRoaXMuc2VtYUxvZ2ljUmVzZXQoKTtcclxuXHRcdHRoaXMuc2V0Vmlld3MoKVxyXG5cclxuXHRcdC8vIGFkZCBhbiBSaWJib25JY29uIHRvIGFjdGl2Y2F0ZSBhbmQgZGVhY3RpdmF0ZSB0aGUgU2VtYUxvZ2ljVmlld1xyXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKFwiYm9va1wiLCBcIk9uL09mZiBTZW1hTG9naWMuVmlld1wiLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuc2V0Vmlld3MoKVxyXG5cdFx0XHRpZiAodGhpcy5hY3RpdmF0ZWQgPT0gZmFsc2UpIHtcclxuXHRcdFx0XHR0aGlzLnN0YXR1c1NMID0gdHJ1ZVxyXG5cdFx0XHRcdGlmICghdGhpcy5hY3RpdmF0ZWQpIHtcclxuXHRcdFx0XHRcdHRoaXMuYWN0aXZhdGVWaWV3KClcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5zdGF0dXNTTCA9IGZhbHNlXHJcblx0XHRcdFx0dGhpcy5kZWFjdGl2YXRlVmlldygpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcblx0XHQvLyBhZGQgYW4gUmliYm9uSWNvbiB0byBhY3RpdmNhdGUgYW5kIGRlYWN0aXZhdGUgdGhlIFNlbWFMb2dpY1ZpZXdcclxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbihcImRpY2VcIiwgXCJPbi9PZmYgVHJhbnNmZXIuVmlld1wiLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuc2V0Vmlld3MoKVxyXG5cdFx0XHRpZiAodGhpcy5zbENvbW0gIT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuc2xDb21tLmFjdGl2YXRlZEFTUCA9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0dGhpcy5hY3RpdmF0ZUFTUFZpZXcoKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5kZWFjdGl2YXRlQVNQVmlldygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHQvLyBhZGQgYW4gUmliYm9uSWNvbiB0byBhY3RpdmNhdGUgYW5kIGRlYWN0aXZhdGUgdGhlIFNlbWFMb2dpY1ZpZXdcclxuXHRcdC8vdGhpcy5hZGRSaWJib25JY29uKFwiZmlsZS10eXBlLTJcIiwgXCJDcmVhdGUgVGVtcGxhdGVGb2xkZXJcIiwgKCkgPT4ge1xyXG5cdFx0Ly9cdGNyZWF0ZVRlbXBsYXRlRm9sZGVyKGFwcC52YXVsdClcclxuXHRcdC8vfSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6IFwic2xfY3JlYXRlX3RlbXBsYXRlXCIsXHJcblx0XHRcdG5hbWU6IFwiU2VtYUxvZ2ljIGNyZWF0ZSB0ZW1wbGF0ZVwiLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdGNyZWF0ZVRlbXBsYXRlRm9sZGVyKGFwcC52YXVsdCk7XHJcblx0XHRcdFx0Y3JlYXRlRXhhbXBsZXMoYXBwLnZhdWx0KTtcclxuXHRcdFx0fSxcclxuXHRcdH0pO1xyXG5cclxuXHJcblx0XHRpZiAodGhpcy5zdGF0dXNTTCkge1xyXG5cdFx0XHR0aGlzLnNlbWFMb2dpY1Jlc2V0KCk7XHJcblx0XHRcdC8vIERlZmF1bHQgaXMgdGhhdCBTZW1hTG9naWNWaWV3IGlzIGFjdGl2YXRlZCBidXQgaXQgY2FuIGJlIGRlYWN0aXZhdGVkIGJ5IGNsaWNrIG9uIFJpYmJvbiBJY29uXHJcblx0XHRcdHRoaXMuc2xDb21tLnNsdmlldy5zZXROZXdJbml0aWFsKHRoaXMuc2V0dGluZ3MubXlTTFNldHRpbmdzW3RoaXMuc2V0dGluZ3MubXlTZXR0aW5nXS5teU91dHB1dEZvcm1hdCwgdHJ1ZSk7XHJcblx0XHRcdHRoaXMuc2VtYUxvZ2ljUGFyc2UoKTtcclxuXHRcdH1cclxuXHRcdHRoaXMucmVnaXN0ZXJJbnRlcnZhbChcclxuXHRcdFx0dGhpcy5pbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVVwZGF0ZSwgdGhpcy5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5zZXR0aW5ncy5teVNldHRpbmddLm15VXBkYXRlSW50ZXJ2YWwpXHJcblx0XHQpO1xyXG5cdFx0dGhpcy5yZWdpc3RlckVkaXRvckV4dGVuc2lvbihbRWRpdG9yVmlldy51cGRhdGVMaXN0ZW5lci5vZih0aGlzLmhhbmRsZVVwZGF0ZSldKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNlbWFMb2dpY1BhcnNlKCk6IFByb21pc2U8Tm9kZVtdPiB7XHJcblxyXG5cdFx0dGhpcy5zZXRWaWV3cygpO1xyXG5cclxuXHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsXywgdGhpcy5zbENvbW0uc2x2aWV3LCAnU3RhcnQgU2VtYUxvZ2ljUGFyc2UnKVxyXG5cdFx0bGV0IHJlc3VsdHM6IE5vZGVbXSA9IFtdO1xyXG5cclxuXHRcdHRoaXMubGFzdFVwZGF0ZSA9IERhdGUubm93KClcclxuXHRcdGF3YWl0IHNlbWFMb2dpY1BpbmcodGhpcy5zZXR0aW5ncywgdGhpcy5sYXN0VXBkYXRlKVxyXG5cclxuXHRcdC8vIGxldCB2QVBJX1VSTCA9IGdldEhvc3RQb3J0KHRoaXMuc2V0dGluZ3MpICsgQVBJX0RlZmF1bHRzLnJ1bGVzX3BhcnNlICsgXCI/c2lkPVwiICsgdGhpcy5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5zZXR0aW5ncy5teVNldHRpbmddLm15U0lEO1xyXG5cdFx0bGV0IHZBUElfVVJMID0gZ2V0SG9zdFBvcnQodGhpcy5zZXR0aW5ncykgKyBBUElfRGVmYXVsdHMucnVsZXNfcGFyc2UgKyBcIj9zaWQ9XCIgKyBteWdTSUQ7XHJcblx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHRoaXMuc2xDb21tLnNsdmlldywgdkFQSV9VUkwpXHJcblxyXG5cdFx0bGV0IGJvZHl0ZXh0OiBzdHJpbmcgPSBcIlwiO1xyXG5cdFx0bGV0IGFjdGl2ZVZpZXcgPSB0aGlzLmdldEFjdGl2ZVZpZXcoKVxyXG5cdFx0aWYgKGFjdGl2ZVZpZXcgIT0gdW5kZWZpbmVkKSB7IHRoaXMuc2xDb21tLnNsVXNlZE1EVmlldyA9IGFjdGl2ZVZpZXcgfVxyXG5cclxuXHRcdGxldCBkaWFsZWN0SUQ6IHN0cmluZyA9IFwiZGVmYXVsdFwiXHJcblx0XHRsZXQgY29kZWJsb2NrOiBib29sZWFuID0gZmFsc2U7XHJcblx0XHRsZXQgbmV3Q29kZWJsb2NrOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdFx0aWYgKGFjdGl2ZVZpZXcgIT0gbnVsbCkge1xyXG5cdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DaGF0dHksIHRoaXMuc2xDb21tLnNsdmlldywgJ0FjdGl2ZVZpZXcgaXMgbm90IE5VTEwnKVxyXG5cclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVWaWV3LmVkaXRvci5saW5lQ291bnQoKTsgaSsrKSB7XHJcblx0XHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfQWxsLCB0aGlzLnNsQ29tbS5zbHZpZXcsIGksICc7JywgYWN0aXZlVmlldy5lZGl0b3IuZ2V0TGluZShpKSlcclxuXHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9BbGwsIHRoaXMuc2xDb21tLnNsdmlldywgJ1N1YnN0cmluZzonLCBhY3RpdmVWaWV3LmVkaXRvci5nZXRMaW5lKGkpLnN1YnN0cmluZygwLCAyKSk7XHJcblx0XHRcdFx0aWYgKGFjdGl2ZVZpZXcuZWRpdG9yLmdldExpbmUoaSkuc3Vic3RyaW5nKDAsIDMpID09IFwiYGBgXCIpIHtcclxuXHRcdFx0XHRcdGlmICghY29kZWJsb2NrKSB7XHJcblx0XHRcdFx0XHRcdGNvZGVibG9jayA9IHRydWVcclxuXHRcdFx0XHRcdFx0bmV3Q29kZWJsb2NrID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DaGF0dHksIHRoaXMuc2xDb21tLnNsdmlldywgJ0N1cnJlbnQgbGluZSBpcyBDb2RlYmxvY2s6ICcgKyBpLnRvU3RyaW5nKCksIGNvZGVibG9jaylcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdG5ld0NvZGVibG9jayA9IGZhbHNlXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoKCFjb2RlYmxvY2spICYmICghbmV3Q29kZWJsb2NrKSkge1xyXG5cdFx0XHRcdFx0Ly8gQ2hlY2sgaW5saW5lIFN0YXRlbWVudHNcclxuXHRcdFx0XHRcdGJvZHl0ZXh0ID0gYm9keXRleHQuY29uY2F0KGFjdGl2ZVZpZXcuZWRpdG9yLmdldExpbmUoaSkgKyAnXFxuJylcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBQclx1MDBGQ2ZlIGF1ZiB6dSB2ZXJ3ZW5kZW5kZW4gRGlhbGVjdFxyXG5cdFx0XHRcdFx0c3dpdGNoIChhY3RpdmVWaWV3LmVkaXRvci5nZXRMaW5lKGkpLnN1YnN0cmluZygwLCBzZW1hTG9naWNDb21tYW5kLnVzZURpYWxlY3QubGVuZ3RoKSkge1xyXG5cdFx0XHRcdFx0XHRjYXNlIHNlbWFMb2dpY0NvbW1hbmQudXNlRGlhbGVjdDoge1xyXG5cdFx0XHRcdFx0XHRcdGRpYWxlY3RJRCA9IGFjdGl2ZVZpZXcuZWRpdG9yLmdldExpbmUoaSkuc3Vic3RyaW5nKHNlbWFMb2dpY0NvbW1hbmQudXNlRGlhbGVjdC5sZW5ndGgsIGFjdGl2ZVZpZXcuZWRpdG9yLmdldExpbmUoaSkubGVuZ3RoIC0gMSlcclxuXHRcdFx0XHRcdFx0XHRkaWFsZWN0SUQgPSBkaWFsZWN0SUQudHJpbSgpO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDogeyB9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoaSA8IGFjdGl2ZVZpZXcuZWRpdG9yLmxpbmVDb3VudCgpKSB7XHJcblx0XHRcdFx0XHRpZiAoYWN0aXZlVmlldy5lZGl0b3IuZ2V0TGluZShpKS5zdWJzdHJpbmcoMCwgMykgPT0gXCJgYGBcIikge1xyXG5cdFx0XHRcdFx0XHRpZiAoKGNvZGVibG9jaykgJiYgKCFuZXdDb2RlYmxvY2spKSB7IGNvZGVibG9jayA9IGZhbHNlIH0gZWxzZSB7IG5ld0NvZGVibG9jayA9IGZhbHNlIH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblxyXG5cdFx0Ym9keXRleHQgPSB0aGlzLnZpZXdfdXRpbHMuY2xlYW5Db21tYW5kcyhib2R5dGV4dClcclxuXHRcdGlmIChkaWFsZWN0SUQgPT0gXCJcIikgeyBkaWFsZWN0SUQgPSBcImRlZmF1bHRcIiB9XHJcblxyXG5cdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfQ2hhdHR5LCB1bmRlZmluZWQsIFwiUGFyc2luZ3Jlc3VsdCBmb3IgU2VtYUxvZ2ljVmlld1wiKVxyXG5cdFx0Y29uc3QgcmVzcG9uc2VGb3JTZW1hTG9naWMgPSB0aGlzLnNsQ29tbS5zbHZpZXcuZ2V0U2VtYUxvZ2ljUGFyc2UodGhpcy5zZXR0aW5ncywgdkFQSV9VUkwsIGRpYWxlY3RJRCwgYm9keXRleHQsIGZhbHNlKVxyXG5cdFx0cmVzcG9uc2VGb3JTZW1hTG9naWMudGhlbih2YWx1ZSA9PiB7XHJcblx0XHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0NoYXR0eSwgdW5kZWZpbmVkLCB2YWx1ZSlcclxuXHRcdH0pXHJcblxyXG5cdFx0Ly9zbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DdXJyZW50X0RldiwgdGhpcy5zbENvbW0uc2x2aWV3LCAnQ2hlY2s6IFVwZGF0ZUFTUE91dHN0YW5kaW5nID0gZmFsc2U6JyArIHRoaXMudXBkYXRlVHJhbnNmZXJPdXRzdGFuZGluZylcclxuXHRcdGlmICh0aGlzLnNsQ29tbS5hY3RpdmF0ZWRBU1ApIHtcclxuXHRcdFx0aWYgKERhdGUubm93KCkgLSB0aGlzLnNsQ29tbS5zbGFzcHZpZXcuTGFzdFJlcXVlc3RUaW1lID49IHRoaXMuc2V0dGluZ3MubXlTTFNldHRpbmdzW3RoaXMuc2V0dGluZ3MubXlTZXR0aW5nXS5teVVwZGF0ZUludGVydmFsKSB7XHJcblx0XHRcdFx0Ly90aGlzLnNsQ29tbS5zbGFzcHZpZXcuY29udGVudEVsLmVtcHR5XHJcblx0XHRcdFx0dGhpcy5zbENvbW0uc2xhc3B2aWV3Lkxhc3RSZXF1ZXN0VGltZSA9IERhdGUubm93KClcclxuXHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DdXJyZW50X0RldiwgdGhpcy5zbENvbW0uc2x2aWV3LCBgU2V0LVJlcXVlc3R0aW1lOiAke3RoaXMuc2xDb21tLnNsYXNwdmlldy5MYXN0UmVxdWVzdFRpbWV9YClcclxuXHJcblx0XHRcdFx0Ly9zbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DaGF0dHksIHRoaXMuc2xDb21tLnNsdmlldywgXCJQYXJzaW5ncmVzdWx0IGZvciBPblRoZUZseSBUcmFuc2Zlci52aWV3IGluIFNlbWFMb2dpY1wiKVxyXG5cdFx0XHRcdC8vY29uc3QgcGFyc2VDb21tYW5kcyA9IHRoaXMuc2xDb21tLnNsYXNwdmlldy5nZXRBU1BDb21tYW5kcyh0aGlzLnNsQ29tbSwgdGhpcy5zZXR0aW5ncylcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZVRyYW5zZmVyT3V0c3RhbmRpbmcgPSBmYWxzZVxyXG5cdFx0XHRcdC8vcGFyc2VDb21tYW5kcy5jb21tYW5kcy5mb3JFYWNoKGNvbW1hbmQgPT4ge1xyXG5cdFx0XHRcdGxldCBvdXRwdXRGb3JtYXQ6IHN0cmluZyA9IFJ1bGVzZXR0eXBlc0NvbW1hbmRzW1JzdHlwZXNfQVNQXVsxXVxyXG5cdFx0XHRcdC8vXHRpZiAoY29tbWFuZC5vdXRwdXRmb3JtYXQgIT0gdW5kZWZpbmVkICYmIGNvbW1hbmQub3V0cHV0Zm9ybWF0ICE9IFJ1bGVzZXR0eXBlc0NvbW1hbmRzW1JzdHlwZXNfQVNQXVswXSkgeyBvdXRwdXRGb3JtYXQgPSBjb21tYW5kLm91dHB1dGZvcm1hdCB9XHJcblxyXG5cdFx0XHRcdGNvbnN0IHJlc3BvbnNlRm9yQVNQID0gdGhpcy5zbENvbW0uc2x2aWV3LmdldFNlbWFMb2dpY1BhcnNlKHRoaXMuc2V0dGluZ3MsIHZBUElfVVJMLCBkaWFsZWN0SUQsIGJvZHl0ZXh0LCB0cnVlLCBvdXRwdXRGb3JtYXQpXHJcblx0XHRcdFx0cmVzcG9uc2VGb3JBU1AudGhlbih2YWx1ZSA9PiB7XHJcblx0XHRcdFx0XHQvL3RoaXMudXBkYXRlVHJhbnNmZXJPdXRzdGFuZGluZyA9IHRydWU7XHJcblx0XHRcdFx0XHQvL3NsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0N1cnJlbnRfRGV2LCB0aGlzLnNsQ29tbS5zbHZpZXcsICdTZXQgVXBkYXRlQVNQT3V0c3RhbmRpbmc6JyArIHRoaXMudXBkYXRlVHJhbnNmZXJPdXRzdGFuZGluZylcclxuXHRcdFx0XHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0NoYXR0eSwgdGhpcy5zbENvbW0uc2x2aWV3LCB2YWx1ZSlcclxuXHRcdFx0XHRcdGNvbnN0IGFzcFByb21pc2UgPSB0aGlzLnNsQ29tbS5zbGFzcHZpZXcuYXNwUGFyc2UodGhpcy5zbENvbW0sIHRoaXMuc2V0dGluZ3MsIHZhbHVlLCB0aGlzLnNsQ29tbS5zbGFzcHZpZXcuTGFzdFJlcXVlc3RUaW1lKVxyXG5cdFx0XHRcdFx0YXNwUHJvbWlzZS50aGVuKHZhbHVlID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHZhbHVlICE9IHVuZGVmaW5lZCkgeyBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DdXJyZW50X0RldiwgdGhpcy5zbENvbW0uc2x2aWV3LCB2YWx1ZSkgfVxyXG5cdFx0XHRcdFx0XHQvL1xyXG5cdFx0XHRcdFx0XHQvL3NsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0N1cnJlbnRfRGV2LCB0aGlzLnNsQ29tbS5zbHZpZXcsICdTZXQgVXBkYXRlQVNQT3V0c3RhbmRpbmc6JyArIHRoaXMudXBkYXRlVHJhbnNmZXJPdXRzdGFuZGluZylcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSBlbHNlIHsgdGhpcy51cGRhdGVUcmFuc2Zlck91dHN0YW5kaW5nID0gdHJ1ZSB9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdHNcclxuXHR9XHJcblxyXG5cdGFzeW5jIGFjdGl2YXRlQVNQVmlldygpIHtcclxuXHRcdC8vIEFkZCB0aGUgQVNQIC0gVmlld1xyXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBBU1BWaWV3XHJcblx0XHRpZiAodGhpcy5zbENvbW0uc2xhc3B2aWV3ID09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcclxuXHRcdFx0XHRBU1BWaWV3VHlwZSxcclxuXHRcdFx0XHRsZWFmID0+IG5ldyBBU1BWaWV3KGxlYWYpXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgbGVhZiA9IHRoaXMuR2V0QXNwTGVhZigpO1xyXG5cdFx0aWYgKGxlYWYgIT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGxlYWYuc2V0Vmlld1N0YXRlKHtcclxuXHRcdFx0XHR0eXBlOiBBU1BWaWV3VHlwZSxcclxuXHRcdFx0XHRhY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHR9KVxyXG5cdFx0XHRhd2FpdCB0aGlzLnNlbWFMb2dpY1Jlc2V0KClcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DaGF0dHksIHVuZGVmaW5lZCwgXCJBU1AtTGVhZiBub3QgY3JlYXRlZFwiKVxyXG5cdFx0fVxyXG5cdFx0dGhpcy5zZXRWaWV3cygpXHJcblx0XHR0aGlzLmhhbmRsZVBpbmcoKVxyXG5cdFx0dGhpcy5zdGF0dXNUcmFuc2ZlciA9IHRydWVcclxuXHRcdHRoaXMuc2VtYUxvZ2ljVXBkYXRlKClcclxuXHRcdHRoaXMubXlTdGF0dXMuc2V0VGV4dCgnQVNQIGlzIG9uJyk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XHJcblx0XHQvLyBBZGQgdGhlIFNlbWFMb2dpYyAtIFZpZXdcclxuXHRcdGlmICh0aGlzLnNsQ29tbS5zbHZpZXcgPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHRoaXMucmVnaXN0ZXJWaWV3KFxyXG5cdFx0XHRcdFNlbWFMb2dpY1ZpZXdUeXBlLFxyXG5cdFx0XHRcdGxlYWYgPT4gbmV3IFNlbWFMb2dpY1ZpZXcobGVhZilcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBsZWFmID0gdGhpcy5HZXRTZW1hTG9naWNMZWFmKCk7XHJcblx0XHRpZiAobGVhZiAhPSB1bmRlZmluZWQpIHtcclxuXHRcdFx0bGVhZi5zZXRWaWV3U3RhdGUoe1xyXG5cdFx0XHRcdHR5cGU6IFNlbWFMb2dpY1ZpZXdUeXBlLFxyXG5cdFx0XHRcdGFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdH0pXHJcblx0XHRcdGF3YWl0IHRoaXMuc2VtYUxvZ2ljUmVzZXQoKVxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0NoYXR0eSwgdW5kZWZpbmVkLCBcIlNlbWFMb2dpYy1MZWFmIG5vdCBjcmVhdGVkXCIpXHJcblx0XHR9XHJcblx0XHR0aGlzLnNldFZpZXdzKClcclxuXHRcdHRoaXMuaGFuZGxlUGluZygpXHJcblx0XHR0aGlzLnNlbWFMb2dpY1VwZGF0ZSgpXHJcblx0XHR0aGlzLm15U3RhdHVzLnNldFRleHQoJ1NlbWFMb2dpYyBpcyBvbicpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZGVhY3RpdmF0ZUFTUFZpZXcoKSB7XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZGV0YWNoTGVhdmVzT2ZUeXBlKEFTUFZpZXdUeXBlKTtcclxuXHRcdHRoaXMuc2xDb21tLmFjdGl2YXRlZEFTUCA9IGZhbHNlXHJcblx0XHR0aGlzLnN0YXR1c1RyYW5zZmVyID0gdHJ1ZVxyXG5cdFx0dGhpcy5teVN0YXR1cy5zZXRUZXh0KCdBU1AgaXMgb2ZmJyk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBkZWFjdGl2YXRlVmlldygpIHtcclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5kZXRhY2hMZWF2ZXNPZlR5cGUoU2VtYUxvZ2ljVmlld1R5cGUpO1xyXG5cdFx0dGhpcy5hY3RpdmF0ZWQgPSBmYWxzZVxyXG5cdFx0dGhpcy5zbENvbW0uc2x2aWV3LnVubG9hZCgpXHJcblx0XHR0aGlzLm15U3RhdHVzLnNldFRleHQoJ1NlbWFMb2dpYyBpcyBvZmYnKTtcclxuXHR9XHJcblxyXG5cdEdldEFzcExlYWYoKTogV29ya3NwYWNlTGVhZiB8IHVuZGVmaW5lZCB7XHJcblx0XHRsZXQgZm91bmQ6IGJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0bGV0IHNsdjogV29ya3NwYWNlTGVhZiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxyXG5cclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5pdGVyYXRlQWxsTGVhdmVzKChsZWFmKSA9PiB7XHJcblx0XHRcdGlmICghZm91bmQpIHtcclxuXHRcdFx0XHRzd2l0Y2ggKGxlYWYudmlldy5nZXRWaWV3VHlwZSgpKSB7XHJcblx0XHRcdFx0XHRjYXNlIEFTUFZpZXdUeXBlOiB7XHJcblx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRzbHYgPSBsZWFmXHJcblx0XHRcdFx0XHRcdC8vcmV0dXJuIHNsdlxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHRcdGlmICghZm91bmQpIHtcclxuXHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfQWxsLCB1bmRlZmluZWQsICdTcGxpdCcpXHJcblx0XHRcdHNsdiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCdzcGxpdCcpO1xyXG5cdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9BbGwsIHVuZGVmaW5lZCwgc2x2KVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHNsdlxyXG5cdH1cclxuXHJcblx0R2V0U2VtYUxvZ2ljTGVhZigpOiBXb3Jrc3BhY2VMZWFmIHwgdW5kZWZpbmVkIHtcclxuXHRcdGxldCBmb3VuZDogYm9vbGVhbiA9IGZhbHNlXHJcblx0XHRsZXQgc2x2OiBXb3Jrc3BhY2VMZWFmIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkXHJcblxyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVBbGxMZWF2ZXMoKGxlYWYpID0+IHtcclxuXHRcdFx0aWYgKCFmb3VuZCkge1xyXG5cdFx0XHRcdHN3aXRjaCAobGVhZi52aWV3LmdldFZpZXdUeXBlKCkpIHtcclxuXHRcdFx0XHRcdGNhc2UgU2VtYUxvZ2ljVmlld1R5cGU6IHtcclxuXHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdHNsdiA9IGxlYWZcclxuXHRcdFx0XHRcdFx0Ly9yZXR1cm4gc2x2XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdFx0aWYgKCFmb3VuZCkge1xyXG5cdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9BbGwsIHVuZGVmaW5lZCwgJ1NwbGl0JylcclxuXHRcdFx0c2x2ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3NwbGl0Jyk7XHJcblx0XHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0FsbCwgdW5kZWZpbmVkLCBzbHYpXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc2x2XHJcblx0fVxyXG5cclxuXHJcblx0YXN5bmMgb251bmxvYWQoKSB7XHJcblx0XHQvLyBjb21tZW50ZWQgb3V0IGR1ZSB0byBwdWJsaXNoaW5nIHByb2Nlc3MgLSBzZWUgUGx1Z0luR3VpZGVsaW5lIC0gY291bGQgYmUgZGVsZXRlZFxyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLmRldGFjaExlYXZlc09mVHlwZShBU1BWaWV3VHlwZSk7XHJcblx0XHQvL3RoaXMuc2xDb21tLnNsYXNwdmlldy51bmxvYWQoKVxyXG5cdFx0Ly90aGlzLmFwcC53b3Jrc3BhY2UuZGV0YWNoTGVhdmVzT2ZUeXBlKFNlbWFMb2dpY1ZpZXdUeXBlKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBEZWZhdWx0X3Byb2ZpbGUsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0aWYgKHRoaXMuc2xDb21tLnNsdmlldyAhPSB1bmRlZmluZWQpIHsgdGhpcy5zbENvbW0uc2x2aWV3LnNldE5ld0luaXRpYWwodGhpcy5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5zZXR0aW5ncy5teVNldHRpbmddLm15T3V0cHV0Rm9ybWF0LCBmYWxzZSkgfVxyXG5cdFx0dGhpcy51cGRhdGVPdXRzdGFuZGluZyA9IHRydWU7XHJcblx0XHQvL3RoaXMuc2VtYUxvZ2ljUGFyc2UoKTtcclxuXHR9XHJcblxyXG5cdGhhbmRsZVBpbmcoKSB7XHJcblx0XHRzZW1hTG9naWNQaW5nKHRoaXMuc2V0dGluZ3MsIHRoaXMubGFzdFVwZGF0ZSlcclxuXHR9XHJcblxyXG5cdGhhbmRsZVVwZGF0ZSA9ICh1cGRhdGU6IFZpZXdVcGRhdGUpID0+IHtcclxuXHRcdGlmICh0aGlzLnN0YXR1c1NMKSB7XHJcblx0XHRcdC8vIFRvIGF2b2lkIHRvIG11Y2ggcGFyc2luZyB0cmFmZmljIGZvciB0ZXN0aW5nIHdlIHRyaWVkIHRvIHBhcnNlIGl0IG9ubHkgZXZlcnkgNTAwIG1zIHdoZW4gdGhlcmUgaXMgYW4gdXBkYXRlXHJcblx0XHRcdGNvbnN0IHRleHQgPSAnVXBkYXRldGltZScgKyAnLycgKyBTdHJpbmcoRGF0ZS5ub3coKSkgKyAnLycgKyBTdHJpbmcodGhpcy5sYXN0VXBkYXRlKSArICcvJyArIFN0cmluZyhEYXRlLm5vdygpIC0gdGhpcy5sYXN0VXBkYXRlKSArICcvJyArIFN0cmluZyh0aGlzLnVwZGF0ZU91dHN0YW5kaW5nKSArICcvJyArIFN0cmluZyh0aGlzLndhaXRpbmdGb3JSZXNwb25zZSlcclxuXHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfQ3VycmVudF9EZXYsIHRoaXMuc2xDb21tLnNsdmlldywgdGV4dClcclxuXHRcdFx0aWYgKHVwZGF0ZSA9PSBudWxsKSB7IH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0aWYgKHVwZGF0ZS52aWV3KSB7XHJcblx0XHRcdFx0XHRpZiAoIXVwZGF0ZS5kb2NDaGFuZ2VkICYmICF1cGRhdGUuZm9jdXNDaGFuZ2VkKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLlVwZGF0ZVByb2Nlc3NpbmcgPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdFx0XHQvL3RoaXMudXBkYXRlT3V0c3RhbmRpbmcgPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfQ3VycmVudF9EZXYsIHRoaXMuc2xDb21tLnNsdmlldywgJ1N0YXJ0IFVwZGF0ZSBkb2NDaGFuZ2VkLCBmb2N1c2NoYW5nZWQsIFVwZFByb2MgICcgKyBTdHJpbmcodXBkYXRlLmRvY0NoYW5nZWQpICsgXCIvXCIgKyBTdHJpbmcodXBkYXRlLmZvY3VzQ2hhbmdlZCkgKyBcIi9cIiArIFN0cmluZyh0aGlzLlVwZGF0ZVByb2Nlc3NpbmcpKVxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2VtYUxvZ2ljVXBkYXRlKClcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKChEYXRlLm5vdygpIC0gdGhpcy5sYXN0VXBkYXRlID4gdGhpcy5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5zZXR0aW5ncy5teVNldHRpbmddLm15VXBkYXRlSW50ZXJ2YWwpICYmICh0aGlzLnVwZGF0ZU91dHN0YW5kaW5nID09IHRydWUgfHwgdGhpcy51cGRhdGVUcmFuc2Zlck91dHN0YW5kaW5nID09IHRydWUpICYmICh0aGlzLndhaXRpbmdGb3JSZXNwb25zZSA9PSBmYWxzZSkpIHtcclxuXHRcdFx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DdXJyZW50X0RldiwgdGhpcy5zbENvbW0uc2x2aWV3LCAnU3RhcnQgVXBkYXRlIFBBUlNJTkcnKVxyXG5cdFx0XHRcdHRoaXMubGFzdFVwZGF0ZSA9IERhdGUubm93KClcclxuXHRcdFx0XHR0aGlzLnNlbWFMb2dpY1VwZGF0ZSgpXHJcblx0XHRcdFx0Ly90aGlzLnVwZGF0ZVRyYW5zZmVyT3V0c3RhbmRpbmcgPSBmYWxzZVxyXG5cdFx0XHRcdC8vc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfQ3VycmVudF9EZXYsIHRoaXMuc2xDb21tLnNsdmlldywgJ1NldCBpbiBpbnRlcnZhbCBVcGRhdGVBU1BPdXRzdGFuZGluZzonICsgdGhpcy51cGRhdGVUcmFuc2Zlck91dHN0YW5kaW5nKVxyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRpZiAoKERhdGUubm93KCkgLSB0aGlzLmxhc3RVcGRhdGUgPiB0aGlzLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnNldHRpbmdzLm15U2V0dGluZ10ubXlVcGRhdGVJbnRlcnZhbCkgJiYgKHRoaXMudXBkYXRlT3V0c3RhbmRpbmcgPT0gdHJ1ZSkgJiYgKHRoaXMud2FpdGluZ0ZvclJlc3BvbnNlID09IGZhbHNlKSkge1xyXG5cdFx0XHRcdFx0c2VtYUxvZ2ljUGluZyh0aGlzLnNldHRpbmdzLCB0aGlzLmxhc3RVcGRhdGUpXHJcblx0XHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHNlbWFMb2dpY1VwZGF0ZShzZXRWaWV3PzogYm9vbGVhbikge1xyXG5cclxuXHRcdHRoaXMud2FpdGluZ0ZvclJlc3BvbnNlID0gdHJ1ZVxyXG5cdFx0dGhpcy5VcGRhdGVQcm9jZXNzaW5nID0gdHJ1ZVxyXG5cclxuXHRcdGlmIChzZXRWaWV3ID09IHRydWUgfHwgc2V0VmlldyA9PSB1bmRlZmluZWQpIHsgdGhpcy5zZXRWaWV3cygpIH1cclxuXHJcblx0XHRzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DaGF0dHksIHRoaXMuc2xDb21tLnNsdmlldywgJ1N0YXJ0IFNlbWFMb2dpY1VwZGF0ZScpXHJcblxyXG5cdFx0dGhpcy5zZXRWaWV3cygpXHJcblx0XHRsZXQgYWN0aXZlVmlldyA9IHRoaXMuZ2V0QWN0aXZlVmlldygpXHJcblx0XHR0aGlzLnNlbWFMb2dpY1BhcnNlKCk7XHJcblxyXG5cdFx0aWYgKCF0aGlzLnVwZGF0aW5nKSB7XHJcblx0XHRcdHRoaXMudXBkYXRpbmcgPSB0cnVlXHJcblx0XHRcdC8qIEZvciBWZXJzaW9uIDIuMS4zIGRlYWN0aXZhdGVkIGJlY2F1c2Ugb2YgYW4gZWRpdG9yIHByb2JsZW0gYnkgYWRkaW5nIGNoYXIgZm9yIGh0bWx1cGRhdGluZ1xyXG5cdFx0XHRcdFx0XHRpZiAoYWN0aXZlVmlldyAhPSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgZWRpdG9ydGV4dCA9IGFjdGl2ZVZpZXcuZWRpdG9yLmdldFJhbmdlKHsgbGluZTogMCwgY2g6IDAgfSwgeyBsaW5lOiBhY3RpdmVWaWV3LmVkaXRvci5sYXN0TGluZSgpLCBjaDogYWN0aXZlVmlldy5lZGl0b3IubGFzdExpbmUubGVuZ3RoIH0pXHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgYWRkQ2hhcjogc3RyaW5nID0gXCIgXCJcclxuXHRcdFx0XHRcdFx0XHRsZXQgY3Vyc29yID0gYWN0aXZlVmlldy5lZGl0b3IuZ2V0Q3Vyc29yKClcclxuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZVZpZXcuZWRpdG9yLmxhc3RMaW5lKCk7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGFjdGl2ZVZpZXcuZWRpdG9yLmdldExpbmUoaSkuc3Vic3RyaW5nKDAsIHNlbWFMb2dpY0NvbW1hbmQuY29tbWFuZF9zdGFydC5sZW5ndGgpID09IHNlbWFMb2dpY0NvbW1hbmQuY29tbWFuZF9zdGFydCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoYWN0aXZlVmlldy5lZGl0b3IuZ2V0TGluZShpKS5zdWJzdHJpbmcoYWN0aXZlVmlldy5lZGl0b3IuZ2V0TGluZShpKS5sZW5ndGggLSAxLCBhY3RpdmVWaWV3LmVkaXRvci5nZXRMaW5lKGkpLmxlbmd0aCkgPT0gc2VtYUxvZ2ljQ29tbWFuZC5jb21tYW5kX2VuZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHRlbXBvcmFybHkgYWRkIGEgY2hhciBmb3IgZm9yY2luZyBhbiB1cGRhdGUgb2YgaHRtbC12aWV3IFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZVZpZXcuZWRpdG9yLnNldExpbmUoaSwgYWN0aXZlVmlldy5lZGl0b3IuZ2V0TGluZShpKS5zdWJzdHJpbmcoMCwgYWN0aXZlVmlldy5lZGl0b3IuZ2V0TGluZShpKS5sZW5ndGgpICsgYWRkQ2hhcilcclxuXHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGFjdGl2ZVZpZXcuZWRpdG9yLmdldExpbmUoaSkuc3Vic3RyaW5nKGFjdGl2ZVZpZXcuZWRpdG9yLmdldExpbmUoaSkubGVuZ3RoIC0gMSwgYWN0aXZlVmlldy5lZGl0b3IuZ2V0TGluZShpKS5sZW5ndGgpID09IGFkZENoYXIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHRlbXBvcmFybHkgYWRkIGEgY2hhciBmb3IgZm9yY2luZyBhbiB1cGRhdGUgb2YgaHRtbC12aWV3IFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlVmlldy5lZGl0b3Iuc2V0TGluZShpLCBhY3RpdmVWaWV3LmVkaXRvci5nZXRMaW5lKGkpLnN1YnN0cmluZygwLCBhY3RpdmVWaWV3LmVkaXRvci5nZXRMaW5lKGkpLmxlbmd0aCAtIDEpKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHQvLyBiYWNrIHRvIGN1cnNvclxyXG5cdFx0XHRcdFx0XHRcdGFjdGl2ZVZpZXcuZWRpdG9yLnNldEN1cnNvcihjdXJzb3IpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0Ki9cclxuXHRcdFx0dGhpcy51cGRhdGluZyA9IGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5VcGRhdGVQcm9jZXNzaW5nID0gZmFsc2VcclxuXHRcdHRoaXMud2FpdGluZ0ZvclJlc3BvbnNlID0gZmFsc2VcclxuXHR9XHJcblxyXG5cclxuXHRnZXRTZW1hTG9naWNUZXh0KCk6IHN0cmluZyB7XHJcblx0XHRpZiAodGhpcy5zbENvbW0uc2x2aWV3LmNvbnRlbnRFbC50ZXh0Q29udGVudCA9PSBudWxsKSB7XHJcblx0XHRcdHJldHVybiBcIlwiXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5zbENvbW0uc2x2aWV3LmdldENvbnRlbnQoKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgc2VtYUxvZ2ljUmVzZXQoKSB7XHJcblx0XHQvLyBsZXQgdkFQSV9VUkxfUmVzZXQgPSBBUElfRGVmYXVsdHMuQmFzZV9VUkwgKyBcIjpcIiArIEFQSV9EZWZhdWx0cy5Qb3J0ICsgQVBJX0RlZmF1bHRzLnJlc2V0ICsgXCI/c2lkPVwiICsgQVBJX0RlZmF1bHRzLlNJRDtcclxuXHRcdC8vIGxldCB2QVBJX1VSTF9SZXNldCA9IGdldEhvc3RQb3J0KHRoaXMuc2V0dGluZ3MpICsgQVBJX0RlZmF1bHRzLnJlc2V0ICsgXCI/c2lkPVwiICsgdGhpcy5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5zZXR0aW5ncy5teVNldHRpbmddLm15U0lEO1xyXG5cdFx0bGV0IHZBUElfVVJMX1Jlc2V0ID0gZ2V0SG9zdFBvcnQodGhpcy5zZXR0aW5ncykgKyBBUElfRGVmYXVsdHMucmVzZXQgKyBcIj9zaWQ9XCIgKyBteWdTSUQ7XHJcblx0XHRsZXQgb3B0aW9uc1Jlc2V0OiBSZXF1ZXN0VXJsUGFyYW1cclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnNldHRpbmdzLm15U2V0dGluZ10ubXlVc2VIdHRwc1NMICYmIHRoaXMuc2V0dGluZ3MubXlTTFNldHRpbmdzW3RoaXMuc2V0dGluZ3MubXlTZXR0aW5nXS5teVVzZXJTTCAhPSAnJykge1xyXG5cdFx0XHRvcHRpb25zUmVzZXQgPSB7XHJcblx0XHRcdFx0dXJsOiB2QVBJX1VSTF9SZXNldCxcclxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0XHRcImNvbnRlbnQtdHlwZVwiOiBcInRleHQvcGxhaW5cIixcclxuXHRcdFx0XHRcdFwiQXV0aG9yaXphdGlvblwiOiBcIkJhc2ljIFwiICsgYnRvYSh0aGlzLnNldHRpbmdzLm15U0xTZXR0aW5nc1t0aGlzLnNldHRpbmdzLm15U2V0dGluZ10ubXlVc2VyU0wgKyBcIjpcIiArIHRoaXMuc2V0dGluZ3MubXlTTFNldHRpbmdzW3RoaXMuc2V0dGluZ3MubXlTZXR0aW5nXS5teVBhc3N3b3JkU0wpXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b3B0aW9uc1Jlc2V0ID0ge1xyXG5cdFx0XHRcdHVybDogdkFQSV9VUkxfUmVzZXQsXHJcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdFx0XCJjb250ZW50LXR5cGVcIjogXCJ0ZXh0L3BsYWluXCJcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB0aGlzLnNsQ29tbS5zbHZpZXcsIG9wdGlvbnNSZXNldClcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlUmVzZXQgPSBhd2FpdCByZXF1ZXN0VXJsKG9wdGlvbnNSZXNldClcclxuXHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW5mb3JtYXRpdmUsIHRoaXMuc2xDb21tLnNsdmlldywgYFNlbWFMb2dpYzogUmVzZXQgd2l0aCBodHRwLXN0YXR1cyAke3Jlc3BvbnNlUmVzZXQuc3RhdHVzLnRvU3RyaW5nKCl9YClcclxuXHRcdH1cclxuXHRcdGNhdGNoIChlKSB7XHJcblx0XHRcdHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0Vycm9yLCB0aGlzLnNsQ29tbS5zbHZpZXcsIGBDYXRjaGVycm9yIGJ5IHJlc2V0ICR7dkFQSV9VUkxfUmVzZXR9YClcclxuXHRcdFx0c2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfRXJyb3IsIHRoaXMuc2xDb21tLnNsdmlldywgZS50b1N0cmluZygpKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn1cclxuXHJcbiIsICJpbXBvcnQgeyBEcm9wZG93bkNvbXBvbmVudCwgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYsIEJ1dHRvbkNvbXBvbmVudCwgUmVxdWVzdFVybFBhcmFtLCByZXF1ZXN0VXJsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IHNsVGV4dHMsIERlYnVnTGV2TWFwLCBSdWxlc2V0dHlwZXNDb21tYW5kcywgUnN0eXBlc19TZW1hbG9naWMsIFJzdHlwZXNfU2VtYW50aWNUcmVlLCBSc3R5cGVzX0tub3dsZWRnZUdyYXBoLCBSc3R5cGVzX1BpY3R1cmUsIFJzdHlwZXNfQVNQIH0gZnJvbSBcIi4vY29uc3RcIlxyXG5pbXBvcnQgeyBTZW1hTG9naWNQbHVnaW5Db21tLCBEZWJ1Z0xldmVsLCBTZW1hTG9naWNQbHVnaW5TZXR0aW5ncyB9IGZyb20gXCIuLi9tYWluXCJcclxuaW1wb3J0IHsgc2xjb25zb2xlbG9nIH0gZnJvbSAnLi91dGlscydcclxuaW1wb3J0IHsgVmlld1V0aWxzIH0gZnJvbSBcIi4vdmlld191dGlsc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNlbWFMb2dpY1ZpZXdUeXBlID0gXCJTZW1hTG9naWNTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2VtYUxvZ2ljVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuICB2aWV3X3V0aWxzOiBWaWV3VXRpbHNcclxuICBteUFjdGlvbjogSFRNTEVsZW1lbnRcclxuICBkcm9wZG93bkJ1dHRvbjogRHJvcGRvd25Db21wb25lbnRcclxuICBjb3B5QnV0dG9uOiBCdXR0b25Db21wb25lbnRcclxuICBkZWJ1Z0J1dHRvbjogQnV0dG9uQ29tcG9uZW50XHJcbiAgZGVidWdDb250ZW50OiBzdHJpbmdbXVxyXG4gIHpvb21JbjogQnV0dG9uQ29tcG9uZW50XHJcbiAgem9vbVJhdGlvOiBCdXR0b25Db21wb25lbnRcclxuICB6b29tT3V0OiBCdXR0b25Db21wb25lbnRcclxuICBzbENvbW06IFNlbWFMb2dpY1BsdWdpbkNvbW1cclxuICBzY2FsZVJhdGlvOiBudW1iZXJcclxuICBjdXJyUmVzdWx0OiBzdHJpbmdcclxuICBib2R5dGV4dDogc3RyaW5nXHJcbiAgYXBpVVJMOiBzdHJpbmdcclxuICBkaWFsZWN0SUQ6IHN0cmluZ1xyXG5cclxuICBwdWJsaWMgZGVidWdJbmxpbmU6IGJvb2xlYW5cclxuXHJcbiAgcHVibGljIGdldE91dFB1dEZvcm1hdCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuZHJvcGRvd25CdXR0b24uZ2V0VmFsdWUoKVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldERlYnVnSW5saW5lKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZGVidWdJbmxpbmVcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRDb250ZW50KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy52aWV3X3V0aWxzLmdldENvbnRlbnQodGhpcy5jb250ZW50RWwsIHRoaXMuZ2V0T3V0UHV0Rm9ybWF0KCkpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXBwZW5kRGVidWdDb250ZW50KHRleHQ6IHN0cmluZykge1xyXG4gICAgdGhpcy5kZWJ1Z0NvbnRlbnQucHVzaCh0ZXh0KVxyXG4gIH1cclxuXHJcbiAgY29weVRvQ2IoKSB7XHJcbiAgICBjb25zdCBibG9iY29udGVudFRleHQgPSAoY29udDogc3RyaW5nKSA9PiBgJHtjb250fWBcclxuXHJcbiAgICBsZXQgZGF0YSA9XHJcbiAgICAgIG5ldyBDbGlwYm9hcmRJdGVtKHtcclxuICAgICAgICBcInRleHQvcGxhaW5cIjogbmV3IEJsb2IoW2Jsb2Jjb250ZW50VGV4dCh0aGlzLmN1cnJSZXN1bHQpXSwge1xyXG4gICAgICAgICAgdHlwZTogXCJ0ZXh0L3BsYWluXCJcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG5cclxuICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGUoW2RhdGFdKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgYWxlcnQoXCJzdWNjZXNzZnVsbHkgY29waWVkXCIpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgIGFsZXJ0KFwic29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZikge1xyXG4gICAgc3VwZXIobGVhZik7XHJcbiAgICB0aGlzLnNjYWxlUmF0aW8gPSAxMDBcclxuICAgIHRoaXMudmlld191dGlscyA9IG5ldyBWaWV3VXRpbHNcclxuICAgIHRoaXMuZGVidWdJbmxpbmUgPSBmYWxzZVxyXG4gICAgdGhpcy5kZWJ1Z0NvbnRlbnQgPSBbXVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldENvbW0oY29tbTogU2VtYUxvZ2ljUGx1Z2luQ29tbSkge1xyXG4gICAgaWYgKHRoaXMuc2xDb21tICE9IGNvbW0pIHtcclxuICAgICAgdGhpcy5zbENvbW0gPSBjb21tXHJcbiAgICAgIC8vdGhpcy5zbENvbW0uc2V0U2xWaWV3KHRoaXMpXHJcbiAgICAgIHRoaXMuc2V0TmV3SW5pdGlhbCh0aGlzLnNsQ29tbS5zbFBsdWdpbi5zZXR0aW5ncy5teVNMU2V0dGluZ3NbdGhpcy5zbENvbW0uc2xQbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nXS5teU91dHB1dEZvcm1hdCwgZmFsc2UpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3VHlwZSgpIHtcclxuICAgIHJldHVybiBTZW1hTG9naWNWaWV3VHlwZTtcclxuICB9XHJcblxyXG4gIGdldERpc3BsYXlUZXh0KCkge1xyXG4gICAgcmV0dXJuIFNlbWFMb2dpY1ZpZXdUeXBlO1xyXG4gIH1cclxuXHJcbiAgb25sb2FkKCk6IHZvaWQge1xyXG4gICAgdGhpcy5uYXZpZ2F0aW9uID0gdHJ1ZVxyXG4gICAgdGhpcy5jb250ZW50RWwuY29udGVudEVkaXRhYmxlID0gJ3RydWUnXHJcbiAgICB0aGlzLmRlYnVnSW5saW5lID09IGZhbHNlXHJcbiAgfVxyXG5cclxuICBnZXREZWJ1Z0J1dHRvblRleHQoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLmRlYnVnSW5saW5lID09IHRydWUpIHtcclxuICAgICAgcmV0dXJuICdJbmxpbmVEZWJ1ZyBpcyBvbidcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAnSW5saW5lRGVidWcgaXMgb2ZmJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlRHJvcERvd25CdXR0b25Gb3JPdXRQdXRGb3JtYXQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZHJvcERvd25WYWx1ZTogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xyXG4gICAgdGhpcy5kcm9wZG93bkJ1dHRvbiA9IG5ldyBEcm9wZG93bkNvbXBvbmVudChjb250YWluZXIpXHJcbiAgICAgIC5hZGRPcHRpb24oUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19TZW1hbG9naWNdWzFdLCBSdWxlc2V0dHlwZXNDb21tYW5kc1tSc3R5cGVzX1NlbWFsb2dpY11bMF0pXHJcbiAgICAgIC5hZGRPcHRpb24oUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19BU1BdWzFdLCBSdWxlc2V0dHlwZXNDb21tYW5kc1tSc3R5cGVzX0FTUF1bMF0pXHJcbiAgICAgIC5hZGRPcHRpb24oUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19QaWN0dXJlXVsxXSwgUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19QaWN0dXJlXVswXSlcclxuICAgICAgLmFkZE9wdGlvbihSdWxlc2V0dHlwZXNDb21tYW5kc1tSc3R5cGVzX1NlbWFudGljVHJlZV1bMV0sIFJ1bGVzZXR0eXBlc0NvbW1hbmRzW1JzdHlwZXNfU2VtYW50aWNUcmVlXVswXSlcclxuICAgICAgLmFkZE9wdGlvbihSdWxlc2V0dHlwZXNDb21tYW5kc1tSc3R5cGVzX0tub3dsZWRnZUdyYXBoXVsxXSwgUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19Lbm93bGVkZ2VHcmFwaF1bMF0pXHJcbiAgICAgIC5zZXRWYWx1ZShkcm9wRG93blZhbHVlKVxyXG4gICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW5mb3JtYXRpdmUsIHRoaXMuc2xDb21tLnNsdmlldywgJ1NldCBWaWV3T3V0cHV0Rm9ybWF0OiAnICsgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMuc2xDb21tLnNsUGx1Z2luLnVwZGF0ZU91dHN0YW5kaW5nID0gdHJ1ZVxyXG4gICAgICAgIGRyb3BEb3duVmFsdWUgPSB2YWx1ZVxyXG4gICAgICAgIHRoaXMuZHJvcGRvd25CdXR0b24uc2V0VmFsdWUodmFsdWUpXHJcbiAgICAgICAgdGhpcy5nZXRTZW1hTG9naWNQYXJzZSh0aGlzLnNsQ29tbS5zbFBsdWdpbi5zZXR0aW5ncywgdGhpcy5hcGlVUkwsIHRoaXMuZGlhbGVjdElELCB0aGlzLmJvZHl0ZXh0LCBmYWxzZSwgdmFsdWUpXHJcbiAgICAgICAgLy90aGlzLnVwZGF0ZVZpZXcoKVxyXG4gICAgICB9KVxyXG4gICAgcmV0dXJuIGNvbnRhaW5lclxyXG4gIH1cclxuICBjcmVhdGVDb3B5VG9DbGlwYm9hcmRCdXR0b24oY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50IHtcclxuICAgIHRoaXMuY29weUJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQoY29udGFpbmVyKVxyXG4gICAgICAuc2V0QnV0dG9uVGV4dCgnQ29weSB0byBDbGlwYm9hcmQnKVxyXG4gICAgICAub25DbGljaygobW91c2VfZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLmNvcHlUb0NiKClcclxuICAgICAgfSlcclxuICAgIHJldHVybiBjb250YWluZXJcclxuICB9XHJcbiAgY3JlYXRlRGVidWdCdXR0b24oY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGlmIChEZWJ1Z0xldmVsICE9IERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfT2ZmKSB7XHJcbiAgICAgIHRoaXMuZGVidWdCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGNvbnRhaW5lcilcclxuICAgICAgICAuc2V0QnV0dG9uVGV4dCh0aGlzLmdldERlYnVnQnV0dG9uVGV4dCgpKVxyXG4gICAgICAgIC5vbkNsaWNrKChtb3VzZV9ldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHRoaXMuZGVidWdJbmxpbmUgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlYnVnSW5saW5lID0gZmFsc2VcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0NvbnRlbnQgPSBbXVxyXG4gICAgICAgICAgfSBlbHNlIHsgdGhpcy5kZWJ1Z0lubGluZSA9IHRydWUgfVxyXG4gICAgICAgICAgaWYgKHRoaXMuc2xDb21tLnNsdmlldyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW5mb3JtYXRpdmUsIHRoaXMuc2xDb21tLnNsdmlldywgJ1NldCBJbmxpbmVEZWJ1Z2dpbmc6ICcgKyB0aGlzLmRlYnVnSW5saW5lKTtcclxuICAgICAgICAgICAgLy90aGlzLnNldE5ld0luaXRpYWwoZHJvcERvd25WYWx1ZSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMudXBkYXRlVmlldygpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHJldHVybiBjb250YWluZXJcclxuICB9XHJcblxyXG4gIGNyZWF0ZVNjYWxlQnV0dG9ucyhjb250YWluZXI6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQge1xyXG4gICAgLy8gWm9vbSBpblxyXG4gICAgdGhpcy56b29tSW4gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGNvbnRhaW5lcilcclxuICAgICAgLnNldEJ1dHRvblRleHQoJy0nKVxyXG4gICAgICAub25DbGljaygobW91c2VfZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLnNjYWxlUmF0aW8gPSB0aGlzLnNjYWxlUmF0aW8gLyAyXHJcbiAgICAgICAgaWYgKHRoaXMuem9vbVJhdGlvICE9IG51bGwpIHsgdGhpcy56b29tUmF0aW8uc2V0QnV0dG9uVGV4dChTdHJpbmcodGhpcy5zY2FsZVJhdGlvKSkgfVxyXG4gICAgICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0luZm9ybWF0aXZlLCB0aGlzLnNsQ29tbS5zbHZpZXcsICdTZXQgU2NhbGVSYXRpbyB0bzogJyArIHRoaXMuc2NhbGVSYXRpbyk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3KClcclxuICAgICAgfSlcclxuXHJcbiAgICB0aGlzLnpvb21SYXRpbyA9IG5ldyBCdXR0b25Db21wb25lbnQoY29udGFpbmVyKVxyXG4gICAgICAuc2V0QnV0dG9uVGV4dChTdHJpbmcodGhpcy5zY2FsZVJhdGlvKSlcclxuICAgICAgLm9uQ2xpY2soKG1vdXNlX2V2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW5mb3JtYXRpdmUsIHRoaXMuc2xDb21tLnNsdmlldywgJ1NjYWxlUmF0aW8gOj0gJyArIHRoaXMuc2NhbGVSYXRpbyk7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgdGhpcy56b29tT3V0ID0gbmV3IEJ1dHRvbkNvbXBvbmVudChjb250YWluZXIpXHJcbiAgICAgIC5zZXRCdXR0b25UZXh0KCcrJylcclxuICAgICAgLm9uQ2xpY2soKG1vdXNlX2V2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5zY2FsZVJhdGlvID0gdGhpcy5zY2FsZVJhdGlvICogMlxyXG4gICAgICAgIHRoaXMuem9vbVJhdGlvLnNldEJ1dHRvblRleHQoU3RyaW5nKHRoaXMuc2NhbGVSYXRpbykpXHJcbiAgICAgICAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW5mb3JtYXRpdmUsIHRoaXMuc2xDb21tLnNsdmlldywgJ1NldCBTY2FsZVJhdGlvIHRvOiAnICsgdGhpcy5zY2FsZVJhdGlvKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVZpZXcoKVxyXG4gICAgICB9KVxyXG5cclxuICAgIHJldHVybiBjb250YWluZXJcclxuICB9XHJcblxyXG4gIGNoZWNrQ29udGFpbmVyQ29udGVudCgpOiBib29sZWFuIHtcclxuICAgIGlmICh0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICBpZiAodGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXS50ZXh0Q29udGVudD8uc3Vic3RyaW5nKDAsIHNsVGV4dHNbJ0hlYWRlclNMJ10ubGVuZ3RoKSA9PSBzbFRleHRzWydIZWFkZXJTTCddKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZWxldGVDb250YWluZXJDb250ZW50KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW4gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250YWluZXJFbC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuW2ldLm5vZGVOYW1lID09IFwicFwiKSB7XHJcbiAgICAgICAgICB3aGlsZSAodGhpcy5jb250YWluZXJFbC5jaGlsZHJlbltpXSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jaGlsZHJlbltpXS5lbXB0eVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBzZXROZXdJbml0aWFsKGRyb3BEb3duVmFsdWU6IHN0cmluZywgbm93OiBib29sZWFuKSB7XHJcbiAgICBsZXQgY29udGFpbmVyID0gdGhpcy5jb250ZW50RWxcclxuICAgIGlmICghdGhpcy5jaGVja0NvbnRhaW5lckNvbnRlbnQoKSB8fCBub3cpIHtcclxuICAgICAgY29udGFpbmVyLmVtcHR5KClcclxuICAgICAgLy9jb250YWluZXIuY29udGVudEVkaXRhYmxlID0gJ3RydWUnXHJcbiAgICAgIGNvbnRhaW5lci5jcmVhdGVFbChcImg0XCIsIHsgdGV4dDogc2xUZXh0c1snSGVhZGVyU0wnXSB9KTtcclxuXHJcbiAgICAgIGNvbnRhaW5lciA9IHRoaXMuY3JlYXRlRHJvcERvd25CdXR0b25Gb3JPdXRQdXRGb3JtYXQoY29udGFpbmVyLCBkcm9wRG93blZhbHVlKVxyXG4gICAgICBjb250YWluZXIgPSB0aGlzLmNyZWF0ZUNvcHlUb0NsaXBib2FyZEJ1dHRvbihjb250YWluZXIpXHJcbiAgICAgIGNvbnRhaW5lciA9IHRoaXMuY3JlYXRlRGVidWdCdXR0b24oY29udGFpbmVyKVxyXG4gICAgICBpZiAoZHJvcERvd25WYWx1ZSA9PSBSdWxlc2V0dHlwZXNDb21tYW5kc1tSc3R5cGVzX1BpY3R1cmVdWzFdKSB7XHJcbiAgICAgICAgY29udGFpbmVyID0gdGhpcy5jcmVhdGVTY2FsZUJ1dHRvbnMoY29udGFpbmVyKVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnRhaW5lci5jcmVhdGVFbChcInBcIilcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZGVsZXRlQ29udGFpbmVyQ29udGVudCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBvbk9wZW4oKSB7XHJcbiAgICB0aGlzLnNldE5ld0luaXRpYWwoUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19TZW1hbG9naWNdWzFdLCBmYWxzZSlcclxuICAgIC8vIHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV0uYXBwZW5kVGV4dChcImxldCdzIGJlZ2luXCIpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb25DbG9zZSgpIHtcclxuICAgIC8vIE5vdGhpbmcgdG8gY2xlYW4gdXAuXHJcbiAgfVxyXG5cclxuICBzaG93RXJyb3IoZnJhZ21lbnQ6IERvY3VtZW50RnJhZ21lbnQpIHtcclxuICAgIC8vICAgdGhpcy5zZXRJbml0aWFsKFJ1bGVzZXR0eXBlc0NvbW1hbmRzW1JzdHlwZXNfU2VtYWxvZ2ljXVsxXSlcclxuICAgIHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKGZyYWdtZW50KVxyXG4gIH1cclxuICBvbnVubG9hZCgpOiB2b2lkIHtcclxuXHJcbiAgICBpZiAodGhpcy5zbENvbW0uc2xQbHVnaW4gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuc2xDb21tLnNsUGx1Z2luLmFjdGl2YXRlZCA9IGZhbHNlXHJcbiAgICAgIHRoaXMuc2xDb21tLnNsUGx1Z2luLm15U3RhdHVzLnNldFRleHQoJ1NlbWFMb2dpYyBpcyBvZmYnKTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBjcmVhdGVTZW1hTG9naWNSZXF1ZXN0Qm9keShkaWFsZWN0SUQ6IHN0cmluZywgYm9keXRleHQ6IHN0cmluZywgb3V0UHV0Rm9ybWF0OiBzdHJpbmcpOiBhbnkge1xyXG4gICAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB0aGlzLnNsQ29tbS5zbHZpZXcsICdDb250ZXh0OiAnICsgZGlhbGVjdElEICsgJyBCb2R5dGV4dDogJyArIGJvZHl0ZXh0KVxyXG4gICAgbGV0IHNlbWFMb2dpY0pzb25SZXF1ZXN0Qm9keSA9IHtcclxuICAgICAgXCJ0ZXh0XCI6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBcInRleHRJRFwiOiBcIlBhcnNpbmdPblRoZUZseVwiLFxyXG4gICAgICAgICAgXCJkaWFsZWN0SURcIjogZGlhbGVjdElELFxyXG4gICAgICAgICAgXCJydWxlc1wiOiBib2R5dGV4dFxyXG4gICAgICAgIH1cclxuICAgICAgXSxcclxuICAgICAgXCJmaWx0ZXJcIjoge30sXHJcbiAgICAgIFwicGVyc2lzdGVuY3lcIjogZmFsc2UsXHJcbiAgICAgIFwicnVsZXNldHR5cGVcIjogb3V0UHV0Rm9ybWF0XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VtYUxvZ2ljSnNvblJlcXVlc3RCb2R5XHJcbiAgfVxyXG5cclxuICBjcmVhdGVTZW1hTG9naWNSZXF1ZXN0KHNldHRpbmdzOiBTZW1hTG9naWNQbHVnaW5TZXR0aW5ncywgdkFQSV9VUkw6IHN0cmluZywgc2VtYUxvZ2ljSnNvblJlcXVlc3RCb2R5OiBhbnkpOiBSZXF1ZXN0VXJsUGFyYW0ge1xyXG4gICAgbGV0IHJlcXVlc3Q6IFJlcXVlc3RVcmxQYXJhbSA9IHtcclxuICAgICAgdXJsOiB2QVBJX1VSTCxcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShzZW1hTG9naWNKc29uUmVxdWVzdEJvZHkpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNldHRpbmdzLm15U0xTZXR0aW5nc1tzZXR0aW5ncy5teVNldHRpbmddLm15VXNlSHR0cHNTTCAmJiBzZXR0aW5ncy5teVNMU2V0dGluZ3Nbc2V0dGluZ3MubXlTZXR0aW5nXS5teVVzZXJTTCAhPSAnJykge1xyXG4gICAgICByZXF1ZXN0ID0ge1xyXG4gICAgICAgIHVybDogdkFQSV9VUkwsXHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogXCJCYXNpYyBcIiArIGJ0b2Eoc2V0dGluZ3MubXlTTFNldHRpbmdzW3NldHRpbmdzLm15U2V0dGluZ10ubXlVc2VyU0wgKyBcIjpcIiArIHNldHRpbmdzLm15U0xTZXR0aW5nc1tzZXR0aW5ncy5teVNldHRpbmddLm15UGFzc3dvcmRTTClcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNlbWFMb2dpY0pzb25SZXF1ZXN0Qm9keSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB0aGlzLnNsQ29tbS5zbHZpZXcsICdQYXJzaW5nc3N0cmluZycpXHJcbiAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHRoaXMuc2xDb21tLnNsdmlldywgcmVxdWVzdClcclxuICAgIHJldHVybiByZXF1ZXN0XHJcbiAgfVxyXG5cclxuICBnZXRSZXF1ZXN0RW1iZWQoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLmdldE91dFB1dEZvcm1hdCgpID09IFJ1bGVzZXR0eXBlc0NvbW1hbmRzW1JzdHlwZXNfUGljdHVyZV1bMV0pIHtcclxuICAgICAgLy8gWm9vbSBmb3IgUGljdHVyZVxyXG4gICAgICAvLyB0cnkgdG8gZ2V0IG9yaWdpbmFsIHZpZXdib3ggc2l6ZVxyXG4gICAgICBsZXQgdmlld0JveFN0cmluZzogc3RyaW5nXHJcbiAgICAgIGNvbnN0IGJlZ2luVkIgPSBjb250ZW50LmluZGV4T2YoJ3ZpZXdCb3gnKVxyXG4gICAgICBpZiAoYmVnaW5WQiA+IDApIHtcclxuICAgICAgICBjb25zdCBlbmRWQiA9IGNvbnRlbnQuaW5kZXhPZignXFxcIicsIGNvbnRlbnQuaW5kZXhPZignXFxcIicsIGJlZ2luVkIpICsgMSlcclxuICAgICAgICB2aWV3Qm94U3RyaW5nID0gY29udGVudC5zdWJzdHJpbmcoYmVnaW5WQiwgZW5kVkIgKyAxKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZpZXdCb3hTdHJpbmcgPSAndmlld0JveCA9IFwiMCAwIDE2IDlcIidcclxuICAgICAgfVxyXG4gICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKFwiPGJvZHk+XCIsIFwiXCIpXHJcbiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoXCI8L2JvZHk+XCIsIFwiXCIpXHJcblxyXG4gICAgICBsZXQgaGVhZGVyOiBzdHJpbmdcclxuICAgICAgaGVhZGVyID0gJzxzdmcgICcgKyB2aWV3Qm94U3RyaW5nICsgJyB3aWR0aCA9IFwiJyArIFN0cmluZyh0aGlzLnNjYWxlUmF0aW8pICsgJyVcIiB4bWxucyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiA+XFxuJ1xyXG4gICAgICBoZWFkZXIgPSBoZWFkZXIgKyBjb250ZW50XHJcbiAgICAgIGhlYWRlciA9IGhlYWRlciArICc8L3N2Zz4nXHJcbiAgICAgIHJldHVybiBoZWFkZXJcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBjb250ZW50XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyUmVzdWx0KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRSZXF1ZXN0RW1iZWQodGhpcy5jdXJyUmVzdWx0KVxyXG4gIH1cclxuXHJcbiAgZ2V0Q3VyckhUTUwoKTogdm9pZCB7XHJcbiAgICBsZXQgcmVzcG9uc2VDb250ZW50ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoJ2RpdicpO1xyXG5cclxuICAgIGlmICh0aGlzLmRlYnVnSW5saW5lID09IHRydWUpIHtcclxuICAgICAgdGhpcy5kZWJ1Z0NvbnRlbnQuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGV4dGxpbmUgPSByZXNwb25zZUNvbnRlbnQuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogdmFsdWUgKyBcIlxcblwiLCBjbHM6IFwiZGVidWdpbmxpbmVcIiB9KVxyXG4gICAgICAgIC8vdGV4dGxpbmUuc3R5bGUuY3NzVGV4dCA9ICd3aGl0ZS1zcGFjZTogcHJlOycgLy87IHdoaXRlLXNwYWNlOiBwcmUtbGluZTsnXHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5nZXRPdXRQdXRGb3JtYXQoKSA9PSBSdWxlc2V0dHlwZXNDb21tYW5kc1tSc3R5cGVzX0FTUF1bMV0pIHtcclxuICAgICAgICBsZXQgcmVzdWx0dGV4dGFycmF5ID0gdGhpcy5nZXRDdXJyUmVzdWx0KCkuc3BsaXQoJ1xcbicpXHJcbiAgICAgICAgcmVzdWx0dGV4dGFycmF5LmZvckVhY2godmFsdWUgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdGV4dGxpbmUgPSByZXNwb25zZUNvbnRlbnQuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogdmFsdWUgKyBcIlxcblwiLCBjbHM6IFwiZGVidWdpbmxpbmVcIiB9KVxyXG4gICAgICAgICAgLy8gdGV4dGxpbmUuc3R5bGUuY3NzVGV4dCA9ICd3aGl0ZS1zcGFjZTogcHJlOycgLy87IHdoaXRlLXNwYWNlOiBwcmUtbGluZTsnXHJcbiAgICAgICAgfSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNwb25zZUNvbnRlbnQuY3JlYXRlRWwoXCJwXCIsIHsgdGV4dDogXCIgXCIgfSlcclxuICAgICAgICByZXNwb25zZUNvbnRlbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYWZ0ZXJlbmRcIiwgdGhpcy5nZXRDdXJyUmVzdWx0KCkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vcmV0dXJuIHJlc3BvbnNlQ29udGVudFxyXG4gIH1cclxuXHJcbiAgdXBkYXRlVmlldygpOiB2b2lkIHtcclxuICAgIHRoaXMuc2V0TmV3SW5pdGlhbCh0aGlzLmdldE91dFB1dEZvcm1hdCgpLCB0cnVlKVxyXG4gICAgdGhpcy5nZXRDdXJySFRNTCgpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0U2VtYUxvZ2ljUGFyc2Uoc2V0dGluZ3M6IFNlbWFMb2dpY1BsdWdpblNldHRpbmdzLCB2QVBJX1VSTDogc3RyaW5nLCBkaWFsZWN0SUQ6IHN0cmluZywgYm9keXRleHQ6IHN0cmluZywgcGFyc2VPblRoZUZseTogYm9vbGVhbiwgcGFyc2luZ0Zvcm1hdD86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICB0aGlzLmJvZHl0ZXh0ID0gYm9keXRleHRcclxuICAgIHRoaXMuYXBpVVJMID0gdkFQSV9VUkxcclxuICAgIHRoaXMuZGlhbGVjdElEID0gZGlhbGVjdElEXHJcbiAgICBsZXQgb3V0UHV0Rm9ybWF0OiBzdHJpbmdcclxuICAgIGxldCByZXN1bHRodHRwOiBzdHJpbmdcclxuXHJcbiAgICBpZiAocGFyc2luZ0Zvcm1hdCAhPT0gdW5kZWZpbmVkKSB7IG91dFB1dEZvcm1hdCA9IHBhcnNpbmdGb3JtYXQgfSBlbHNlIHsgb3V0UHV0Rm9ybWF0ID0gdGhpcy5nZXRPdXRQdXRGb3JtYXQoKSB9XHJcbiAgICBsZXQgc2VtYUxvZ2ljSnNvblJlcXVlc3RCb2R5ID0gdGhpcy5jcmVhdGVTZW1hTG9naWNSZXF1ZXN0Qm9keShkaWFsZWN0SUQsIGJvZHl0ZXh0LCBvdXRQdXRGb3JtYXQpXHJcbiAgICBsZXQgc2VtYUxvZ2ljUmVxdWVzdCA9IHRoaXMuY3JlYXRlU2VtYUxvZ2ljUmVxdWVzdChzZXR0aW5ncywgdkFQSV9VUkwsIHNlbWFMb2dpY0pzb25SZXF1ZXN0Qm9keSlcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoc2VtYUxvZ2ljUmVxdWVzdClcclxuXHJcbiAgICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0hpZ2gsIHRoaXMuc2xDb21tLnNsdmlldywgXCJTZW1hTG9naWM6IFBhcnNlIHdpdGggaHR0cC1zdGF0dXMgXCIgKyByZXNwb25zZS5zdGF0dXMudG9TdHJpbmcoKSlcclxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICByZXN1bHRodHRwID0gcmVzcG9uc2UudGV4dDtcclxuICAgICAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DaGF0dHksIHRoaXMuc2xDb21tLnNsdmlldywgYFBhcnNlcmVzdWx0OiR7cmVzdWx0aHR0cH1gKVxyXG4gICAgICAgIGlmICgodGhpcy5kZWJ1Z0lubGluZSA9PSBmYWxzZSkgJiYgKHBhcnNlT25UaGVGbHkgPT0gZmFsc2UpKSB7XHJcbiAgICAgICAgICB0aGlzLmN1cnJSZXN1bHQgPSByZXN1bHRodHRwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcGFyc2VPblRoZUZseSkge1xyXG4gICAgICAgICAgdGhpcy51cGRhdGVWaWV3KClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnNsQ29tbS5zbGFzcHZpZXcgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgLy90aGlzLnNsQ29tbS5zbGFzcHZpZXcuYXNwUGFyc2UodGhpcy5zbENvbW0sIHNldHRpbmdzLCB0aGlzLmdldFNlbWFMb2dpY1RleHQoKSlcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUpID0+IHtcclxuICAgICAgICByZXNvbHZlKHJlc3VsdGh0dHApO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0hpZ2gsIHRoaXMuc2xDb21tLnNsdmlldywgYENhdGNoZXJyb3Igb2YgcmVtb3ZpbmcgY29udGV4dCAke3ZBUElfVVJMfWApXHJcbiAgICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0hpZ2gsIHRoaXMuc2xDb21tLnNsdmlldywgZS50b1N0cmluZygpKVxyXG4gICAgICBsZXQgdGV4dCA9IG5ldyBEb2N1bWVudEZyYWdtZW50KClcclxuICAgICAgdGV4dC5jcmVhdGVFbChcInBcIilcclxuICAgICAgbGV0IHRleHRmcmFnbWVudCA9IChuZXcgUmFuZ2UoKSkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGUudG9TdHJpbmcoKSk7XHJcbiAgICAgIHRleHQuYXBwZW5kQ2hpbGQodGV4dGZyYWdtZW50KVxyXG4gICAgICB0ZXh0LmNyZWF0ZUVsKFwicFwiKVxyXG4gICAgICB0ZXh0ZnJhZ21lbnQgPSAobmV3IFJhbmdlKCkpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChcIlNlZSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yLWNvZGUgb2YgaHR0cDogaHR0cHM6Ly9kZS53aWtpcGVkaWEub3JnL3dpa2kvSFRUUC1TdGF0dXNjb2RlIFwiKTtcclxuICAgICAgdGV4dC5hcHBlbmQodGV4dGZyYWdtZW50KVxyXG4gICAgICB0ZXh0LmNyZWF0ZUVsKFwicFwiKVxyXG4gICAgICB0ZXh0ZnJhZ21lbnQgPSAobmV3IFJhbmdlKCkpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChzZW1hTG9naWNSZXF1ZXN0LnVybCk7XHJcbiAgICAgIHRleHQuYXBwZW5kKHRleHRmcmFnbWVudClcclxuICAgICAgdGV4dC5jcmVhdGVFbChcInBcIilcclxuICAgICAgdGV4dGZyYWdtZW50ID0gKG5ldyBSYW5nZSgpKS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoU3RyaW5nKHNlbWFMb2dpY1JlcXVlc3QuYm9keSkpO1xyXG4gICAgICB0ZXh0LmFwcGVuZCh0ZXh0ZnJhZ21lbnQpXHJcbiAgICAgIHRoaXMuc2hvd0Vycm9yKHRleHQpXHJcbiAgICAgIHRocm93IGVcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuIiwgIi8vIFRvRG8gKFByaW8gMyk6IEdldHRpbmcgRGVmYXVsdC1BUEktVVJMIGJ5IEFQSS1EZXNjcmlwdGlvblxyXG5leHBvcnQgY29uc3QgQVBJX0RlZmF1bHRzID0ge1xyXG5cdGh0dHA6IFwiaHR0cDovL1wiLFxyXG5cdGh0dHBzOiBcImh0dHBzOi8vXCIsXHJcblx0QmFzZV9VUkw6IFwic2VydmljZS5zZW1hbG9naWMuZGRucy5uZXRcIixcclxuXHRQb3J0OiBcIjQ0M1wiLFxyXG5cdHJ1bGVzX3BhcnNlOiBcIi9ydWxlcy9wYXJzZVwiLFxyXG5cdHJlc2V0OiBcIi9yZXNldFwiLFxyXG5cdFZlcnNpb246IFwiL0FQSVZlcnNpb25cIixcclxuXHRQb3N0RGlhbGVjdDogXCIvZGlhbGVjdC9kZWZpbmVcIixcclxuXHRSZW1vdmVEaWFsZWN0OiBcIi9kaWFsZWN0L3JlbW92ZVwiLFxyXG5cdEdldEFQSTogXCIvQVBJVmVyc2lvblwiLFxyXG5cdFNJRDogXCIxMjM0NTY3OFwiLFxyXG5cdFNob3dDb250ZXh0OiB0cnVlLFxyXG5cdHVzZVVzZXJQYXNzd29ydGZvckhUVFA6IHRydWUsXHJcblx0SHR0cFVzZXI6IFwiVXNlclwiLFxyXG5cdEh0dHBQYXNzd29yZDogXCJQYXNzd29yZFwiLFxyXG5cdHZpZXdoZWFkZXI6IFwiU1ZHXCIsXHJcblx0QXNwVXJsOiBcIkFTUC1TZXJ2aWNlLVVSTC5jb20vXCIsXHJcblx0QXNwRW5kcG9pbnQ6IFwiL3BsYW5zL2NvdW50XCIsXHJcblx0dXNlVXNlclBhc3N3b3J0Zm9ySFRUUFNMOiB0cnVlLFxyXG5cdEh0dHBVc2VyU0w6IFwiVXNlclwiLFxyXG5cdEh0dHBQYXNzd29yZFNMOiBcIlBhc3N3b3JkXCIsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBWYWx1ZV9EZWZhdWx0cyA9IHtcclxuXHR1cGRhdGVJbnRlcnZhbDogNTAwXHJcbn1cclxuXHJcblxyXG4vLyBUb0RvOiAyLnggT3B0aW1pemVkIGFycmF5IHN0cnVjdCAvIG1ldGhvZHMgZm9yIGNvbW1hbmRzIFxyXG5leHBvcnQgdmFyIHNlbWFMb2dpY0NvbW1hbmQgPSB7XHJcblx0Y29tbWFuZF9zdGFydDogXCJTZW1hTG9naWMoXCIsXHJcblx0Y29tbWFuZF9lbmQ6IFwiKVwiLFxyXG5cdHNob3dIZWxwOiBcInNob3cgaGVscFwiLFxyXG5cdHNob3dWZXJzaW9uOiBcInNob3cgdmVyc2lvblwiLFxyXG5cdGdldERpYWxlY3R3VGVtcGxhdGU6IFwidGVtcGxhdGVcIiwgLy8gVG9EbzogR2V0IFRlbXBsYXRlIHBsYW5lZCBmb3IgdmVyc2lvbiAyLnhcclxuXHR1c2VEaWFsZWN0OiBcInVzZSA/Pz9kaWFsZWN0TmFtZT8/P1wiLFxyXG5cdGRlZmluZTogXCJkZWZpbmVcIiwgLy8gRGVmaW5lIGlzIG5vdCBmb3Igb2JzaWRpYW4gLSBpdCBpcyBmb3IgZGVmaW5pbmcgU2VtYUxvZ2ljLUludGVycHJldGF0aW9uXHJcblx0c2hvd1BhcnNlOiBcInNob3cgYXNcIixcclxuXHRzaG93RmlsdGVyOiBcImZvclwiLFxyXG5cdHRyYW5zZmVyOiBcInRyYW5zZmVyXCIsXHJcblx0dHJhbnNmZXJFbmRwb2ludDogXCJ0byBlbmRwb2ludFwiLFxyXG5cdHRyYW5zZmVyUGFyYW06IFwid2l0aCBwYXJhbVwiXHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgc3ltdG9rZW4gPSBcIlN5bVRva2VuXCJcclxuXHJcbmV4cG9ydCBjb25zdCBzZW1hTG9naWNIZWxwOiBzdHJpbmdbXVtdID0gW1xyXG5cdFtzZW1hTG9naWNDb21tYW5kLmNvbW1hbmRfc3RhcnQgKyBcIj8/P1wiICsgc2VtYUxvZ2ljQ29tbWFuZC5jb21tYW5kX2VuZCwgXCJZb3UgY2FuIGRlZmluZSB3aGF0IFNlbWFMb2dpYyBzaG91bGQgZG8gZm9yIHlvdSBieSByZXBsYWNpbmcgPz8/IHdpdGggb25lIG9mIHRoZSBmb2xsb3dpbmcgU2VtYUxvZ2ljIGNvbW1hbmRzOlwiXSxcclxuXHRbc2VtYUxvZ2ljQ29tbWFuZC5jb21tYW5kX3N0YXJ0ICsgc2VtYUxvZ2ljQ29tbWFuZC5zaG93SGVscCArIHNlbWFMb2dpY0NvbW1hbmQuY29tbWFuZF9lbmQsIFwiU2hvdyB0aGlzIGhlbHAgaW5mb3JtYXRpb25cIl0sXHJcblx0W3NlbWFMb2dpY0NvbW1hbmQuY29tbWFuZF9zdGFydCArIHNlbWFMb2dpY0NvbW1hbmQuc2hvd1ZlcnNpb24gKyBzZW1hTG9naWNDb21tYW5kLmNvbW1hbmRfZW5kLCBcIlNob3cgdGhlIHZlcnNpb24gb2YgdGhlIFNlbWFMb2dpYy1TZXJ2aWNlXCJdLFxyXG5cdFtzZW1hTG9naWNDb21tYW5kLmNvbW1hbmRfc3RhcnQgKyBzZW1hTG9naWNDb21tYW5kLmRlZmluZSArIHNlbWFMb2dpY0NvbW1hbmQuY29tbWFuZF9lbmQsIFwiQWZ0ZXIgdGhpcyBpbmxpbmVjb21tYW5kIGFuZCBhIHNwYWNlIGxpbmUgY29tZXMgZS5nLiBhIHRhYmxlIHRoYXQgc2hvdWxkIGJlIGludGVycHJldGVkIGJ5IFNlbWFMb2dpYyAodGFibGUsIE5UYWJsZSwgWlRhYmxlKSB3aXRoIG9wdGlvbmFsIGhlYWRlcmludGVycHJldGF0aW9uLSBFeHBlY3RlZCBmb3JtYXQ6XFxuKHxTeW1ib2x8fExldmVsKG4rMSl8XFxufC0tLXwtLS18XFxufExldmVsKDEpfExldmVsKG4pfFZhbHVlfClcIl0sXHJcblx0W2Ake3NlbWFMb2dpY0NvbW1hbmQuY29tbWFuZF9zdGFydCArIHNlbWFMb2dpY0NvbW1hbmQuc2hvd1BhcnNlfSAlMSAke3NlbWFMb2dpY0NvbW1hbmQuc2hvd0ZpbHRlcn0gJTIgJHtzZW1hTG9naWNDb21tYW5kLmNvbW1hbmRfZW5kfWAsIFwic2hvdyBhcyAtIHNob3dzIGFuIG91dHB1dCBkaXJlY3RseSB0byB0aGUgcmVhZGluZyB2aWV3ICggd2l0aCAlMSB5b3UgaGF2ZSB0byBzZXQgdGhlIG91dHB1dCB0eXBlOiAxfDEge3BpY3R1cmUsIHN5ZW1hbG9naWMsIGFzcH0gYW5kIHdpdGggJTIgeW91IGNvdWxkIGZpbHRlciBmb3IgYW4gc3ltYm9sIGJ5IHN5bWJvbG5hbWUpXCJdLFxyXG5cdFtgJHtzZW1hTG9naWNDb21tYW5kLmNvbW1hbmRfc3RhcnQgKyBzZW1hTG9naWNDb21tYW5kLnRyYW5zZmVyfSAlMSAke3NlbWFMb2dpY0NvbW1hbmQudHJhbnNmZXJFbmRwb2ludH0gJTIgJHtzZW1hTG9naWNDb21tYW5kLnRyYW5zZmVyUGFyYW19ICUzICR7c2VtYUxvZ2ljQ29tbWFuZC5jb21tYW5kX2VuZH1gLCBcInRyYW5zZmVyIC0gc2hvd3MgYW4gKGN1cnJlbnRseSBvbmx5KSBhc3Agb3V0cHV0IGRpcmVjdGx5IHRvIHRoZSBhc3AudmlldyBmcm9tIFNlbWFMb2dpY1ZpZXcgKCB3aXRoICUxIHlvdSBoYXZlIHRvIHNldCB0aGUgb3V0cHV0IHR5cGU6IDF8MSB7YXNwfSBhbmQgd2l0aCAlMiB5b3UgY291bGQgc2V0IHRoZSBlbmRwb2ludCBhbmQgd3V0aCAlMyB5b3UgY291bGQgc2V0IHF1ZXJ5cGFyYW1ldGVyKVwiXSxcclxuXVxyXG5cclxuLy8gcnVsZXNldHR5cGUgOiB0eXBlLCBOYW1pbmdcclxuZXhwb3J0IGNvbnN0IFJzdHlwZXNfU2VtYWxvZ2ljID0gMFxyXG5leHBvcnQgY29uc3QgUnN0eXBlc19QaWN0dXJlID0gM1xyXG5leHBvcnQgY29uc3QgUnN0eXBlc19BU1AgPSA2XHJcbmV4cG9ydCBjb25zdCBSc3R5cGVzX1NlbWFudGljVHJlZSA9IDhcclxuZXhwb3J0IGNvbnN0IFJzdHlwZXNfS25vd2xlZGdlR3JhcGggPSA5XHJcblxyXG5leHBvcnQgY29uc3QgUnVsZXNldHR5cGVzQ29tbWFuZHM6IHN0cmluZ1tdW10gPSBbXHJcblx0W1wiU2VtYUxvZ2ljXCIsIFwiU2VtYUxvZ2ljXCJdLFxyXG5cdFtcInRlY2huaWNhbFwiLCBcIlNlbWFMb2dpY1wiXSxcclxuXHRbXCJzZW1hbG9naWNcIiwgXCJTZW1hTG9naWNcIl0sXHJcblx0W1wiUGljdHVyZSAoU1ZHKVwiLCBcIlNWR1wiXSxcclxuXHRbXCJwaWN0dXJlXCIsIFwiU1ZHXCJdLFxyXG5cdFtcIlNWR1wiLCBcIlNWR1wiXSxcclxuXHRbXCJBU1BcIiwgXCJBU1AuanNvblwiXSxcclxuXHRbXCJhc3BcIiwgXCJBU1AuanNvblwiXSxcclxuXHRbXCJTZW1hbnRpY1RyZWVcIiwgXCJTZW1hbnRpY1RyZWVcIl0sXHJcblx0W1wiS253b2xlZGdlR3JhcGhcIiwgXCJLbm93bGVkZ2VHcmFwaFwiXVxyXG5dXHJcblxyXG5leHBvcnQgY29uc3QgRGVidWdMZXZlbE5hbWVzOiBzdHJpbmdbXSA9XHJcblx0W1xyXG5cdFx0J0RlYnVnTGV2ZWxfT2ZmJyxcclxuXHRcdCdEZWJ1Z0xldmVsX0Vycm9yJyxcclxuXHRcdCdEZWJ1Z0xldmVsX0N1cnJlbnRfRGV2JyxcclxuXHRcdCdEZWJ1Z0xldmVsX0ltcG9ydGFudCcsXHJcblx0XHQnRGVidWdMZXZlbF9JbmZvcm1hdGl2ZScsXHJcblx0XHQnRGVidWdMZXZlbF9DaGF0dHknLFxyXG5cdFx0J0RlYnVnTGV2ZWxfQWxsJ1xyXG5cdF1cclxuXHJcblxyXG5leHBvcnQgY29uc3QgRGVidWdMZXZNYXA6IERlYnVnTGV2ZWxfSSA9IHtcclxuXHQnRGVidWdMZXZlbF9PZmYnOiAwLFxyXG5cdCdEZWJ1Z0xldmVsX0Vycm9yJzogMSxcclxuXHQnRGVidWdMZXZlbF9DdXJyZW50X0Rldic6IDIsXHJcblx0J0RlYnVnTGV2ZWxfSW1wb3J0YW50JzogMyxcclxuXHQnRGVidWdMZXZlbF9JbmZvcm1hdGl2ZSc6IDQsXHJcblx0J0RlYnVnTGV2ZWxfQ2hhdHR5JzogNSxcclxuXHQnRGVidWdMZXZlbF9BbGwnOiA2XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZWJ1Z0xldmVsX0kge1xyXG5cdFtMZXZlbG5hbWU6IHN0cmluZ106IG51bWJlclxyXG59XHJcblxyXG50eXBlIE1hcFR5cGUgPSB7XHJcblx0W2lkOiBzdHJpbmddOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzbFRleHRzOiBNYXBUeXBlID0ge1xyXG5cdFwiSGVhZGVyU0xcIjogXCJTZW1hTG9naWMuVmlld1wiLFxyXG5cdFwiSGVhZGVyVFZcIjogXCJUcmFuc2Zlci5WaWV3XCJcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBzbFRlbXBsYXRlOiBNYXBUeXBlID0ge1xyXG5cdFwiUGF0aENvbW1hbmRzXCI6IFwiVGVtcGxhdGVzL1NlbWFMb2dpYy9Db21tYW5kc1wiLFxyXG5cdFwiUGF0aFN5bVRva2VuQ29tcGFyaXNvblwiOiBcIlRlbXBsYXRlcy9TZW1hTG9naWMvU3ltVG9rZW4vQ29tcGFyaXNvblwiLFxyXG5cdFwiUGF0aFN5bVRva2VuRWxlbWVudHNcIjogXCJUZW1wbGF0ZXMvU2VtYUxvZ2ljL1N5bVRva2VuL0VsZW1lbnRzXCIsXHJcblx0XCJQYXRoU3ltVG9rZW5GdW5jXCI6IFwiVGVtcGxhdGVzL1NlbWFMb2dpYy9TeW1Ub2tlbi9GdW5jVG9rZW5cIixcclxuXHRcIlBhdGhTeW1Ub2tlbk1hdGhcIjogXCJUZW1wbGF0ZXMvU2VtYUxvZ2ljL1N5bVRva2VuL01hdGhcIixcclxuXHRcIlBhdGhTeW1Ub2tlblJlZlRva2VuXCI6IFwiVGVtcGxhdGVzL1NlbWFMb2dpYy9TeW1Ub2tlbi9SZWZUb2tlblwiLFxyXG5cdFwiUGF0aFN5bVRva2VuVGVybXNcIjogXCJUZW1wbGF0ZXMvU2VtYUxvZ2ljL1N5bVRva2VuL1Rlcm1zQW5kUnVsZXNcIixcclxuXHRcIlBhdGhFeGFtcGxlc0Jhc2ljXCI6IFwiVGVtcGxhdGVzL1NlbWFMb2dpYy9FeGFtcGxlcy9CYXNpY1wiXHJcbn1cclxuXHJcbiIsICJpbXBvcnQgeyBNYXJrZG93blJlbmRlckNoaWxkLCBNYXJrZG93blZpZXcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IHJlcXVlc3RVcmwsIFJlcXVlc3RVcmxQYXJhbSwgUmVxdWVzdFVybFJlc3BvbnNlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBEZWJ1Z0xldmVsLCBTZW1hTG9naWNQbHVnaW5TZXR0aW5ncywgbXlnU0lEIH0gZnJvbSBcIi4uL21haW5cIjtcclxuaW1wb3J0IHsgQVBJX0RlZmF1bHRzLCBzZW1hTG9naWNDb21tYW5kLCBzZW1hTG9naWNIZWxwLCBEZWJ1Z0xldk1hcCwgUnVsZXNldHR5cGVzQ29tbWFuZHMsIFJzdHlwZXNfQVNQIH0gZnJvbSBcIi4vY29uc3RcIlxyXG5pbXBvcnQgeyBTZW1hTG9naWNWaWV3LCBTZW1hTG9naWNWaWV3VHlwZSB9IGZyb20gXCIuL3ZpZXdcIjtcclxuaW1wb3J0IHsgcGFyc2VDb21tYW5kIH0gZnJvbSAnc3JjL3ZpZXdfdXRpbHMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNlYXJjaEZvclNlbWFMb2dpY0NvbW1hbmRzID0gKGVsOiBFbGVtZW50KTogYm9vbGVhbiA9PiB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbC5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBjaGlsZCA9IGVsLmNoaWxkTm9kZXNbaV07XHJcbiAgICBpZiAoaXNTZW1hTG9naWNDb21tYW5kKGNoaWxkKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGlzU2VtYUxvZ2ljQ29tbWFuZCA9IChuOiBOb2RlKTogYm9vbGVhbiA9PlxyXG4gIG4ubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICYmIEJvb2xlYW4obi50ZXh0Q29udGVudD8uc3RhcnRzV2l0aChzZW1hTG9naWNDb21tYW5kLmNvbW1hbmRfc3RhcnQpKTtcclxuXHJcblxyXG4vLyBjaGVjayBpZiB0aGUgbm9kZSBoYXMgdG8gYmUgcmVwbGFjZWQgbXVzdCBiZSBkbyBiZWZvcmUgXHJcbmV4cG9ydCBjb25zdCByZXBsYWNlV2l0aEVtcHR5Tm9kZSA9IChjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiBOb2RlW10gPT4ge1xyXG4gIGNvbnN0IHJlc3VsdHM6IE5vZGVbXSA9IFtdO1xyXG4gIHJldHVybiByZXN1bHRzXHJcbn07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVwbGFjZVdpdGhDb21tYW5kTm9kZShjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHNldHRpbmdzOiBTZW1hTG9naWNQbHVnaW5TZXR0aW5ncyk6IFByb21pc2U8Tm9kZVtdPiB7XHJcbiAgbGV0IHJlc3VsdHM6IE5vZGVbXSA9IFtdXHJcbiAgbGV0IGZvdW5kOiBib29sZWFuID0gZmFsc2VcclxuXHJcbiAgbGV0IHNlbWFMb2dpY0NvbSA9IGNvbnRhaW5lckVsLnRleHRDb250ZW50Py5zdWJzdHJpbmcoc2VtYUxvZ2ljQ29tbWFuZC5jb21tYW5kX3N0YXJ0Lmxlbmd0aCwgY29udGFpbmVyRWwudGV4dENvbnRlbnQ/LmluZGV4T2Yoc2VtYUxvZ2ljQ29tbWFuZC5jb21tYW5kX2VuZCkpLnRvTG93ZXJDYXNlKClcclxuXHJcbiAgaWYgKCghZm91bmQpICYmICgoc2VtYUxvZ2ljQ29tPy50b1N0cmluZygpLnN1YnN0cmluZygwLCBzZW1hTG9naWNDb21tYW5kLnNob3dIZWxwLmxlbmd0aCkpID09IHNlbWFMb2dpY0NvbW1hbmQuc2hvd0hlbHApKSB7Ly9zZW1hTG9naWNDb21tYW5kLnNob3dIZWxwLnRvTG93ZXJDYXNlKCkpKSB7XHJcbiAgICAvLyBNYWtlIHRhYmxlIHdpdGggaGVscC1BcnJheVxyXG4gICAgcmVzdWx0cyA9IGF3YWl0IHNob3dIZWxwKClcclxuICAgIGZvdW5kID0gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgaWYgKCghZm91bmQpICYmICgoc2VtYUxvZ2ljQ29tPy50b1N0cmluZygpLnN1YnN0cmluZygwLCBzZW1hTG9naWNDb21tYW5kLnNob3dWZXJzaW9uLmxlbmd0aCkpID09IHNlbWFMb2dpY0NvbW1hbmQuc2hvd1ZlcnNpb24pKSB7Ly8gc2VtYUxvZ2ljQ29tbWFuZC5zaG93VmVyc2lvbi50b0xvd2VyQ2FzZSgpKSkge1xyXG4gICAgcmVzdWx0cyA9IGF3YWl0IHNob3dWZXJzaW9uKHNldHRpbmdzKVxyXG4gICAgZm91bmQgPSB0cnVlXHJcbiAgfVxyXG5cclxuICBpZiAoKCFmb3VuZCkgJiYgKChzZW1hTG9naWNDb20/LnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIHNlbWFMb2dpY0NvbW1hbmQuc2hvd1BhcnNlLmxlbmd0aCkpID09IHNlbWFMb2dpY0NvbW1hbmQuc2hvd1BhcnNlKSkgey8vIHNlbWFMb2dpY0NvbW1hbmQuc2hvd1BhcnNlLnRvTG93ZXJDYXNlKCkpKSB7XHJcbiAgICAvLyBzZWFyY2ggZm9yIHJ1bGVzc2V0dHlwZVxyXG4gICAgbGV0IHJ1bGVzZXR0eXBlOiBzdHJpbmcgPSBcIlwiIC8vIHNvIGZhciBhcyB0aGVyZSBpcyBubyBvdXRwdXRmb3JtYXQgLSBub3RoaW5nIHRvIGRvXHJcbiAgICBsZXQgZmlsdGVyOiBzdHJpbmcgPSBcIlwiXHJcblxyXG4gICAgZm9yIChsZXQgcnVsZSBpbiBSdWxlc2V0dHlwZXNDb21tYW5kcykge1xyXG4gICAgICAvLyBzZWFyY2ggZm9yIHRoZSBydWxlc3NldHR5cGUgd2hpY2ggaXMgdG8gc2hvdyBpbmxpbmVcclxuICAgICAgaWYgKHNlbWFMb2dpY0NvbS5jb250YWlucyhSdWxlc2V0dHlwZXNDb21tYW5kc1tydWxlXVswXSkpIHtcclxuICAgICAgICBydWxlc2V0dHlwZSA9IFJ1bGVzZXR0eXBlc0NvbW1hbmRzW3J1bGVdWzFdXHJcbiAgICAgICAgLy8gc2VhcmNoIGZvciBhIGdpdmVuIGZpbHRlclxyXG4gICAgICAgIGNvbnN0IGZpbmRmb3IgPSBzZW1hTG9naWNDb20uaW5kZXhPZihzZW1hTG9naWNDb21tYW5kLnNob3dGaWx0ZXIpXHJcbiAgICAgICAgaWYgKGZpbmRmb3IgPiAwKSB7XHJcbiAgICAgICAgICBmaWx0ZXIgPSBzZW1hTG9naWNDb20uc3Vic3RyaW5nKGZpbmRmb3IgKyBzZW1hTG9naWNDb21tYW5kLnNob3dGaWx0ZXIubGVuZ3RoKVxyXG4gICAgICAgICAgZmlsdGVyID0gZmlsdGVyLnRyaW0oKVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3VuZCA9IHRydWVcclxuICAgICAgICBicmVha1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFmb3VuZCkgeyAvLyBEZWZhdWx0XHJcbiAgICAgIC8vIE1ha2UgdGFibGUgd2l0aCBoZWxwLUFycmF5XHJcbiAgICAgIHJlc3VsdHMgPSBhd2FpdCBzaG93SGVscCgpXHJcbiAgICAgIGZvdW5kID0gdHJ1ZVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAocnVsZXNldHR5cGUgIT0gXCJcIikge1xyXG4gICAgICByZXN1bHRzID0gYXdhaXQgc2hvd1BhcnNlV2l0aEZpbHRlcihmaWx0ZXIsIHJ1bGVzZXR0eXBlLCBzZXR0aW5ncylcclxuICAgIH1cclxuICAgIGZvdW5kID0gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgaWYgKCFmb3VuZCkge1xyXG4gICAgcmVzdWx0cyA9IHJlcGxhY2VXaXRoRW1wdHlOb2RlKGNvbnRhaW5lckVsKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdHNcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNlbWFMb2dpY1JlbmRlcmVkRWxlbWVudCBleHRlbmRzIE1hcmtkb3duUmVuZGVyQ2hpbGQge1xyXG4gIG15c2V0dGluZ3M6IFNlbWFMb2dpY1BsdWdpblNldHRpbmdzO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih7IGNvbnRhaW5lckVsLCBzZXQgfTogeyBjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHNldDogU2VtYUxvZ2ljUGx1Z2luU2V0dGluZ3MgfSkge1xyXG4gICAgc3VwZXIoY29udGFpbmVyRWwpO1xyXG4gICAgdGhpcy5teXNldHRpbmdzID0gc2V0XHJcbiAgfVxyXG4gIGFzeW5jIG9ubG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRoaXMuY29udGFpbmVyRWwuc2V0Q2hpbGRyZW5JblBsYWNlKFxyXG4gICAgICBhd2FpdCByZXBsYWNlV2l0aENvbW1hbmROb2RlKHRoaXMuY29udGFpbmVyRWwsIHRoaXMubXlzZXR0aW5ncylcclxuICAgICAgLy9yZXBsYWNlV2l0aEVtcHR5Tm9kZSh0aGlzLmNvbnRhaW5lckVsKVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNob3dIZWxwKCk6IFByb21pc2U8Tm9kZVtdPiB7XHJcbiAgbGV0IHJlc3VsdHM6IE5vZGVbXSA9IFtdO1xyXG4gIGxldCBidWlsZGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW5mb3JtYXRpdmUsIHVuZGVmaW5lZCwgc2VtYUxvZ2ljQ29tbWFuZC5zaG93SGVscClcclxuXHJcbiAgYnVpbGRjb250YWluZXJFbCA9IGNyZWF0ZUVsKCd0YWJsZScpO1xyXG4gIGxldCBib2R5ID0gYnVpbGRjb250YWluZXJFbC5jcmVhdGVFbChcImJvZHlcIik7XHJcbiAgbGV0IHJvdyA9IGJvZHkuY3JlYXRlRWwoXCJ0clwiKTtcclxuICByb3cuY3JlYXRlRWwoXCJ0ZFwiLCB7IHRleHQ6IFwiU2VtYUxvZ2ljLUNvbW1hbmRzLUhlbHBcIiB9KTtcclxuICByb3cuY3JlYXRlRWwoXCJ0ZFwiLCB7IHRleHQ6IFwiRGVzY3JpcHRpb25cIiB9KTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbWFMb2dpY0hlbHAubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnN0IHJvdyA9IGJvZHkuY3JlYXRlRWwoXCJ0clwiKTtcclxuICAgIHJvdy5jcmVhdGVFbChcInRkXCIsIHsgdGV4dDogc2VtYUxvZ2ljSGVscFtpXVswXSB9KTtcclxuICAgIHJvdy5jcmVhdGVFbChcInRkXCIsIHsgdGV4dDogc2VtYUxvZ2ljSGVscFtpXVsxXSB9KTtcclxuICB9XHJcblxyXG4gIHJlc3VsdHMucHVzaChidWlsZGNvbnRhaW5lckVsKTtcclxuICByZXR1cm4gcmVzdWx0cztcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gc2hvd1ZlcnNpb24oc2V0dGluZ3M6IFNlbWFMb2dpY1BsdWdpblNldHRpbmdzKTogUHJvbWlzZTxOb2RlW10+IHtcclxuICBsZXQgcmVzdWx0czogTm9kZVtdID0gW107XHJcbiAgbGV0IGJ1aWxkY29udGFpbmVyRWw6IEhUTUxFbGVtZW50O1xyXG4gIGxldCB2ZXJzaW9udGV4dDogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW5mb3JtYXRpdmUsIHVuZGVmaW5lZCwgc2VtYUxvZ2ljQ29tbWFuZC5zaG93VmVyc2lvbilcclxuXHJcbiAgY29uc3QgdmVyc2lvbiA9IGF3YWl0IHNlbWFMb2dpY0dldFZlcnNpb24oc2V0dGluZ3MpXHJcbiAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0QnVmZmVyOiBhbnkpIHtcclxuICAgICAgdmVyc2lvbnRleHQgPSByZXN1bHRCdWZmZXI7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChyZXN1bHRCdWZmZXI6IGFueSkgeyB2ZXJzaW9udGV4dCA9IHJlc3VsdEJ1ZmZlcjsgfVxyXG4gICAgKVxyXG4gIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0hpZ2gsIHVuZGVmaW5lZCwgYEpTT04tVGV4dCBpbiBQcm9jZXNzb3I6JHt2ZXJzaW9udGV4dH1gKVxyXG5cclxuICAvLyBWZXJzaW9uIGlzIHNob3duIGluIGEgdGFibGUgbGluZVxyXG4gIGJ1aWxkY29udGFpbmVyRWwgPSBjcmVhdGVFbCgndGFibGUnKTtcclxuICBjb25zdCB0YWJsZSA9IGJ1aWxkY29udGFpbmVyRWwuY3JlYXRlRWwoJ3RhYmxlJyk7XHJcbiAgY29uc3QgYm9keSA9IGJ1aWxkY29udGFpbmVyRWwuY3JlYXRlRWwoXCJib2R5XCIpO1xyXG4gIGNvbnN0IHJvdyA9IGJvZHkuY3JlYXRlRWwoXCJ0clwiKTtcclxuICByb3cuY3JlYXRlRWwoXCJ0ZFwiLCB7IHRleHQ6IHZlcnNpb250ZXh0IH0pO1xyXG5cclxuICByZXN1bHRzLnB1c2goYnVpbGRjb250YWluZXJFbCk7XHJcbiAgcmV0dXJuIHJlc3VsdHM7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNob3dQYXJzZVNWRyhGaWx0ZXI6IHN0cmluZyk6IFByb21pc2U8Tm9kZVtdPiB7XHJcbiAgbGV0IHJlc3VsdHM6IE5vZGVbXSA9IFtdO1xyXG4gIGxldCBidWlsZGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW5mb3JtYXRpdmUsIHVuZGVmaW5lZCwgc2VtYUxvZ2ljQ29tbWFuZC5zaG93SGVscCk7XHJcblxyXG4gIGJ1aWxkY29udGFpbmVyRWwgPSBjcmVhdGVFbCgndGFibGUnKTtcclxuICBsZXQgYm9keSA9IGJ1aWxkY29udGFpbmVyRWwuY3JlYXRlRWwoXCJib2R5XCIpO1xyXG4gIGxldCByb3cgPSBib2R5LmNyZWF0ZUVsKFwidHJcIik7XHJcbiAgcm93LmNyZWF0ZUVsKFwidGRcIiwgeyB0ZXh0OiBcIlNlbWFMb2dpYy1Db21tYW5kcy1IZWxwXCIgfSk7XHJcbiAgcm93LmNyZWF0ZUVsKFwidGRcIiwgeyB0ZXh0OiBcIkRlc2NyaXB0aW9uXCIgfSk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZW1hTG9naWNIZWxwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCByb3cgPSBib2R5LmNyZWF0ZUVsKFwidHJcIik7XHJcbiAgICByb3cuY3JlYXRlRWwoXCJ0ZFwiLCB7IHRleHQ6IHNlbWFMb2dpY0hlbHBbaV1bMF0gfSk7XHJcbiAgICByb3cuY3JlYXRlRWwoXCJ0ZFwiLCB7IHRleHQ6IHNlbWFMb2dpY0hlbHBbaV1bMV0gfSk7XHJcbiAgfVxyXG5cclxuICByZXN1bHRzLnB1c2goYnVpbGRjb250YWluZXJFbCk7XHJcbiAgcmV0dXJuIHJlc3VsdHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldGh0dHBzKGh0dHBzOiBib29sZWFuKTogc3RyaW5nIHtcclxuICBsZXQgc3RyOiBzdHJpbmdcclxuICAvLyBodHRwcyA/XHJcbiAgaWYgKGh0dHBzKSB7XHJcbiAgICBzdHIgPSBBUElfRGVmYXVsdHMuaHR0cHNcclxuICB9IGVsc2Uge1xyXG4gICAgc3RyID0gQVBJX0RlZmF1bHRzLmh0dHBcclxuICB9XHJcbiAgcmV0dXJuIHN0clxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG9zdFBvcnQoc2V0dGluZ3M6IFNlbWFMb2dpY1BsdWdpblNldHRpbmdzKTogc3RyaW5nIHtcclxuICBsZXQgYWRyZXNzID0gc2V0aHR0cHMoc2V0dGluZ3MubXlTTFNldHRpbmdzW3NldHRpbmdzLm15U2V0dGluZ10ubXlVc2VIdHRwc1NMKVxyXG4gIGFkcmVzcyA9IGFkcmVzcyArIHNldHRpbmdzLm15U0xTZXR0aW5nc1tzZXR0aW5ncy5teVNldHRpbmddLm15QmFzZVVSTFxyXG5cclxuICBpZiAoc2V0dGluZ3MubXlTTFNldHRpbmdzW3NldHRpbmdzLm15U2V0dGluZ10ubXlQb3J0ICE9ICcnKSB7XHJcbiAgICBhZHJlc3MgPSBhZHJlc3MgKyAnOicgKyBzZXR0aW5ncy5teVNMU2V0dGluZ3Nbc2V0dGluZ3MubXlTZXR0aW5nXS5teVBvcnRcclxuICB9XHJcbiAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSGlnaCwgdW5kZWZpbmVkLCAnZ2V0dGluZyBTZW1hTG9naWMtQWRyZXNzOiAnICsgYWRyZXNzKVxyXG4gIHJldHVybiBhZHJlc3NcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEhvc3RBc3BQb3J0KHNldHRpbmdzOiBTZW1hTG9naWNQbHVnaW5TZXR0aW5ncywgcGFyc2VkQ29tbWFuZHM6IHBhcnNlQ29tbWFuZCk6IHN0cmluZyB7XHJcbiAgbGV0IGFkcmVzczogc3RyaW5nXHJcbiAgaWYgKHBhcnNlZENvbW1hbmRzLm91dHB1dGZvcm1hdCA9PSBSdWxlc2V0dHlwZXNDb21tYW5kc1tSc3R5cGVzX0FTUF1bMV0pIHtcclxuICAgIGFkcmVzcyA9IHNldGh0dHBzKHNldHRpbmdzLm15U0xTZXR0aW5nc1tzZXR0aW5ncy5teVNldHRpbmddLm15VXNlSHR0cHMpXHJcbiAgICBhZHJlc3MgPSBhZHJlc3MgKyBzZXR0aW5ncy5teVNMU2V0dGluZ3Nbc2V0dGluZ3MubXlTZXR0aW5nXS5teUFzcFVybFxyXG4gICAgaWYgKHBhcnNlZENvbW1hbmRzLmVuZHBvaW50ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICBpZiAocGFyc2VkQ29tbWFuZHMuZW5kcG9pbnQuaW5kZXhPZihcImh0dHBcIikgPj0gMCkge1xyXG4gICAgICAgIGFkcmVzcyA9IHBhcnNlZENvbW1hbmRzLmVuZHBvaW50XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWRyZXNzID0gYWRyZXNzICsgXCIvXCIgKyBwYXJzZWRDb21tYW5kcy5lbmRwb2ludFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIHVuZGVmaW5kZWQgbmV3IHRyYW5zZmVyIGVuZHBvaW50XHJcbiAgICBhZHJlc3MgPSBwYXJzZWRDb21tYW5kcy5lbmRwb2ludFxyXG4gIH1cclxuICBpZiAoKHBhcnNlZENvbW1hbmRzLnBhcmFtICE9IHVuZGVmaW5lZCkgJiYgKHBhcnNlZENvbW1hbmRzLnBhcmFtICE9ICcnKSkgeyBhZHJlc3MgPSBhZHJlc3MgKyBcIj9cIiArIHBhcnNlZENvbW1hbmRzLnBhcmFtIH1cclxuICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9IaWdoLCB1bmRlZmluZWQsICdnZXR0aW5nIGFzcC1BZHJlc3M6ICcgKyBhZHJlc3MpXHJcbiAgcmV0dXJuIGFkcmVzc1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VtYUxvZ2ljR2V0VmVyc2lvbihzZXR0aW5nczogU2VtYUxvZ2ljUGx1Z2luU2V0dGluZ3MpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cclxuICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHVuZGVmaW5lZCwgXCJTdGFydCBzZW1hTG9naWNHZXRWZXJzaW9uXCIpXHJcblxyXG4gIC8vIFByZXBhcmUgSlNPTi1Gb3JtYXRcclxuICBjb25zdCBteVZlcnNpb24gPSAne1widmVyc2lvblwiOlwiMFwiLFwidmVyc2lvbnRleHRcIjpcIlRleHRcIn0nO1xyXG4gIGxldCBteUpzb24gPSBKU09OLnBhcnNlKG15VmVyc2lvbik7XHJcbiAgbGV0IGpzb25WZXJzaW9uOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAvLyBDcmVhdGUgVXJsIGZvciBHZXQgVmVyc2lvblxyXG4gIGxldCB2QVBJX1VSTF9WZXJzaW9uID0gZ2V0SG9zdFBvcnQoc2V0dGluZ3MpICsgQVBJX0RlZmF1bHRzLlZlcnNpb247XHJcbiAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB1bmRlZmluZWQsIHZBUElfVVJMX1ZlcnNpb24pXHJcblxyXG4gIGxldCBvcHRpb25zOiBSZXF1ZXN0VXJsUGFyYW1cclxuXHJcbiAgaWYgKHNldHRpbmdzLm15U0xTZXR0aW5nc1tzZXR0aW5ncy5teVNldHRpbmddLm15VXNlSHR0cHNTTCAmJiBzZXR0aW5ncy5teVNMU2V0dGluZ3Nbc2V0dGluZ3MubXlTZXR0aW5nXS5teVVzZXJTTCAhPSAnJykge1xyXG4gICAgb3B0aW9ucyA9IHtcclxuICAgICAgdXJsOiB2QVBJX1VSTF9WZXJzaW9uLFxyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiQmFzaWMgXCIgKyBidG9hKHNldHRpbmdzLm15U0xTZXR0aW5nc1tzZXR0aW5ncy5teVNldHRpbmddLm15VXNlclNMICsgXCI6XCIgKyBzZXR0aW5ncy5teVNMU2V0dGluZ3Nbc2V0dGluZ3MubXlTZXR0aW5nXS5teVBhc3N3b3JkU0wpXHJcbiAgICAgIH0sXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgIHVybDogdkFQSV9VUkxfVmVyc2lvbixcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgIH1cclxuICB9XHJcbiAgbGV0IHJlc3BvbnNlOiBSZXF1ZXN0VXJsUmVzcG9uc2U7XHJcblxyXG4gIC8vIEdldCBpbmZvcm1hdGlvbiBhYm91dCB2ZXJzaW9uIGZyb20gdGhlIHJlcXVlc3QgXHJcbiAgdHJ5IHtcclxuICAgIHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybChvcHRpb25zKVxyXG4gICAgbXlKc29uID0gSlNPTi5wYXJzZShyZXNwb25zZS50ZXh0KTtcclxuICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0FsbCwgdW5kZWZpbmVkLCBteUpzb24udmVyc2lvbilcclxuICAgIGpzb25WZXJzaW9uID0gbXlKc29uLnZlcnNpb247XHJcbiAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9BbGwsIHVuZGVmaW5lZCwgYEpTT04tVGV4dCBpbiBSZXF1ZXN0OiR7anNvblZlcnNpb259YClcclxuICAgIHJldHVybiBqc29uVmVyc2lvbjtcclxuICB9XHJcbiAgY2F0Y2ggKGUpIHtcclxuICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0Vycm9yLCB1bmRlZmluZWQsICdFcnJvcjogQ2F0Y2ggb2YgQVBJVmVyc2lvbicgKyBlLnRvU3RyaW5nKCkpXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoKVxyXG4gIH1cclxufVxyXG5cclxuLy8gc2VtYUxvZ2ljUGluZyB0cmllcyB0byB0ZXN0IHN0YW5kYXJkVmVyc2lvbkFQSSAtIGlmIGl0IGNhbid0IGJlIGNvbm5lY3RlZCAtIHNob3cgbWVhbmluZ2Z1bCBlcnJvciBzdGF0ZVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VtYUxvZ2ljUGluZyhzZXR0aW5nczogU2VtYUxvZ2ljUGx1Z2luU2V0dGluZ3MsIGxhc3RVcGRhdGU6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGxldCBzdGFydHRpbWUgPSBEYXRlLm5vdygpXHJcbiAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW5mb3JtYXRpdmUsIHVuZGVmaW5lZCwgJ0dldFZlcnNpb25QaW5nIGF0ICcsIERhdGUubm93KCksICcgIGZvciAnLCBnZXRIb3N0UG9ydChzZXR0aW5ncykpXHJcbiAgYXdhaXQgc2VtYUxvZ2ljR2V0VmVyc2lvbihzZXR0aW5ncylcclxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHRCdWZmZXI6IGFueSkge1xyXG4gICAgICAvLyBub3RoaW5nIHRvIGRvXHJcbiAgICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0luZm9ybWF0aXZlLCB1bmRlZmluZWQsICdTZW1hTG9naWMgR2V0VmVyc2lvblBpbmcgc3RhcnRlZCBhdDonLCBzdGFydHRpbWUsICcgRW5kdGltZTogJywgRGF0ZS5ub3coKSlcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGU6IEVycm9yKSB7XHJcbiAgICAgIC8vIElmIGl0IGlzIGFuIG9sZCBlcnJvciAobG9uZyB0aW1lIGFnbyBzZW50KSwgdGhlbiB0ZWhlcmUgaXMgbm90aGluZyB0byBkb1xyXG4gICAgICBpZiAoc3RhcnR0aW1lIDwgbGFzdFVwZGF0ZSkge1xyXG4gICAgICAgIC8vIHRpbWUgdG8gc2hvdyBhbiBlcnJvciBcclxuICAgICAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHVuZGVmaW5lZCwgYFRoZXJlIGlzIG5vIGNvbm5lY3Rpb24gdG8gU2VtYUxvZ2ljU2VydmljZSBBUElWZXJzaW9uYClcclxuICAgICAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHVuZGVmaW5lZCwgZ2V0SG9zdFBvcnQoc2V0dGluZ3MpKVxyXG4gICAgICAgIGFwcC53b3Jrc3BhY2UuaXRlcmF0ZUFsbExlYXZlcygobGVhZjogYW55KSA9PiB7XHJcbiAgICAgICAgICBsZXQgc2xWaWV3ID0gbGVhZi52aWV3LmdldFZpZXdUeXBlKClcclxuICAgICAgICAgIGlmIChzbFZpZXcgPT0gU2VtYUxvZ2ljVmlld1R5cGUpIHtcclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gbGVhZi52aWV3LmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xyXG4gICAgICAgICAgICBjb250YWluZXIuZW1wdHkoKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIlNlbWFMb2dpY19FcnJvclwiIH0pO1xyXG4gICAgICAgICAgICBjb250YWluZXIuY3JlYXRlRWwoXCJiXCIsIHsgdGV4dDogXCJUaGVyZSBpcyBubyBjb25uZWN0aW9uIHRvIFNlbWFMb2dpY1NlcnZpY2UgLT4gQVBJVmVyc2lvblwiIH0pO1xyXG4gICAgICAgICAgICBjb250YWluZXIuY3JlYXRlRWwoXCJiXCIsIHsgdGV4dDogZ2V0SG9zdFBvcnQoc2V0dGluZ3MpIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0hpZ2gsIHVuZGVmaW5lZCwgJ1NlbWFMb2dpYyBHZXRWZXJzaW9uUGluZyBmYWlsZWQgYW5kIG5vdCB1c2VkIHN0YXJ0ZWQ6Jywgc3RhcnR0aW1lLCAnIEVuZHRpbWU6ICcsIERhdGUubm93KCkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIClcclxuICByZXR1cm4gdHJ1ZVxyXG59XHJcblxyXG4vLyBUb0RvOiBQYXJzZSBpc3QgZHVyY2ggZGVuIGFrdHVlbGxlbiBVbWJhdSBpbSBQcmVQcm9jZXNzb3Igbm9jaG1hbCBhbnp1cGFzc2VuXHJcbmFzeW5jIGZ1bmN0aW9uIHNob3dQYXJzZVdpdGhGaWx0ZXIoZmlsdGVyOiBzdHJpbmcsIHJ1bGVzc2V0dHlwZTogc3RyaW5nLCBzZXR0aW5nczogU2VtYUxvZ2ljUGx1Z2luU2V0dGluZ3MpOiBQcm9taXNlPE5vZGVbXT4ge1xyXG4gIC8vIFRvRG86IENoYW5nZSBmcm9tIGNvbnNvbGUtbG9nIHRvIHNsY29uc29sZWxvZyB3aXRoIFNMY29tLU9iamVjdFxyXG4gIGxldCByZXN1bHRzOiBOb2RlW10gPSBbXTtcclxuICBsZXQgYnVpbGRjb250YWluZXJFbDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIC8vbGV0IHZBUElfVVJMID0gZ2V0SG9zdFBvcnQoc2V0dGluZ3MpICsgQVBJX0RlZmF1bHRzLnJ1bGVzX3BhcnNlICsgXCI/c2lkPVwiICsgc2V0dGluZ3MubXlTTFNldHRpbmdzW3NldHRpbmdzLm15U2V0dGluZ10ubXlTSUQ7XHJcbiAgbGV0IHZBUElfVVJMID0gZ2V0SG9zdFBvcnQoc2V0dGluZ3MpICsgQVBJX0RlZmF1bHRzLnJ1bGVzX3BhcnNlICsgXCI/c2lkPVwiICsgbXlnU0lEO1xyXG4gIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0ltcG9ydGFudCwgdW5kZWZpbmVkLCB2QVBJX1VSTClcclxuICBsZXQgYm9keXRleHQ6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gIGxldCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuICBpZiAoYWN0aXZlVmlldyA9PSB1bmRlZmluZWQpIHtcclxuICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0hpZ2gsIHVuZGVmaW5lZCwgXCJEbyBub3QgZmluZCBhbiBhY3RpdmUgdmlld1wiKVxyXG4gICAgcmV0dXJuIHJlc3VsdHNcclxuICB9XHJcblxyXG4gIGxldCBkaWFsZWN0SUQ6IHN0cmluZyA9IFwiZGVmYXVsdFwiXHJcblxyXG4gIGxldCBjb2RlYmxvY2s6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBsZXQgbmV3Q29kZWJsb2NrOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIGlmIChhY3RpdmVWaWV3ICE9IG51bGwpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlVmlldy5lZGl0b3IubGluZUNvdW50KCk7IGkrKykge1xyXG4gICAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9BbGwsIHVuZGVmaW5lZCwgaSwgJzsnLCBhY3RpdmVWaWV3LmVkaXRvci5nZXRMaW5lKGkpKVxyXG4gICAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9BbGwsIHVuZGVmaW5lZCwgJ1N1YnN0cmluZzonLCBhY3RpdmVWaWV3LmVkaXRvci5nZXRMaW5lKGkpLnN1YnN0cmluZygwLCAyKSk7XHJcbiAgICAgIGlmIChhY3RpdmVWaWV3LmVkaXRvci5nZXRMaW5lKGkpLnN1YnN0cmluZygwLCAzKSA9PSBcImBgYFwiKSB7XHJcbiAgICAgICAgaWYgKCFjb2RlYmxvY2spIHtcclxuICAgICAgICAgIGNvZGVibG9jayA9IHRydWVcclxuICAgICAgICAgIG5ld0NvZGVibG9jayA9IHRydWVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbmV3Q29kZWJsb2NrID0gZmFsc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9XHJcbiAgICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0luZm9ybWF0aXZlLCB1bmRlZmluZWQsICdDdXJyZW50IGxpbmUgaXMgQ29kZWJsb2NrJywgY29kZWJsb2NrKVxyXG5cclxuICAgICAgaWYgKCghY29kZWJsb2NrKSAmJiAoIW5ld0NvZGVibG9jaykpIHtcclxuICAgICAgICAvLyBDaGVjayBpbmxpbmUgU3RhdGVtZW50c1xyXG4gICAgICAgIHN3aXRjaCAoYWN0aXZlVmlldy5lZGl0b3IuZ2V0TGluZShpKSkge1xyXG4gICAgICAgICAgZGVmYXVsdDogYm9keXRleHQgPSBib2R5dGV4dC5jb25jYXQoYWN0aXZlVmlldy5lZGl0b3IuZ2V0TGluZShpKSArICdcXG4nKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAvLyBQclx1MDBGQ2ZlIGF1ZiB6dSB2ZXJ3ZW5kZW5kZW4gRGlhbGVjdFxyXG4gICAgICAgIHN3aXRjaCAoYWN0aXZlVmlldy5lZGl0b3IuZ2V0TGluZShpKS5zdWJzdHJpbmcoMCwgc2VtYUxvZ2ljQ29tbWFuZC51c2VEaWFsZWN0Lmxlbmd0aCkpIHtcclxuICAgICAgICAgIGNhc2Ugc2VtYUxvZ2ljQ29tbWFuZC51c2VEaWFsZWN0OiB7XHJcbiAgICAgICAgICAgIGRpYWxlY3RJRCA9IGFjdGl2ZVZpZXcuZWRpdG9yLmdldExpbmUoaSkuc3Vic3RyaW5nKHNlbWFMb2dpY0NvbW1hbmQudXNlRGlhbGVjdC5sZW5ndGgsIGFjdGl2ZVZpZXcuZWRpdG9yLmdldExpbmUoaSkubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgZGlhbGVjdElEID0gZGlhbGVjdElELnRyaW0oKTtcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGRlZmF1bHQ6IHsgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuICAgICAgaWYgKGkgPCBhY3RpdmVWaWV3LmVkaXRvci5saW5lQ291bnQoKSkge1xyXG4gICAgICAgIGlmIChhY3RpdmVWaWV3LmVkaXRvci5nZXRMaW5lKGkpLnN1YnN0cmluZygwLCAzKSA9PSBcImBgYFwiKSB7XHJcbiAgICAgICAgICBpZiAoKGNvZGVibG9jaykgJiYgKCFuZXdDb2RlYmxvY2spKSB7IGNvZGVibG9jayA9IGZhbHNlIH0gZWxzZSB7IG5ld0NvZGVibG9jayA9IGZhbHNlIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuXHJcbiAgaWYgKGJvZHl0ZXh0ID09IFwiXCIpIHsgYm9keXRleHQgPSBcIlwiIH1cclxuICBpZiAoZGlhbGVjdElEID09IFwiXCIpIHsgZGlhbGVjdElEID0gXCJkZWZhdWx0XCIgfVxyXG4gIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gIGxldCBvcHRpb25zUGFyc2U6IFJlcXVlc3RVcmxQYXJhbTtcclxuXHJcbiAgaWYgKGZpbHRlciAhPSBcIlwiKSB7XHJcbiAgICBsZXQganNvbndvRmlsdGVyID0ge1xyXG4gICAgICBcInRleHRcIjogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIFwidGV4dElEXCI6IFwiZmx5XCIsXHJcbiAgICAgICAgICBcImRpYWxlY3RJRFwiOiBkaWFsZWN0SUQsXHJcbiAgICAgICAgICBcInJ1bGVzXCI6IGJvZHl0ZXh0XHJcbiAgICAgICAgfVxyXG4gICAgICBdLFxyXG4gICAgICBcImZpbHRlclwiOiB7XHJcbiAgICAgICAgXCJkaWFsZWN0SURcIjogXCJkZWZhdWx0XCIsXHJcbiAgICAgICAgXCJzeW1ib2xzXCI6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgXCJzeW1ib2xcIjogZmlsdGVyXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9LFxyXG4gICAgICBcInBlcnNpc3RlbmN5XCI6IGZhbHNlLFxyXG4gICAgICBcInJ1bGVzZXR0eXBlXCI6IHJ1bGVzc2V0dHlwZSAvL3NldHRpbmdzLm15T3V0cHV0Rm9ybWF0XHJcbiAgICB9XHJcbiAgICBvcHRpb25zUGFyc2UgPSB7XHJcbiAgICAgIHVybDogdkFQSV9VUkwsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoanNvbndvRmlsdGVyKVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBsZXQganNvbnRlc3R3dGhGaWx0ZXIgPSB7XHJcbiAgICAgIFwidGV4dFwiOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgXCJ0ZXh0SURcIjogXCJmbHlcIixcclxuICAgICAgICAgIFwiZGlhbGVjdElEXCI6IGRpYWxlY3RJRCxcclxuICAgICAgICAgIFwicnVsZXNcIjogYm9keXRleHRcclxuICAgICAgICB9XHJcbiAgICAgIF0sXHJcbiAgICAgIFwiZmlsdGVyXCI6IHt9LFxyXG4gICAgICBcInBlcnNpc3RlbmN5XCI6IGZhbHNlLFxyXG4gICAgICBcInJ1bGVzZXR0eXBlXCI6IHJ1bGVzc2V0dHlwZSAvL3NldHRpbmdzLm15T3V0cHV0Rm9ybWF0XHJcbiAgICB9XHJcbiAgICBvcHRpb25zUGFyc2UgPSB7XHJcbiAgICAgIHVybDogdkFQSV9VUkwsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoanNvbnRlc3R3dGhGaWx0ZXIpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZXQgcmVzOiBzdHJpbmc7XHJcbiAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfQ2hhdHR5LCB1bmRlZmluZWQsIGBDb250ZXh0OiAke2RpYWxlY3RJRH0sIEJvZHl0ZXh0OiAke2JvZHl0ZXh0fWApXHJcbiAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB1bmRlZmluZWQsIG9wdGlvbnNQYXJzZSlcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2VQYXJzZSA9IGF3YWl0IHJlcXVlc3RVcmwob3B0aW9uc1BhcnNlKVxyXG4gICAgY29uc3QgcmVtSnNvbiA9IHJlc3BvbnNlUGFyc2UudGV4dDtcclxuICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0ltcG9ydGFudCwgdW5kZWZpbmVkLCBcIlNlbWFMb2dpYzogUGFyc2Ugd2l0aCBodHRwLXN0YXR1cyBcIiArIHJlc3BvbnNlUGFyc2Uuc3RhdHVzLnRvU3RyaW5nKCkpXHJcbiAgICBpZiAocmVzcG9uc2VQYXJzZS5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgIGxldCByZXN1bHRodHRwID0gcmVzcG9uc2VQYXJzZS50ZXh0O1xyXG4gICAgICBjb25zdCBmcmFnbWVudCA9IChuZXcgUmFuZ2UoKSkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KHJlc3VsdGh0dHApO1xyXG4gICAgICAvL2J1aWxkY29udGFpbmVyRWwgPSBjcmVhdGVFbChcImg0XCIsIHsgdGV4dDogQVBJX0RlZmF1bHRzLnZpZXdoZWFkZXIgfSk7XHJcbiAgICAgIGJ1aWxkY29udGFpbmVyRWwgPSBjcmVhdGVFbChcInBcIilcclxuICAgICAgYnVpbGRjb250YWluZXJFbC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XHJcbiAgICAgIHJlc3VsdHMucHVzaChidWlsZGNvbnRhaW5lckVsKVxyXG4gICAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9JbXBvcnRhbnQsIHVuZGVmaW5lZCwgYFBhcnNlcmVzdWx0OiR7cmVzdWx0aHR0cH1gKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdHNcclxuICAgIH1cclxuICB9XHJcbiAgY2F0Y2ggKGUpIHtcclxuICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0Vycm9yLCB1bmRlZmluZWQsIGBDYXRjaGVycm9yIG9mIHJlbW92aW5nIGNvbnRleHQgJHt2QVBJX1VSTH1gKVxyXG4gICAgLy9jb25zb2xlLmxvZyhgQ2F0Y2hlcnJvciBvZiByZW1vdmluZyBjb250ZXh0ICR7dkFQSV9VUkx9YClcclxuICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0Vycm9yLCB1bmRlZmluZWQsIGUudG9TdHJpbmcoKSlcclxuICAgIC8vY29uc29sZS5sb2coZS50b1N0cmluZygpKVxyXG4gICAgdGhyb3cgZVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdHNcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNsY29uc29sZWxvZyhEZWJ1Z1ZhbHVlOiBudW1iZXIsIHNsdmlldz86IFNlbWFMb2dpY1ZpZXcgfCB1bmRlZmluZWQsIG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkge1xyXG4gIGlmIChEZWJ1Z0xldmVsID49IERlYnVnVmFsdWUpIHtcclxuICAgIGlmIChzbHZpZXcgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGlmIChzbHZpZXcuZ2V0Vmlld1R5cGUoKSA9PSBTZW1hTG9naWNWaWV3VHlwZSkge1xyXG4gICAgICAgIGlmIChzbHZpZXcuZ2V0RGVidWdJbmxpbmUoKSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICBsZXQgbG9nTWVzc2FnZXMgPSBKU09OLnN0cmluZ2lmeShtZXNzYWdlKVxyXG4gICAgICAgICAgc2x2aWV3LmFwcGVuZERlYnVnQ29udGVudChsb2dNZXNzYWdlcylcclxuICAgICAgICB9IGVsc2UgeyBjb25zb2xlLmxvZyhtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcykgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcylcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG4iLCAiaW1wb3J0IHsgRGVidWdMZXZNYXAsIHNlbWFMb2dpY0NvbW1hbmQsIFJ1bGVzZXR0eXBlc0NvbW1hbmRzLCBSc3R5cGVzX0FTUCwgUnN0eXBlc19TZW1hbG9naWMgfSBmcm9tIFwic3JjL2NvbnN0XCJcclxuaW1wb3J0IHsgRGVidWdMZXZlbCB9IGZyb20gXCIuLi9tYWluXCJcclxuaW1wb3J0IHsgc2xjb25zb2xlbG9nIH0gZnJvbSBcInNyYy91dGlsc1wiXHJcblxyXG5cclxuZXhwb3J0IHR5cGUgcGFyc2VDb21tYW5kID0ge1xyXG4gICAgb3V0cHV0Zm9ybWF0OiBzdHJpbmcsXHJcbiAgICBlbmRwb2ludDogc3RyaW5nLFxyXG4gICAgcGFyYW06IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIHBhcnNlQ29tbWFuZHMge1xyXG4gICAgY29tbWFuZHM6IHBhcnNlQ29tbWFuZFtdXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3VXRpbHMge1xyXG5cclxuICAgIHB1YmxpYyBnZXRDb250ZW50KGNvbnRlbnRFbDogSFRNTEVsZW1lbnQsIG91dFB1dEZvcm1hdDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgY29udGVudDogc3RyaW5nXHJcbiAgICAgICAgaWYgKGNvbnRlbnRFbC50ZXh0Q29udGVudCA9PSBudWxsKSB7IGNvbnRlbnQgPSBcIlwiIH0gZWxzZSB7IGNvbnRlbnQgPSBjb250ZW50RWwudGV4dENvbnRlbnQgfVxyXG4gICAgICAgIGNvbnRlbnQgPSB0aGlzLmNsZWFuQ29udGVudChjb250ZW50LCBvdXRQdXRGb3JtYXQpXHJcbiAgICAgICAgY29udGVudCA9IHRoaXMuY2xlYW5Db21tYW5kcyhjb250ZW50KVxyXG4gICAgICAgIHJldHVybiBjb250ZW50XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYW5Db250ZW50KGNvbnRlbnQ6IHN0cmluZywgb3V0UHV0Rm9ybWF0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIFRleHRtYW5pcHVsYXRpb24gZm9yIHNwZWNpYWwgb3V0Y29tZXNcclxuICAgICAgICBpZiAob3V0UHV0Rm9ybWF0ID09IFJ1bGVzZXR0eXBlc0NvbW1hbmRzW1JzdHlwZXNfQVNQXVsxXSkge1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdEpTT05CcmFja2V0ID0gY29udGVudC5pbmRleE9mKFwie1wiKVxyXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoZmlyc3RKU09OQnJhY2tldCwgY29udGVudC5sZW5ndGgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvdXRQdXRGb3JtYXQgPT0gUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19TZW1hbG9naWNdWzFdKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlclN0cmluZyA9IFwiU2VtYWxvZ2ljIE91dHB1dFwiXHJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0aGVhZGVyU3RyaW5nID0gY29udGVudC5pbmRleE9mKGhlYWRlclN0cmluZylcclxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKGZpcnN0aGVhZGVyU3RyaW5nICsgaGVhZGVyU3RyaW5nLmxlbmd0aCwgY29udGVudC5sZW5ndGgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb250ZW50XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFuQ29tbWFuZHMoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgY29udGVudENsZWFuZWQ6IHN0cmluZ1tdID0gW11cclxuICAgICAgICBsZXQgY29udGVudEFycmF5ID0gY29udGVudC5zcGxpdCgnXFxuJylcclxuXHJcbiAgICAgICAgY29udGVudEFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGxldCByb3cgPSBlbGVtZW50LnRyaW0oKVxyXG4gICAgICAgICAgICByb3cgPSByb3cudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DaGF0dHksIHVuZGVmaW5lZCwgXCJSb3cgYmVmb3JlOlwiICsgcm93KVxyXG4gICAgICAgICAgICByb3cgPSByb3cucmVwbGFjZUFsbChcIiBcIiwgXCJcIilcclxuICAgICAgICAgICAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfQ2hhdHR5LCB1bmRlZmluZWQsIFwiUm93IGFmdGVyOlwiICsgcm93KVxyXG4gICAgICAgICAgICBpZiAocm93LmluZGV4T2Yoc2VtYUxvZ2ljQ29tbWFuZC5jb21tYW5kX3N0YXJ0LnRvTG93ZXJDYXNlKCkpICE9IDApIHsgLy8gTm8gc3RhcnRpbmcgU2VtYUxvZ2ljLUNvbW1hbmRcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRDbGVhbmVkLnB1c2goZWxlbWVudClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFN0YXJ0aW5nIFNlbWFMb2dpY0NvbW1hbmRcclxuICAgICAgICAgICAgICAgIC8vIFRlc3QgZm9yIFNlbWFMb2dpY0NvbW1hbmRzIHdoaWNoIHNob3VsZCBiZSBpbnRlcnByZXRhdGVkIGJ5IFNlbWFMb2dpY1NlcnZpY2UgICAgXHJcbiAgICAgICAgICAgICAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DaGF0dHksIHVuZGVmaW5lZCwgXCJJbmRleCBEZWZpbmU6XCIgKyByb3cuaW5kZXhPZihzZW1hTG9naWNDb21tYW5kLmRlZmluZSkudG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0NoYXR0eSwgdW5kZWZpbmVkLCBcIkxlbmd0aCBTdGFydDpcIiArIHNlbWFMb2dpY0NvbW1hbmQuY29tbWFuZF9zdGFydC5sZW5ndGgudG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgICAgIGlmIChyb3cuaW5kZXhPZihzZW1hTG9naWNDb21tYW5kLmRlZmluZSkgPT0gc2VtYUxvZ2ljQ29tbWFuZC5jb21tYW5kX3N0YXJ0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRDbGVhbmVkLnB1c2goZWxlbWVudClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY29udGVudCA9IFwiXCJcclxuICAgICAgICBjb250ZW50Q2xlYW5lZC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQgKyBcIlxcblwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgUmVxdWVzdFVybFBhcmFtLCByZXF1ZXN0VXJsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IERlYnVnTGV2TWFwLCBzZW1hTG9naWNDb21tYW5kLCBSc3R5cGVzX0FTUCwgUnVsZXNldHR5cGVzQ29tbWFuZHMsIHNsVGV4dHMgfSBmcm9tIFwiLi9jb25zdFwiXHJcbmltcG9ydCB7IFNlbWFMb2dpY1BsdWdpbkNvbW0sIFNlbWFMb2dpY1BsdWdpblNldHRpbmdzIH0gZnJvbSBcIi4uL21haW5cIlxyXG5pbXBvcnQgeyBnZXRIb3N0QXNwUG9ydCwgc2xjb25zb2xlbG9nIH0gZnJvbSAnLi91dGlscydcclxuaW1wb3J0IHsgcGFyc2VDb21tYW5kcyB9IGZyb20gXCJzcmMvdmlld191dGlsc1wiO1xyXG5pbXBvcnQgeyB9IGZyb20gXCJzcmMvdGVtcGxhdGVcIjtcclxuXHJcblxyXG5leHBvcnQgY29uc3QgQVNQVmlld1R5cGUgPSAnVHJhbnNmZXJTZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBU1BWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xyXG5cclxuICBteUFjdGlvbjogSFRNTEVsZW1lbnRcclxuICBMYXN0UmVxdWVzdFRpbWU6IG51bWJlciA9IDBcclxuICBzbENvbW06IFNlbWFMb2dpY1BsdWdpbkNvbW1cclxuXHJcbiAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZikge1xyXG4gICAgc3VwZXIobGVhZik7XHJcbiAgICB0aGlzLm5hdmlnYXRpb24gPSB0cnVlXHJcbiAgICB0aGlzLnNldE5ld0FTUEluaXRpYWwodHJ1ZSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRDb21tKGNvbW06IFNlbWFMb2dpY1BsdWdpbkNvbW0pIHtcclxuICAgIHRoaXMuc2xDb21tID0gY29tbVxyXG4gICAgLy90aGlzLnNsQ29tbS5zZXRTbFZpZXcodGhpcylcclxuICAgIHRoaXMuc2V0TmV3QVNQSW5pdGlhbChmYWxzZSlcclxuICB9XHJcblxyXG4gIGdldFZpZXdUeXBlKCkge1xyXG4gICAgcmV0dXJuIEFTUFZpZXdUeXBlO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGlzcGxheVRleHQoKSB7XHJcbiAgICByZXR1cm4gQVNQVmlld1R5cGU7XHJcbiAgfVxyXG5cclxuICBvbmxvYWQoKTogdm9pZCB7XHJcbiAgICB0aGlzLm5hdmlnYXRpb24gPSB0cnVlXHJcbiAgICB0aGlzLmNvbnRlbnRFbC5jb250ZW50RWRpdGFibGUgPSAndHJ1ZSdcclxuICB9XHJcblxyXG4gIGNoZWNrQVNQQ29udGFpbmVyQ29udGVudCgpOiBib29sZWFuIHtcclxuICAgIGlmICh0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICBpZiAodGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXS50ZXh0Q29udGVudD8uc3Vic3RyaW5nKDAsIHNsVGV4dHNbJ0hlYWRlclRWJ10ubGVuZ3RoKSA9PSBzbFRleHRzWydIZWFkZXJUViddKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZWxldGVBU1BDb250YWluZXJDb250ZW50KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW4gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250YWluZXJFbC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuW2ldLm5vZGVOYW1lID09IFwicFwiKSB7XHJcbiAgICAgICAgICB3aGlsZSAodGhpcy5jb250YWluZXJFbC5jaGlsZHJlbltpXSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jaGlsZHJlbltpXS5lbXB0eVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldE5ld0FTUEluaXRpYWwobm93OiBib29sZWFuKSB7XHJcbiAgICAvL2NvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGVudEVsXHJcbiAgICAvL2NvbnRhaW5lci5lbXB0eSgpXHJcbiAgICAvL2NvbnRhaW5lci5jcmVhdGVFbChcImg0XCIsIHsgdGV4dDogXCJUcmFuc2Zlci5WaWV3XCIgfSk7XHJcbiAgICAvL2NvbnRhaW5lci5jcmVhdGVFbChcInBcIilcclxuICAgIGxldCBjb250YWluZXIgPSB0aGlzLmNvbnRlbnRFbFxyXG4gICAgaWYgKG5vdyB8fCAhdGhpcy5jaGVja0FTUENvbnRhaW5lckNvbnRlbnQoKSkge1xyXG4gICAgICBjb250YWluZXIuZW1wdHkoKVxyXG4gICAgICAvL2NvbnRhaW5lci5jb250ZW50RWRpdGFibGUgPSAndHJ1ZSdcclxuICAgICAgY29udGFpbmVyLmNyZWF0ZUVsKFwiaDRcIiwgeyB0ZXh0OiBzbFRleHRzWydIZWFkZXJUViddIH0pO1xyXG4gICAgICBjb250YWluZXIuY3JlYXRlRWwoXCJwXCIpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvL3RoaXMuZGVsZXRlQVNQQ29udGFpbmVyQ29udGVudCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIGFzeW5jIG9uT3BlbigpIHtcclxuICAgIC8vdGhpcy5zZXROZXdBU1BJbml0aWFsKClcclxuICB9XHJcblxyXG4gIGFzeW5jIG9uQ2xvc2UoKSB7XHJcbiAgICAvLyBOb3RoaW5nIHRvIGNsZWFuIHVwLlxyXG4gIH1cclxuXHJcbiAgc2hvd0Vycm9yKGZyYWdtZW50OiBEb2N1bWVudEZyYWdtZW50KSB7XHJcbiAgICAvLyAgIHRoaXMuc2V0SW5pdGlhbChydWxlc2V0dHlwZXNDb21tYW5kc1tyc3R5cGVzX1NlbWFsb2dpY11bMV0pXHJcbiAgICB0aGlzLmNvbnRlbnRFbC5hcHBlbmRDaGlsZChmcmFnbWVudClcclxuICB9XHJcbiAgb251bmxvYWQoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5zbENvbW0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuc2xDb21tLnNsUGx1Z2luLmFjdGl2YXRlZCA9IGZhbHNlXHJcbiAgICAgIHRoaXMuc2xDb21tLnNsUGx1Z2luLm15U3RhdHVzLnNldFRleHQoJ1RyYW5zZmVyIGlzIG9mZicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlUmVxdWVzdChjb21tOiBTZW1hTG9naWNQbHVnaW5Db21tLCBzZXR0aW5nczogU2VtYUxvZ2ljUGx1Z2luU2V0dGluZ3MsIGFwaVVybDogc3RyaW5nLCBtZXRob2Q6IHN0cmluZywgY29udGVudFR5cGU6IHN0cmluZywgd2l0aEJhc2ljQXV0aDogYm9vbGVhbiwgYm9keT86IHN0cmluZyk6IFJlcXVlc3RVcmxQYXJhbSB7XHJcbiAgICBsZXQgcmVxdWVzdDogUmVxdWVzdFVybFBhcmFtXHJcbiAgICB0eXBlIHJlcXVlc3RIZWFkZXIgPSBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+XHJcbiAgICBsZXQgbXlIZWFkZXI6IHJlcXVlc3RIZWFkZXIgPSB7fVxyXG5cclxuICAgIGNvbnRlbnRUeXBlID0gY29udGVudFR5cGUudG9Mb3dlckNhc2UoKVxyXG4gICAgbWV0aG9kID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcclxuXHJcbiAgICBzd2l0Y2ggKGNvbnRlbnRUeXBlLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgY2FzZSAoXCJqc29uXCIpOiB7XHJcbiAgICAgICAgbXlIZWFkZXJbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgKFwiYXNwXCIpOiB7XHJcbiAgICAgICAgbXlIZWFkZXJbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgKFwiYXNwLmpzb25cIik6IHtcclxuICAgICAgICBteUhlYWRlcltcIkNvbnRlbnQtVHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAoXCJ0ZXh0XCIpOiB7XHJcbiAgICAgICAgbXlIZWFkZXJbXCJDb250ZW50LVR5cGVcIl0gPSBcInRleHQvcGxhaW5cIlxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIH1cclxuICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgIG15SGVhZGVyW1wiQ29udGVudC1UeXBlXCJdID0gY29udGVudFR5cGVcclxuICAgICAgICBicmVha1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHdpdGhCYXNpY0F1dGgpIHtcclxuICAgICAgbXlIZWFkZXJbXCJBdXRob3JpemF0aW9uXCJdID0gXCJCYXNpYyBcIiArIGJ0b2Eoc2V0dGluZ3MubXlTTFNldHRpbmdzW3NldHRpbmdzLm15U2V0dGluZ10ubXlVc2VyICsgXCI6XCIgKyBzZXR0aW5ncy5teVNMU2V0dGluZ3Nbc2V0dGluZ3MubXlTZXR0aW5nXS5teVBhc3N3b3JkKVxyXG4gICAgfVxyXG5cclxuICAgIHJlcXVlc3QgPSB7XHJcbiAgICAgIHVybDogYXBpVXJsLFxyXG4gICAgICBtZXRob2Q6IG1ldGhvZCxcclxuICAgICAgaGVhZGVyczogbXlIZWFkZXIsXHJcbiAgICAgIGJvZHk6IGJvZHlcclxuICAgIH1cclxuICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0ltcG9ydGFudCwgdGhpcy5zbENvbW0uc2x2aWV3LCByZXF1ZXN0KVxyXG4gICAgcmV0dXJuIHJlcXVlc3RcclxuICB9XHJcblxyXG4gIGdldEFTUENvbW1hbmRzKHNsQ29tbTogU2VtYUxvZ2ljUGx1Z2luQ29tbSwgc2V0dGluZ3M6IFNlbWFMb2dpY1BsdWdpblNldHRpbmdzKTogcGFyc2VDb21tYW5kcyB7XHJcbiAgICBsZXQgcGFyc2VDb21tYW5kczogcGFyc2VDb21tYW5kc1xyXG4gICAgcGFyc2VDb21tYW5kcyA9IHtcclxuICAgICAgY29tbWFuZHM6IFt7XHJcbiAgICAgICAgb3V0cHV0Zm9ybWF0OiBcIkFTUC5qc29uXCIsXHJcbiAgICAgICAgZW5kcG9pbnQ6IHNldHRpbmdzLm15U0xTZXR0aW5nc1tzZXR0aW5ncy5teVNldHRpbmddLm15QXNwRW5kcG9pbnQsXHJcbiAgICAgICAgcGFyYW06IFwiXCJcclxuICAgICAgfV1cclxuICAgIH1cclxuICAgIGxldCBwYXJzZUluaXRpYWwgPSB0cnVlXHJcblxyXG4gICAgaWYgKHNsQ29tbS5zbHZpZXcgIT0gbnVsbCkge1xyXG5cclxuICAgICAgY29uc3QgZWRpdG9ydGV4dCA9IHNsQ29tbS5zbFVzZWRNRFZpZXcuZWRpdG9yLmdldFJhbmdlKHsgbGluZTogMCwgY2g6IDAgfSwgeyBsaW5lOiBzbENvbW0uc2xVc2VkTURWaWV3LmVkaXRvci5sYXN0TGluZSgpICsgMSwgY2g6IHNsQ29tbS5zbFVzZWRNRFZpZXcuZWRpdG9yLmxhc3RMaW5lLmxlbmd0aCB9KVxyXG4gICAgICBjb25zdCByb3dzID0gZWRpdG9ydGV4dC5zcGxpdChcIlxcblwiKS5maWx0ZXIoKHJvdykgPT4gcm93Lmxlbmd0aCA+IDApO1xyXG5cclxuICAgICAgbGV0IG15U3RyUmVzdWx0OiBzdHJpbmc7XHJcbiAgICAgIGxldCB0cmFuc2ZlclN0cmluZzogc3RyaW5nO1xyXG4gICAgICBsZXQgZW5kcG9pbnRTdHJpbmc6IHN0cmluZyA9ICcnO1xyXG4gICAgICBsZXQgcGFyYW1TdHJpbmc6IHN0cmluZztcclxuXHJcbiAgICAgIHJvd3MuZm9yRWFjaChyb3cgPT4ge1xyXG4gICAgICAgIGlmIChyb3cuc3Vic3RyaW5nKDAsIHNlbWFMb2dpY0NvbW1hbmQuY29tbWFuZF9zdGFydC5sZW5ndGgpID09IHNlbWFMb2dpY0NvbW1hbmQuY29tbWFuZF9zdGFydCkge1xyXG4gICAgICAgICAgY29uc3QgdHJhbnNmZXIgPSByb3cuaW5kZXhPZihzZW1hTG9naWNDb21tYW5kLnRyYW5zZmVyKVxyXG4gICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSByb3cuaW5kZXhPZihzZW1hTG9naWNDb21tYW5kLnRyYW5zZmVyRW5kcG9pbnQpXHJcbiAgICAgICAgICBsZXQgcGFyYW0gPSByb3cuaW5kZXhPZihzZW1hTG9naWNDb21tYW5kLnRyYW5zZmVyUGFyYW0pXHJcbiAgICAgICAgICBjb25zdCBlbmRDb21tYW5kID0gcm93Lmxhc3RJbmRleE9mKHNlbWFMb2dpY0NvbW1hbmQuY29tbWFuZF9lbmQpXHJcbiAgICAgICAgICBpZiAocGFyYW0gPCAwKSB7IHBhcmFtID0gZW5kQ29tbWFuZCB9XHJcblxyXG4gICAgICAgICAgaWYgKHRyYW5zZmVyIDw9IDApIHsgfSBlbHNlIHtcclxuICAgICAgICAgICAgdHJhbnNmZXJTdHJpbmcgPSByb3cuc3Vic3RyaW5nKHRyYW5zZmVyICsgc2VtYUxvZ2ljQ29tbWFuZC50cmFuc2Zlci5sZW5ndGggKyAxLCBlbmRwb2ludClcclxuICAgICAgICAgICAgdHJhbnNmZXJTdHJpbmcgPSB0cmFuc2ZlclN0cmluZy50cmltRW5kKClcclxuICAgICAgICAgICAgaWYgKGVuZHBvaW50ID4gMCkge1xyXG4gICAgICAgICAgICAgIGVuZHBvaW50U3RyaW5nID0gcm93LnN1YnN0cmluZyhlbmRwb2ludCArIDEgKyBzZW1hTG9naWNDb21tYW5kLnRyYW5zZmVyRW5kcG9pbnQubGVuZ3RoLCBwYXJhbSlcclxuICAgICAgICAgICAgICBlbmRwb2ludFN0cmluZyA9IGVuZHBvaW50U3RyaW5nLnRyaW1FbmQoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwYXJhbSA+IDAgJiYgcGFyYW0gIT0gZW5kQ29tbWFuZCkge1xyXG4gICAgICAgICAgICAgIHBhcmFtU3RyaW5nID0gcm93LnN1YnN0cmluZyhwYXJhbSArIDEgKyBzZW1hTG9naWNDb21tYW5kLnRyYW5zZmVyUGFyYW0ubGVuZ3RoLCBlbmRDb21tYW5kKVxyXG4gICAgICAgICAgICAgIHBhcmFtU3RyaW5nID0gcGFyYW1TdHJpbmcudHJpbUVuZCgpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwYXJhbVBhcnNlZENvbW1hbmQgPSB7XHJcbiAgICAgICAgICAgICAgb3V0cHV0Zm9ybWF0OiB0cmFuc2ZlclN0cmluZyxcclxuICAgICAgICAgICAgICBlbmRwb2ludDogZW5kcG9pbnRTdHJpbmcsXHJcbiAgICAgICAgICAgICAgcGFyYW06IHBhcmFtU3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBhcnNlSW5pdGlhbCkge1xyXG4gICAgICAgICAgICAgIHBhcnNlSW5pdGlhbCA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgcGFyc2VDb21tYW5kcy5jb21tYW5kc1swXSA9IHBhcmFtUGFyc2VkQ29tbWFuZFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHBhcnNlQ29tbWFuZHMuY29tbWFuZHMucHVzaChwYXJhbVBhcnNlZENvbW1hbmQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFyc2VDb21tYW5kc1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGFzcFBhcnNlKHNsQ29tbTogU2VtYUxvZ2ljUGx1Z2luQ29tbSwgc2V0dGluZ3M6IFNlbWFMb2dpY1BsdWdpblNldHRpbmdzLCBhc3BKc29uUGFyc2VkU2VtYUxvZ2ljOiBzdHJpbmcsIFJlcXVlc3RUaW1lOiBOdW1iZXIpIHtcclxuICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0N1cnJlbnRfRGV2LCB0aGlzLnNsQ29tbS5zbHZpZXcsICdTdGFydCBUcmFuc2Zlcl9QYXJzZScpXHJcbiAgICAvL3RoaXMuc2V0TmV3QVNQSW5pdGlhbCgpXHJcblxyXG4gICAgbGV0IHZBUElfVVJMOiBzdHJpbmcgPSBcIlwiXHJcbiAgICBjb25zdCBwYXJzZUNvbW1hbmRzID0gdGhpcy5nZXRBU1BDb21tYW5kcyhzbENvbW0sIHNldHRpbmdzKVxyXG5cclxuICAgIHBhcnNlQ29tbWFuZHMuY29tbWFuZHMuZm9yRWFjaChwYXJzZUNvbW1hbmRzID0+IHtcclxuXHJcbiAgICAgIGlmIChwYXJzZUNvbW1hbmRzLm91dHB1dGZvcm1hdCA9PSBSdWxlc2V0dHlwZXNDb21tYW5kc1tSc3R5cGVzX0FTUF1bMV0gfHwgcGFyc2VDb21tYW5kcy5vdXRwdXRmb3JtYXQgPT0gUnVsZXNldHR5cGVzQ29tbWFuZHNbUnN0eXBlc19BU1BdWzBdKSB7XHJcbiAgICAgICAgdkFQSV9VUkwgPSBnZXRIb3N0QXNwUG9ydChzZXR0aW5ncywgcGFyc2VDb21tYW5kcylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2QVBJX1VSTCA9IHBhcnNlQ29tbWFuZHMuZW5kcG9pbnRcclxuICAgICAgICBpZiAocGFyc2VDb21tYW5kcy5wYXJhbSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGlmIChwYXJzZUNvbW1hbmRzLnBhcmFtLmxlbmd0aCA+IDApIHsgdkFQSV9VUkwgPSB2QVBJX1VSTCArIFwiP1wiICsgcGFyc2VDb21tYW5kcy5wYXJhbSB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0N1cnJlbnRfRGV2LCB0aGlzLnNsQ29tbS5zbHZpZXcsIFwiVHJhbnNmZXIgVVJMOiBcIiwgdkFQSV9VUkwpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBvcHRpb25zUGFyc2UgPSB0aGlzLmNyZWF0ZVJlcXVlc3QodGhpcy5zbENvbW0sIHNldHRpbmdzLCB2QVBJX1VSTCwgJ1BPU1QnLCAnanNvbicsIHRydWUsIGFzcEpzb25QYXJzZWRTZW1hTG9naWMpXHJcbiAgICAgIHRoaXMuUmVzcChvcHRpb25zUGFyc2UsIHZBUElfVVJMLCBSZXF1ZXN0VGltZSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgUmVzcChvcHRpb25zUGFyc2U6IFJlcXVlc3RVcmxQYXJhbSwgdkFQSV9VUkw6IHN0cmluZywgUmVxdWVzdFRpbWU6IE51bWJlcikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB0aGlzLnNsQ29tbS5zbHZpZXcsIFwiQVNQOiB3YW50IHRvIHBhcnNlIFwiLCBvcHRpb25zUGFyc2UpXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlUGFyc2UgPSBhd2FpdCByZXF1ZXN0VXJsKG9wdGlvbnNQYXJzZSlcclxuICAgICAgY29uc3QgcmVtSnNvbiA9IHJlc3BvbnNlUGFyc2UudGV4dDtcclxuICAgICAgc2xjb25zb2xlbG9nKERlYnVnTGV2TWFwLkRlYnVnTGV2ZWxfSW1wb3J0YW50LCB0aGlzLnNsQ29tbS5zbHZpZXcsIFwiQVNQOiBQYXJzZSB3aXRoIGh0dHAtc3RhdHVzIFwiICsgcmVzcG9uc2VQYXJzZS5zdGF0dXMudG9TdHJpbmcoKSlcclxuICAgICAgaWYgKHJlc3BvbnNlUGFyc2Uuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNsQ29tbS5zbGFzcHZpZXcuTGFzdFJlcXVlc3RUaW1lID09IFJlcXVlc3RUaW1lKSB7XHJcbiAgICAgICAgICBsZXQgcmVzdWx0aHR0cCA9IHJlc3BvbnNlUGFyc2UudGV4dDtcclxuICAgICAgICAgIHRoaXMuc2V0TmV3QVNQSW5pdGlhbCh0cnVlKVxyXG4gICAgICAgICAgdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJiclwiKVxyXG4gICAgICAgICAgdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJzcGFuXCIsIFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpXHJcbiAgICAgICAgICB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImJyXCIpXHJcbiAgICAgICAgICAvLyB0ZW1wb3JhcnkgcHJldHR5IHByaW50IGZvciBub3QgZm9ybWF0dGVkIGpzb24tb3V0cHV0IC0gd2lsbCBiZSBjaGFuZ2VkIGluIHJlbCAyLnhcclxuICAgICAgICAgIHJlc3VsdGh0dHAgPSByZXN1bHRodHRwLnJlcGxhY2VBbGwoXCJbXCIsIFwiW1xcblwiKVxyXG4gICAgICAgICAgcmVzdWx0aHR0cCA9IHJlc3VsdGh0dHAucmVwbGFjZUFsbChcIl1cIiwgXCJcXG5dXCIpXHJcbiAgICAgICAgICByZXN1bHRodHRwID0gcmVzdWx0aHR0cC5yZXBsYWNlQWxsKFwiLFwiLCBcIixcXG5cIilcclxuICAgICAgICAgIGxldCByZXN1bHRodHRwQXJyYXkgPSByZXN1bHRodHRwLnNwbGl0KCdcXG4nKVxyXG4gICAgICAgICAgcmVzdWx0aHR0cEFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudEVsLmFwcGVuZChlbGVtZW50KVxyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImJyXCIpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0NoYXR0eSwgdGhpcy5zbENvbW0uc2x2aWV3LCBgQVNQLVBhcnNlcmVzdWx0OiR7cmVzdWx0aHR0cH1gKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9DdXJyZW50X0RldiwgdGhpcy5zbENvbW0uc2x2aWV3LCBgT2xkX0FTUC1SZXF1ZXN0OiAke1JlcXVlc3RUaW1lfSB2cyAke3RoaXMuc2xDb21tLnNsYXNwdmlldy5MYXN0UmVxdWVzdFRpbWV9YClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgIHNsY29uc29sZWxvZyhEZWJ1Z0xldk1hcC5EZWJ1Z0xldmVsX0Vycm9yLCB0aGlzLnNsQ29tbS5zbHZpZXcsIGBDYXRjaGVycm9yIG9mIHJlbW92aW5nIGNvbnRleHQgJHt2QVBJX1VSTH1gKVxyXG4gICAgICBzbGNvbnNvbGVsb2coRGVidWdMZXZNYXAuRGVidWdMZXZlbF9FcnJvciwgdGhpcy5zbENvbW0uc2x2aWV3LCBlLnRvU3RyaW5nKCkpXHJcblxyXG4gICAgICBsZXQgdGV4dCA9IG5ldyBEb2N1bWVudEZyYWdtZW50KClcclxuICAgICAgdGV4dC5jcmVhdGVFbChcInBcIilcclxuICAgICAgbGV0IHRleHRmcmFnbWVudCA9IChuZXcgUmFuZ2UoKSkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGUudG9TdHJpbmcoKSk7XHJcbiAgICAgIHRleHQuYXBwZW5kQ2hpbGQodGV4dGZyYWdtZW50KVxyXG5cclxuICAgICAgdGV4dC5jcmVhdGVFbChcInBcIilcclxuICAgICAgdGV4dGZyYWdtZW50ID0gKG5ldyBSYW5nZSgpKS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoXCJTZWUgZm9yIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlcnJvci1jb2RlIG9mIGh0dHA6IGh0dHBzOi8vZGUud2lraXBlZGlhLm9yZy93aWtpL0hUVFAtU3RhdHVzY29kZSBcIik7XHJcbiAgICAgIHRleHQuYXBwZW5kKHRleHRmcmFnbWVudClcclxuXHJcbiAgICAgIHRleHQuY3JlYXRlRWwoXCJwXCIpXHJcbiAgICAgIHRleHRmcmFnbWVudCA9IChuZXcgUmFuZ2UoKSkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KG9wdGlvbnNQYXJzZS51cmwpO1xyXG4gICAgICB0ZXh0LmFwcGVuZCh0ZXh0ZnJhZ21lbnQpXHJcblxyXG4gICAgICB0ZXh0LmNyZWF0ZUVsKFwicFwiKVxyXG4gICAgICB0ZXh0ZnJhZ21lbnQgPSAobmV3IFJhbmdlKCkpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChTdHJpbmcob3B0aW9uc1BhcnNlLmJvZHkpKTtcclxuICAgICAgdGV4dC5hcHBlbmQodGV4dGZyYWdtZW50KVxyXG4gICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpXHJcbiAgICAgIHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiYnJcIilcclxuICAgICAgdGhpcy5jb250ZW50RWwuYXBwZW5kKHRleHQpXHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iLCAiaW1wb3J0IHsgVmF1bHQsIG5vcm1hbGl6ZVBhdGggfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgc2xUZW1wbGF0ZSB9IGZyb20gXCIuL2NvbnN0XCJcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVUZW1wbGF0ZUZvbGRlcih2YXVsdDogVmF1bHQpIHtcclxuXHJcbiAgICBjb25zdCB0ZW1wbCA9IHtcclxuICAgICAgICBmb2xkZXI6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogc2xUZW1wbGF0ZVtcIlBhdGhDb21tYW5kc1wiXSxcclxuICAgICAgICAgICAgICAgIGZpbGVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlNMX1RyYW5zZmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiU2VtYUxvZ2ljKHRyYW5zZmVyICUxIHRvIGVuZHBvaW50ICUyIHdpdGggcGFyYW0gJTMgKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU0xfU2hvd0hlbHBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJTZW1hTG9naWMoc2hvdyBoZWxwKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU0xfU2hvd1ZlcnNpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJTZW1hTG9naWMoc2hvdyB2ZXJzaW9uKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU0xfVGFibGVEZWZpbmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJTZW1hTG9naWMoZGVmaW5lIHRhYmxlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU0xfU2hvd1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIlNlbWFMb2dpYyhzaG93IGFzICUxIGZvciAlMilcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogc2xUZW1wbGF0ZVtcIlBhdGhTeW1Ub2tlbkNvbXBhcmlzb25cIl0sXHJcbiAgICAgICAgICAgICAgICBmaWxlczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkNvbXBFcXVhbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIj09XCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkNvbXBHcmVhdGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiPlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5Db21wR3JlYXRlckVxdWFsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiPj1cIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuQ29tcExlc3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCI8XCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkNvbXBMZXNzRXF1YWxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCI8PVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5Db21wTm90RXF1YWxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCIhPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBzbFRlbXBsYXRlW1wiUGF0aFN5bVRva2VuRWxlbWVudHNcIl0sXHJcbiAgICAgICAgICAgICAgICBmaWxlczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkFubm91bmNlZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIiVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuQXR0cmlidXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiJFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5Db21tZW50RW5kXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiKi9cIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuQ29tbWVudFN0YXJ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiLypcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuRWxlbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIixcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuRU9MXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXFxuXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkVvU1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIjtcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuRXF1YWxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJcdTIyNjFcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuRmlsdGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXHUyNUJDXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkdsb2JhbE1heFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIitcdTIyMUVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuR2xvYmFsTWluXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiLVx1MjIxRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5JRERldmlkZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCIuXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkluc3RhbmNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiQFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5JbnRlcnZhbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcInxcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuTGltaXRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJcdTAxNDFcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuTGluZUNvbW1lbnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCIvL1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5SZXZlcnNlSUREZXZpZGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiOlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5TcGFjZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIiBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuVmVyc2lvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIiNcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogc2xUZW1wbGF0ZVtcIlBhdGhTeW1Ub2tlbkZ1bmNcIl0sXHJcbiAgICAgICAgICAgICAgICBmaWxlczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJGdW5jVG9rZW5Db3VudFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIkNvdW50XCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJGdW5jVG9rZW5NYXhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJNYXhcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkZ1bmNUb2tlbk1lYW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJNZWFuXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJGdW5jVG9rZW5NaW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJNaW5cIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkZ1bmNUb2tlblN1bVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIlN1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiRnVuY1Rva2VuVW5EZWZcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJfRnVuY1VuZGVmXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHNsVGVtcGxhdGVbXCJQYXRoU3ltVG9rZW5NYXRoXCJdLFxyXG4gICAgICAgICAgICAgICAgZmlsZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5GdW5jdGlvbkNsb3NlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5GdW5jdGlvbk9wZW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCIoXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbk9wRGl2aWRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiL1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5PcE1pbnVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiLVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5PcE11bHRpcGx5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiKlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5PcFBsdXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCIrXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHNsVGVtcGxhdGVbXCJQYXRoU3ltVG9rZW5SZWZUb2tlblwiXSxcclxuICAgICAgICAgICAgICAgIGZpbGVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlJlZlRva2VuQWxsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiQWxsXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJSZWZUb2tlbkFubm91bmNlZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIkFubm91bmNlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiUmVmVG9rZW5DaGlsZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIkNoaWxkXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJSZWZUb2tlbkxlYWZcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJMZWFmXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJSZWZUb2tlblJhbmdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiUmFuZ2VcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlJlZlRva2VuVGhpc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIlRoaXNcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlJlZlRva2VuVW5kZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJVbmRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiUmVmVG9rZW5Vc2VkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiVXNlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiUmVmVG9rZW5WYWx1ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIlZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHNsVGVtcGxhdGVbXCJQYXRoU3ltVG9rZW5UZXJtc1wiXSxcclxuICAgICAgICAgICAgICAgIGZpbGVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuQWR2aWNlQ2xvc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCIhXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkFkdmljZU9wZW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJcdTAwQTFcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuQW5kQ2xvc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJdXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkFuZE9wZW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJbXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkNoZWNrQ2xvc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCI/XCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkNoZWNrT3BlblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIlx1MDBCRlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3ltVG9rZW5EaWFsZWN0RGVmaW5lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXHUyMjYxXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbkVxdWFsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiOj1cIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuR3JvdXBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJ+XCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbk9yQ2xvc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJ9XCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlbk9yT3BlblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIntcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuVGltZUFmdGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXHUyMUZEXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTeW1Ub2tlblRpbWVCZWZvcmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJcdTIxRkVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuVGltZVBhcmFsbGVsQWZ0ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJcdTI5NjJcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN5bVRva2VuVGltZVBhcmFsbGVsQmVmb3JlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXHUyOTY0XCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZvciAodmFyIG15Zm9sZGVyID0gMDsgbXlmb2xkZXIgPCB0ZW1wbC5mb2xkZXIubGVuZ3RoOyBteWZvbGRlcisrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgbXlmaWxlID0gMDsgbXlmaWxlIDwgdGVtcGwuZm9sZGVyW215Zm9sZGVyXS5maWxlcy5sZW5ndGg7IG15ZmlsZSsrKSB7XHJcblxyXG4gICAgICAgICAgICB2YXVsdC5jcmVhdGVGb2xkZXIodGVtcGwuZm9sZGVyW215Zm9sZGVyXS5uYW1lKVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpKVxyXG4gICAgICAgICAgICB2YXVsdC5jcmVhdGUoXHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVQYXRoKHRlbXBsLmZvbGRlcltteWZvbGRlcl0ubmFtZSArIFwiL1wiICsgdGVtcGwuZm9sZGVyW215Zm9sZGVyXS5maWxlc1tteWZpbGVdLm5hbWUgKyBcIi5tZFwiKSxcclxuICAgICAgICAgICAgICAgIHRlbXBsLmZvbGRlcltteWZvbGRlcl0uZmlsZXNbbXlmaWxlXS5jb250ZW50XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yKSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iLCAiaW1wb3J0IHsgVmF1bHQsIG5vcm1hbGl6ZVBhdGggfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgc2xUZW1wbGF0ZSB9IGZyb20gXCIuL2NvbnN0XCJcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVFeGFtcGxlcyh2YXVsdDogVmF1bHQpIHtcclxuXHJcbiAgICBjb25zdCB0ZW1wbCA9IHtcclxuICAgICAgICBmb2xkZXI6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogc2xUZW1wbGF0ZVtcIlBhdGhFeGFtcGxlc0Jhc2ljXCJdLFxyXG4gICAgICAgICAgICAgICAgZmlsZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiMDBfT3ZlcnZpZXdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJJbiB0aGUgbmV4dCBleG1hcGxlIGZpbGVzIHRoZXJlIGFyZSBhIGZldyBhbmQgc2ltcGxlIGV4YW1wbGVzIHRvIHVzZSBTZW1hTG9naWMgZm9yIGJpdWxkaW5nIHNlbWFudGljIGxvZ2ljYWwgcnVsZXNldHMuIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSW4gZ2VuZXJhbCB0aGUgZXhhbXBsZXMgc2hvdWxkIHNob3cgdGhlIG9wZXJhdGluZyBwcmluY2lwbGUgb3BmIFNlbWFMb2dpYyBhbmQgaGF2ZSBpbiBtaW5kIHRoYXQgdGhlIGNoYXJhY3RlcnMgb2YgdGhlIHN5bnRheCBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9mIHRoZSB0ZWNobmljYWwgbGFuZ3VhZ2UgY291bGQgYmUgcmVwbGFjZWQgYnkgZm9ybWFsIChtb3JlIG5hdHVyYWwpIGxhbmd1YWdlIGFzIGl0IHNob3duIGluIGV4YW1wbGUgZnJvbSAzMCB1cC4gXFxuXFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIweCAtIDF4OiBTaW1wbGUgcnVsZXMgYW5kIHNvbWUgb2YgdGhlIGZ1bmN0aW9uYWx0aWVzXFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIyeCAtIDN4OiBDYXNjYWRpbmcgcnVsZXMgYW5kIGNvbWJpbmluZyB3aXRoIGZ1bmN0aW9uc1xcblwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiNHggLSA1eDogRm9ybWFsIGxhbmd1YWdlIGV4YW1wbGVzXFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI4eCAgICAgOiBBZGRpdGlvbmFsIHRlY2huaWNhbCBpbmZvcm1hdGlvbiBmb3IgdmFsdWVzIGFuZCBzbyBvblxcbiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjl4ICAgICA6IExpdHRsZSBHbG9zc2FyIGZvciBTeW1Ub2tlbnNcXG5cXG5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlBsZWFzZSBrZWVwIGluIG1pbmQgdGhhdCB0aGlzIGV4YW1wbGVzIGFyZSB3b3JrIGluIHByb2dyZXNzIGFuZCB3ZSB0cnkgdG8gZXhwYW5kIHRoZW0gdG8gc2hvdyBhbGwgdGhlIGZ1bmN0aW9uYWxpdHkgb2YgU2VtYUxvZ2ljIGluIGZ1dHVyZSByZWxlYXNlcyBvZiB0aGlzIHBsdWdpbi4gXFxuXFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJXZSBhbHNvIHdvcmtpbmcgb24gW291ciB3ZWJzaXRlXSh3d3cuU2VtYUxvZ2ljLmRlKSAtIHdoaWNoIGlzIGN1cnJlbnRseSBvbmx5IGF2YWlsYWJsZSBpbiBnZXJtYW4gLSAgYW5kIGFyZSB3cml0aW5nIGFuIG9mZmljaWFsIGRvY3VtZW50IGZvciBhbGwgc3ludGF4IGFuZCBzdHJ1Y3R1cmVzIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwieW91IGFyZSBhYmxlIHRvIHVzZSBpbiBTZW1hTG9naWMgbm93IGFuZCBhYm91dCBwbGFubmVkIGZ1bnRpb25hbGl0aWVzLiBCdXQgd2UgY2FuIG5vdCBkbyBldmVyeXRoaW5nIGF0IHRoZSBzYW1lIHRpbWUuXFxuXFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUZWNobmljYWwgSW5mb3JtYXRpb24gZm9yIHVzaW5nIFNlbWFMb2dpYyBpbiBvYnNpZGlhbjogV2l0aCBBTFQgKyBUIHlvdSBjYW4gYWNjZXNzIHRvIHRoZSBTZW1hTG9naWNUb2tlbi1UZW1wbGF0ZXMgIVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiMDFfQU5ELVJ1bGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiRGVmaW5pbmcgYSBzaW1wbGUgYW5kLXJ1bGUgaW4gc3RhbmRhcmQgdGVjaG5pY2FsIGxhbmd1YWdlIDogQSBpcyB0cnVlIC0gaWYgQixDIGFuZCBEIGFyZSB0cnVlIFxcblxcbi0tLVxcblxcbkEgW0IsIEMsIERdXFxuXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCIwMl9PUi1SdWxlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIkRlZmluaW5nIGEgc2ltcGxlIG9yLXJ1bGUgaW4gc3RhbmRhcmQgdGVjaG5pY2FsIGxhbmd1YWdlIDogQSBpcyB0cnVlIC0gaWYgQixDIG9yIEQgYXJlIHRydWUgXFxuXFxuLS0tXFxuXFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJBIDF8MSB7QiwgQywgRH1cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbkluIGFuIE9SLVJ1bGUgaXQgaXMgcG9zc2libGUgdG8gZGVmaW5lIGhvdyBtYW55IG9mIHRoZSBzeW1ib2xzIChCLEMsRCkgbXVzdCBiZSB0cnVlIHdpdGggdGhlIG51bWJlciBiZWZvcmUgYW5kIGFmdGVyIHRoZSBwaXBlLXN5bWJvbC5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbkUgMXwyIHtFLEYsR31cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcblRoaXMgT1ItUnVsZSBtZWFucyB0aGF0IG9uZSBvciB0d28gb2YgdGhlIHRocmVlIHN5bWJvbHMgKEUsRixHKSBtdXN0IGJlIHRydWUsIHNvIHRoYXQgRSBpc3QgdHJ1ZS4gXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJJZiBub25lIG9mIHRoZSBzeW1ib2xzIGlzIHRydWUgb3IgYWxsIG9mIHRoZW0sIEUgd2lsbCBiZSBmYWxzZSBhcyB3ZWxsLlxcblwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSWYgeW91IGRvbid0IHVzZSBmcm9tfHRvIGluIGFuIG9yLXJ1bGUgdGhlbiBpdCBpcyByZXBsYWNlZCBieSBmcm9tIG9uZSB0byBhbGwgc3ltYm9scyAtIHdoYXQgbWVhbnMgdGhhdCBhIG1pbmltdW0gb2Ygb25lIG9mIHRoZSBzeW1ib2xzIGhhcyB0byBiZSB0cnVlIHNvIHRoYXQgRSBpcyB0cnVlLiBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIjAzX0dyb3Vwc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIklmIHlvdSBkb24ndCB3YW50IHRvIHJldXNlIHNvbWUgc3ltYm9scyB3aXRoIGluIGRpZmZlcmVudCBydWxlLCBpdCBpdCBwb3NzaWJsZSB0byBkZWZpbmUgZ3JvdXBzIHdoaWNoIHdpbGwgYmUgaW5zZXJ0ZWQgaW4gcnVsZXMgaW5zdGVhZCBvZiB0aGUgZ3JvdXBzIG5hbWVcXG5cXG4tLS1cXG5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIk15R3JvdXAgfiBFbGVtMSwgRWxlbTIsIEVsZW0zIH5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIk15T3B0aW9ucyAxfDEge015R3JvdXB9XFxuXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCIwNF9EeW5hbWljIGdyb3Vwc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIkl0IGlzIGFsc28gcG9zc2libGUgdG8gZGVmaW5lIGdyb3VwcyBmb3IgdXNpbmcgdGhlbSBpbiBydWxlcywgZXZlbiBpZiB5b3UgZG8gbm90IGtub3cgd2hpY2ggc3ltYm9scyBhcmUgaW4gYnkgdXNpbmcgYW4gaW50ZXJ2YWwuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUaGVuIHRoZSBtZW1iZXJzIG9mIHRoZSBncm91cCBhcmUgZGVmaW5lZCBieSB0aGUgcnVsZXMgZHluYW1pY2FsbHkuXFxuXFxuLS0tXFxuXFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJNeUdyb3VwIH4gRWxlbTF8RWxlbTQgflxcblwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRWxlbTIgW0EsQl1cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkVMZW00IHtDLER9XFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJNeU9wdGlvbnMgMXwxIHtNeUdyb3VwfVxcblwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuSW4gdGhpcyBjYXNlIHRoZSBydWxlc2V0IG9ubHkga25vd3MgdGhlIHN5bWJvbHMgRWxlbTIgYW5kIEVsZW00LCB3aGljaCBhcmUgaW5oZXJpdGVkIGJ5IHRoZSBpbnRlcnZhbCBmcm9tIEVsZW0xIHRpbGwgRWxlbTQuIFNvIHRoZSBncm91cCBpcyByZXBsYWNlZCBieSBFbGVlbTIgYW5kIEVsZW00LlxcblwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiMDVfVGltZSBkZXBlbmRlbmNpZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJJdCBpdCBwb3NzaWJsZSB0byBkZWZpbmUgdGltZSBkZXBlbmRlbmNpZXMgZm9yIHRoZSB1c2VkIHN5bWJvbHMuIFNvIHRoZSByZXN1bHRzIGhhdmUgdG8gYmUgJ3RpbWUgb3JkZXJlZCcuIFxcblxcbi0tLVxcblxcblwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQSBcdTIxRkUgQjtcXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRoaXMgbWVhbnMgdGhhdCBpbiBhIHNvbHV0aW9uIEEgbXVzdCBiZSBzb3J0ZWQgYmVmb3JlIEIgYW5kIGluIGNvbWJpbmF0aW9uIHdpdGggdGltZSBsaW5lcyBpdCBtZWFucyB0aGF0IEEgaGF2ZSB0byBiZSBmdWxsZmlsbGVkIGNvbXBsZXRlbHkgYmVmb3JlIEIgYmVnaW5zLlxcblxcblwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQSBcdTI5NjQgQjtcXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRoaXMgbWVhbnMgdGhhdCBpbiBhIHNvbHV0aW9uIEEgbXVzdCBiZSBzb3J0ZWQgYmVmb3JlIEIgYW5kIGluIGNvbWJpbmF0aW9uIHdpdGggdGltZSBsaW5lcyBpdCBtZWFucyB0aGF0IEEgaGF2ZSB0byBiZSBmdWxsZmlsbGVkIGNvbXBsZXRlbHkgYmVmb3JlIEIgZW5kcy5cXG5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIklmIHlvdSB3YW50IHRvIGRlZmluZSB0aGlzIHRpbWUgZGVwZW5kZW5jaWVzIHZpY2UgdmVyc2EgeW91IGNvdWxkIHVzZSBmb3IgYWZ0ZXIgXHUyMUZEIG9yIGZvciBwYXJhbGxlbCBhZnRlciBcdTI5NjIuXFxuXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCIxMF9WYWx1ZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJUaGVyZSBhcmUgYSBsb3Qgb2YgcG9zc2liaWxpdGVzIHRvIHB1dCB2YWx1ZXMgdG8gdGhlIGF0dHJpYnV0ZXMgb2YgYSBzeW1ib2wgb3IgdGhlIHN5bWJvbCBpdHNlbGYuXFxuXFxuLS0tXFxuXFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJBLmF0dHJpYiBcdTIyNjEgMTVcXG5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRoaXMgc3RhdGVtZW50IHdpbGwgcHV0IGEgdmFsdWUgb2YgMTUgdG8gdGhlIGF0dHJpYnV0ZSBhdHRyaWIgb2YgdGhlIHN5bWJvbCBBLiBGb3IgZXhhbXBsZSB5b3UgY2FuIGRlZmluZSBhIHN5bWJvbCBHZXJtYW55IGFuZCBwdXQgYSB0YXggcmF0ZSB0byB0aGlzIHN5bWJvbCBsaWtlIEdlcm1heS5TYWxlcyBUYXggPSAxOVxcblwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiMTVfVXNpbmcgVGFibGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiWW91IGNhbiByZWFkaW5nIHRhYmxlcyBpbiBtYW55IGRpZmZlcmVudCB2YXJpYW50cyB0byB1cGxvYWQgcnVsZXMgYW5kIHJlbGF0aW9ucyBcXG5cXG4tLS1cXG5cXG4gICBTZW1hTG9naWMoRGVmaW5lIE50YWJsZSwgaGVhZGVyKChtb2R1bGVfZXhhbV9udW1iZXJfXHUyMDI2KSwgW2V4YW1fbnVtYmVyX1x1MjAyNl0pLCBvcmRlcigxLCAyKSlcXG5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInwgbW9kdWxlX2V4YW1fbnVtYmVyIHwgZXhhbV9udW1iZXIgfFxcbnwgLS0tLS0tLS0tLS0tLS0tLS0tIHwgLS0tLS0tLS0tLS0gfFxcbnwgMTAzMiB8IDEwMzIxIHxcXG58IDEwMzAgfCAxMDMxMSB8XFxufCAxMDIxIHwgMTAyMTMgfFxcbnwgMTAyMSB8IDEwMjE1IHxcXG58IDEwMjEgfCAxMDIxNiB8XFxuXFxuIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiMjBfQ2FzY2FkaW5nIHJ1bGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiSXQgaXMgcG9zc2libGUgdG8gY2FzY2FkZSBydWxlIG9ubHkgYnkgdXNpbmcgc2FtZSBzeW1ib2xuYW1lIGZvciBhIG5ldyBydWxlIDogXFxuQSBpcyB0cnVlIC0gaWYgQiBvciBDIGlzIHRydWU7IFxcbkIgaXMgdHJ1ZSAtIGlmIEIxIG9yIEIyIGlzIHRydWVcXG4gQyBpcyB0cnVlIC0gaWYgQzEgYW5kIEMyIGFyZSB0cnVlIFxcblxcbi0tLVxcblxcbkEgW0IsIENdXFxuQiB7QjEgLCBCMn1cXG5DIFtDMSAsIEMyXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiNDBfRm9ybWFsIExhbmd1YWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiSXQgaXMgcG9zc2libGUgcmVwbGFjZSB0ZWNobmljYWwgU3ltdG9rZW5zIGZvciB1c2luZyBmb3JtYWwgbGFuZ3VhZ2UsXFxuc28gaXQgaXNwb3NzaWJsZSB0byBjaGFuZ2UgZGlhbGVjdHMgYXMgeW91IHdhbnQgd2l0aCB3b3JkcyB5b3UgdXNlIC0gb2ZmaWNhbCBkaWFsZWN0cyBhcmUgdW5kZXIgZGV2ZWxvcG1lbnQgIFxcblxcbi0tLVxcblxcblwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRGFzIFN0dWRpdW0gYmVzdGVodCBhdXMgZWluZXIgQWJzY2hsdXNzYXJiZWl0IHVuZCB1bWZhc3N0IEZhY2hzZW1lc3RlciAxIGJpcyBGYWNoc2VtZXN0ZXIgNCBhbHMgRWxlbWVudGUuXFxuXFxuXFxuU3ltVG9rZW5TcGFjZVx1MjI2MWVpbmVyIFxcblN5bVRva2VuU3BhY2VcdTIyNjFEYXMgXFxuU3ltVG9rZW5JbnRlcnZhbFx1MjI2MWJpcyBcXG5TeW1Ub2tlbkdyb3VwXHUyMjYxIHVtZmFzc3RcXG5TeW1Ub2tlbkdyb3VwXHUyMjYxIGFscyBFbGVtZW50ZVxcblN5bVRva2VuQW5kT3Blblx1MjI2MSBiZXN0ZWh0IGF1c1xcblN5bVRva2VuRWxlbWVudFx1MjI2MSB1bmRcXG5TeW1Ub2tlbkFuZENsb3NlXHUyMjYxLlxcblwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiU3ltVG9rZW5PckNsb3NlXHUyMjYxLlxcblwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCI5MF9TaG9ydCBPdmVydmlldyBUZWNobmljYWwgTGFuZ3VhZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIlRoaXMgaXMgYSBzaG9ydCBvdmVydmlldyBvdmVyIHRoZSBtYWluIFRva2VucyB5b3UgY291bGQgdXNlIGluIFNlbWFMb2dpYyBhbmQgdGhlaXIgU3ltVG9rZW5zOlxcblwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIG15Zm9sZGVyID0gMDsgbXlmb2xkZXIgPCB0ZW1wbC5mb2xkZXIubGVuZ3RoOyBteWZvbGRlcisrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgbXlmaWxlID0gMDsgbXlmaWxlIDwgdGVtcGwuZm9sZGVyW215Zm9sZGVyXS5maWxlcy5sZW5ndGg7IG15ZmlsZSsrKSB7XHJcblxyXG4gICAgICAgICAgICB2YXVsdC5jcmVhdGVGb2xkZXIodGVtcGwuZm9sZGVyW215Zm9sZGVyXS5uYW1lKVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpKVxyXG4gICAgICAgICAgICB2YXVsdC5jcmVhdGUoXHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVQYXRoKHRlbXBsLmZvbGRlcltteWZvbGRlcl0ubmFtZSArIFwiL1wiICsgdGVtcGwuZm9sZGVyW215Zm9sZGVyXS5maWxlc1tteWZpbGVdLm5hbWUgKyBcIi5tZFwiKSxcclxuICAgICAgICAgICAgICAgIHRlbXBsLmZvbGRlcltteWZvbGRlcl0uZmlsZXNbbXlmaWxlXS5jb250ZW50XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yKSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDZCQUFBQTtBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQyxtQkFDTTs7O0FDRE4sSUFBQUMsbUJBQXlHOzs7QUNDbEcsSUFBTSxlQUFlO0FBQUEsRUFDM0IsTUFBTTtBQUFBLEVBQ04sT0FBTztBQUFBLEVBQ1AsVUFBVTtBQUFBLEVBQ1YsTUFBTTtBQUFBLEVBQ04sYUFBYTtBQUFBLEVBQ2IsT0FBTztBQUFBLEVBQ1AsU0FBUztBQUFBLEVBQ1QsYUFBYTtBQUFBLEVBQ2IsZUFBZTtBQUFBLEVBQ2YsUUFBUTtBQUFBLEVBQ1IsS0FBSztBQUFBLEVBQ0wsYUFBYTtBQUFBLEVBQ2Isd0JBQXdCO0FBQUEsRUFDeEIsVUFBVTtBQUFBLEVBQ1YsY0FBYztBQUFBLEVBQ2QsWUFBWTtBQUFBLEVBQ1osUUFBUTtBQUFBLEVBQ1IsYUFBYTtBQUFBLEVBQ2IsMEJBQTBCO0FBQUEsRUFDMUIsWUFBWTtBQUFBLEVBQ1osZ0JBQWdCO0FBQ2pCO0FBRU8sSUFBTSxpQkFBaUI7QUFBQSxFQUM3QixnQkFBZ0I7QUFDakI7QUFJTyxJQUFJLG1CQUFtQjtBQUFBLEVBQzdCLGVBQWU7QUFBQSxFQUNmLGFBQWE7QUFBQSxFQUNiLFVBQVU7QUFBQSxFQUNWLGFBQWE7QUFBQSxFQUNiLHFCQUFxQjtBQUFBLEVBQ3JCLFlBQVk7QUFBQSxFQUNaLFFBQVE7QUFBQSxFQUNSLFdBQVc7QUFBQSxFQUNYLFlBQVk7QUFBQSxFQUNaLFVBQVU7QUFBQSxFQUNWLGtCQUFrQjtBQUFBLEVBQ2xCLGVBQWU7QUFDaEI7QUFJTyxJQUFNLGdCQUE0QjtBQUFBLEVBQ3hDLENBQUMsaUJBQWlCLGdCQUFnQixRQUFR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QUFBQSxVQUNIO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsUUFDSSxNQUFNLFdBQVc7QUFBQSxRQUNqQixPQUFPO0FBQUEsVUFDSDtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsUUFDSSxNQUFNLFdBQVc7QUFBQSxRQUNqQixPQUFPO0FBQUEsVUFDSDtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJLE1BQU0sV0FBVztBQUFBLFFBQ2pCLE9BQU87QUFBQSxVQUNIO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJLE1BQU0sV0FBVztBQUFBLFFBQ2pCLE9BQU87QUFBQSxVQUNIO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJLE1BQU0sV0FBVztBQUFBLFFBQ2pCLE9BQU87QUFBQSxVQUNIO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJLE1BQU0sV0FBVztBQUFBLFFBQ2pCLE9BQU87QUFBQSxVQUNIO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBQ2I7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBR0EsV0FBUyxXQUFXLEdBQUcsV0FBVyxNQUFNLE9BQU8sUUFBUSxZQUFZO0FBQy9ELGFBQVMsU0FBUyxHQUFHLFNBQVMsTUFBTSxPQUFPLFVBQVUsTUFBTSxRQUFRLFVBQVU7QUFFekUsWUFBTSxhQUFhLE1BQU0sT0FBTyxVQUFVLElBQUksRUFDekMsTUFBTSxDQUFDLFVBQVUsUUFBUSxJQUFJLEtBQUssQ0FBQztBQUN4QyxZQUFNO0FBQUEsWUFDRixnQ0FBYyxNQUFNLE9BQU8sVUFBVSxPQUFPLE1BQU0sTUFBTSxPQUFPLFVBQVUsTUFBTSxRQUFRLE9BQU8sS0FBSztBQUFBLFFBQ25HLE1BQU0sT0FBTyxVQUFVLE1BQU0sUUFBUTtBQUFBLE1BQ3pDLEVBQ0ssTUFBTSxDQUFDLFVBQVUsUUFBUSxJQUFJLEtBQUssQ0FBQztBQUFBLElBQzVDO0FBQUEsRUFDSjtBQUNKOzs7QUNsVUEsSUFBQUMsbUJBQXFDO0FBR3JDLGVBQXNCLGVBQWUsT0FBYztBQUUvQyxRQUFNLFFBQVE7QUFBQSxJQUNWLFFBQVE7QUFBQSxNQUNKO0FBQUEsUUFDSSxNQUFNLFdBQVc7QUFBQSxRQUNqQixPQUFPO0FBQUEsVUFDSDtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBWWI7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQU9iO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBR2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFPYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQU1iO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBR2I7QUFBQSxVQUNBO0FBQUEsWUFDSSxNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFFYjtBQUFBLFVBQ0E7QUFBQSxZQUNJLE1BQU07QUFBQSxZQUNOLFNBQVM7QUFBQSxVQUNiO0FBQUEsVUFDQTtBQUFBLFlBQ0ksTUFBTTtBQUFBLFlBQ04sU0FBUztBQUFBLFVBR2I7QUFBQSxRQUtKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBRUEsV0FBUyxXQUFXLEdBQUcsV0FBVyxNQUFNLE9BQU8sUUFBUSxZQUFZO0FBQy9ELGFBQVMsU0FBUyxHQUFHLFNBQVMsTUFBTSxPQUFPLFVBQVUsTUFBTSxRQUFRLFVBQVU7QUFFekUsWUFBTSxhQUFhLE1BQU0sT0FBTyxVQUFVLElBQUksRUFDekMsTUFBTSxDQUFDLFVBQVUsUUFBUSxJQUFJLEtBQUssQ0FBQztBQUN4QyxZQUFNO0FBQUEsWUFDRixnQ0FBYyxNQUFNLE9BQU8sVUFBVSxPQUFPLE1BQU0sTUFBTSxPQUFPLFVBQVUsTUFBTSxRQUFRLE9BQU8sS0FBSztBQUFBLFFBQ25HLE1BQU0sT0FBTyxVQUFVLE1BQU0sUUFBUTtBQUFBLE1BQ3pDLEVBQ0ssTUFBTSxDQUFDLFVBQVUsUUFBUSxJQUFJLEtBQUssQ0FBQztBQUFBLElBQzVDO0FBQUEsRUFDSjtBQUNKOzs7QVA5Rk8sSUFBSSxhQUFhO0FBRWpCLElBQUksU0FBUyxPQUFPLEtBQUssTUFBTSxLQUFLLE9BQU8sSUFBSSxXQUFXLENBQUM7QUF5QjNELElBQU0sa0JBQTJDO0FBQUEsRUFDdkQsY0FBYztBQUFBLElBQUM7QUFBQSxNQUNkLFFBQVEsYUFBYTtBQUFBLE1BQ3JCLGdCQUFnQjtBQUFBLE1BQ2hCLFdBQVcsYUFBYTtBQUFBLE1BQ3hCLFVBQVUsYUFBYTtBQUFBLE1BQ3ZCLE9BQU8sYUFBYTtBQUFBLE1BQ3BCLFdBQVcsYUFBYTtBQUFBLE1BQ3hCLFlBQVksYUFBYTtBQUFBLE1BQ3pCLFFBQVEsYUFBYTtBQUFBLE1BQ3JCLFlBQVksYUFBYTtBQUFBLE1BQ3pCLGtCQUFrQixlQUFlO0FBQUEsTUFDakMsVUFBVSxhQUFhO0FBQUEsTUFDdkIsZUFBZSxhQUFhO0FBQUEsTUFDNUIsY0FBYyxhQUFhO0FBQUEsTUFDM0IsVUFBVSxhQUFhO0FBQUEsTUFDdkIsY0FBYyxhQUFhO0FBQUEsSUFDNUI7QUFBQSxJQUNBO0FBQUEsTUFDQyxRQUFRLGFBQWE7QUFBQSxNQUNyQixnQkFBZ0I7QUFBQSxNQUNoQixXQUFXLGFBQWE7QUFBQSxNQUN4QixVQUFVLGFBQWE7QUFBQSxNQUN2QixPQUFPLGFBQWE7QUFBQSxNQUNwQixXQUFXLGFBQWE7QUFBQSxNQUN4QixZQUFZLGFBQWE7QUFBQSxNQUN6QixRQUFRLGFBQWE7QUFBQSxNQUNyQixZQUFZLGFBQWE7QUFBQSxNQUN6QixrQkFBa0IsZUFBZTtBQUFBLE1BQ2pDLFVBQVUsYUFBYTtBQUFBLE1BQ3ZCLGVBQWUsYUFBYTtBQUFBLE1BQzVCLGNBQWMsYUFBYTtBQUFBLE1BQzNCLFVBQVUsYUFBYTtBQUFBLE1BQ3ZCLGNBQWMsYUFBYTtBQUFBLElBQzVCO0FBQUEsSUFDQTtBQUFBLE1BQ0MsUUFBUSxhQUFhO0FBQUEsTUFDckIsZ0JBQWdCO0FBQUEsTUFDaEIsV0FBVyxhQUFhO0FBQUEsTUFDeEIsVUFBVSxhQUFhO0FBQUEsTUFDdkIsT0FBTyxhQUFhO0FBQUEsTUFDcEIsV0FBVyxhQUFhO0FBQUEsTUFDeEIsWUFBWSxhQUFhO0FBQUEsTUFDekIsUUFBUSxhQUFhO0FBQUEsTUFDckIsWUFBWSxhQUFhO0FBQUEsTUFDekIsa0JBQWtCLGVBQWU7QUFBQSxNQUNqQyxVQUFVLGFBQWE7QUFBQSxNQUN2QixlQUFlLGFBQWE7QUFBQSxNQUM1QixjQUFjLGFBQWE7QUFBQSxNQUMzQixVQUFVLGFBQWE7QUFBQSxNQUN2QixjQUFjLGFBQWE7QUFBQSxJQUM1QjtBQUFBLEVBQ0E7QUFBQSxFQUNBLFdBQVc7QUFBQSxFQUNYLGNBQWM7QUFDZjtBQWdCQSxJQUFNLHNCQUFOLGNBQWtDLGtDQUFpQjtBQUFBLEVBR2xELFlBQVlDLE1BQVUsUUFBeUI7QUFDOUMsVUFBTUEsTUFBSyxNQUFNO0FBQ2pCLFNBQUssU0FBUztBQUFBLEVBQ2Y7QUFBQSxFQUVBLFVBQWdCO0FBRWYsVUFBTSxFQUFFLFlBQVksSUFBSTtBQUN4QixnQkFBWSxNQUFNO0FBR2xCLGdCQUFZLFNBQVMsTUFBTSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFHOUQsUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEsb0JBQW9CLEVBQzVCLFFBQVEscURBQXFELEVBQzdELFlBQVksY0FBWSxTQUN2QixVQUFVLEtBQUssZ0JBQWdCLEVBQUUsRUFDakMsVUFBVSxLQUFLLGdCQUFnQixFQUFFLEVBQ2pDLFVBQVUsS0FBSyxnQkFBZ0IsRUFBRSxFQUNqQyxVQUFVLEtBQUssZ0JBQWdCLEVBQUUsRUFDakMsVUFBVSxLQUFLLGdCQUFnQixFQUFFLEVBQ2pDLFVBQVUsS0FBSyxnQkFBZ0IsRUFBRSxFQUNqQyxTQUFTLE9BQU8sS0FBSyxPQUFPLFNBQVMsWUFBWSxDQUFDLEVBQ2xELFNBQVMsT0FBTyxVQUFVO0FBQzFCLG1CQUFhLFlBQVksaUJBQWlCLFFBQVcscUJBQXFCLGdCQUFnQixTQUFTLEtBQUssRUFBRTtBQUMxRyxXQUFLLE9BQU8sU0FBUyxlQUFlLFNBQVMsS0FBSztBQUNsRCxtQkFBYSxTQUFTLEtBQUs7QUFDM0IsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUMvQixXQUFLLFFBQVE7QUFBQSxJQUNkLENBQUMsQ0FBQztBQUdKLFFBQUkseUJBQVEsV0FBVyxFQUNyQixRQUFRLDZCQUE2QixFQUNyQyxRQUFRLDZEQUE2RCxFQUNyRSxZQUFZLGNBQVksU0FDdkIsVUFBVSxLQUFLLFdBQVcsRUFDMUIsVUFBVSxLQUFLLFdBQVcsRUFDMUIsVUFBVSxLQUFLLFdBQVcsRUFDMUIsU0FBUyxLQUFLLE9BQU8sU0FBUyxVQUFVLFNBQVMsQ0FBQyxFQUNsRCxTQUFTLE9BQU8sVUFBVTtBQUMxQixtQkFBYSxZQUFZLGlCQUFpQixRQUFXLGtCQUFrQixLQUFLO0FBQzVFLFdBQUssT0FBTyxTQUFTLFlBQVksU0FBUyxLQUFLO0FBQy9DLFdBQUssUUFBUTtBQUNiLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFJSixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSx5QkFBeUIsRUFFakMsUUFBUSxhQUFXLFFBQ2xCLFNBQVMsS0FBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLGlCQUFpQixTQUFTLENBQUMsRUFDdEcsU0FBUyxPQUFPLFVBQVU7QUFDMUIsbUJBQWEsWUFBWSxzQkFBc0IsUUFBVywwQkFBMEIsS0FBSztBQUN6RixXQUFLLE9BQU8sU0FBUyxhQUFhLEtBQUssT0FBTyxTQUFTLFdBQVcsbUJBQW1CLFNBQVMsS0FBSztBQUNuRyxhQUFPLGNBQWMsS0FBSyxPQUFPLFFBQVE7QUFDekMsV0FBSyxPQUFPO0FBQUEsUUFDWCxLQUFLLE9BQU8sV0FBVyxPQUFPLFlBQVksS0FBSyxPQUFPLGNBQWMsS0FBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLGdCQUFnQjtBQUFBLE1BQ3ZKO0FBQ0EsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBRWhDLENBQUMsQ0FBQztBQUlKLFFBQUkseUJBQVEsV0FBVyxFQUNyQixRQUFRLFNBQVMsRUFDakIsUUFBUSx1Q0FBdUMsRUFDL0MsUUFBUSxVQUFRLEtBQ2YsZUFBZSxhQUFhLFFBQVEsRUFDcEMsU0FBUyxLQUFLLE9BQU8sU0FBUyxhQUFhLEtBQUssT0FBTyxTQUFTLFdBQVcsU0FBUyxFQUNwRixTQUFTLE9BQU8sVUFBVTtBQUMxQixtQkFBYSxZQUFZLHNCQUFzQixRQUFXLGtCQUFrQixLQUFLO0FBQ2pGLFdBQUssT0FBTyxTQUFTLGFBQWEsS0FBSyxPQUFPLFNBQVMsV0FBVyxZQUFZO0FBQzlFLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFFSixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSwyQkFBMkIsRUFDbkMsUUFBUSx1RUFBdUUsRUFDL0UsUUFBUSxVQUFRLEtBQ2YsZUFBZSxhQUFhLE1BQU0sRUFDbEMsU0FBUyxLQUFLLE9BQU8sU0FBUyxhQUFhLEtBQUssT0FBTyxTQUFTLFdBQVcsUUFBUSxFQUNuRixTQUFTLE9BQU8sVUFBVTtBQUMxQixtQkFBYSxZQUFZLHNCQUFzQixRQUFXLDhCQUE4QixLQUFLO0FBQzdGLFdBQUssT0FBTyxTQUFTLGFBQWEsS0FBSyxPQUFPLFNBQVMsV0FBVyxXQUFXO0FBQzdFLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUVoQyxDQUFDLENBQUM7QUFJSixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxnQkFBZ0IsRUFDeEIsUUFBUSxnQkFBZ0IsRUFDeEIsUUFBUSxVQUFRLEtBQ2YsZUFBZSxhQUFhLElBQUksRUFDaEMsU0FBUyxLQUFLLE9BQU8sU0FBUyxhQUFhLEtBQUssT0FBTyxTQUFTLFdBQVcsTUFBTSxFQUNqRixTQUFTLE9BQU8sVUFBVTtBQUMxQixtQkFBYSxZQUFZLHNCQUFzQixRQUFXLGtCQUFrQixLQUFLO0FBQ2pGLFdBQUssT0FBTyxTQUFTLGFBQWEsS0FBSyxPQUFPLFNBQVMsV0FBVyxTQUFTO0FBQzNFLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFJSixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxjQUFjLEVBQ3RCLFFBQVEsMkZBQTJGLEVBQ25HLFlBQVksY0FBWSxTQUN2QixVQUFVLHFCQUFxQixtQkFBbUIsSUFBSSxxQkFBcUIsbUJBQW1CLEVBQUUsRUFDaEcsVUFBVSxxQkFBcUIsYUFBYSxJQUFJLHFCQUFxQixhQUFhLEVBQUUsRUFDcEYsVUFBVSxxQkFBcUIsaUJBQWlCLElBQUkscUJBQXFCLGlCQUFpQixFQUFFLEVBQzVGLFVBQVUscUJBQXFCLHNCQUFzQixJQUFJLHFCQUFxQixzQkFBc0IsRUFBRSxFQUN0RyxVQUFVLHFCQUFxQix3QkFBd0IsSUFBSSxxQkFBcUIsd0JBQXdCLEVBQUUsRUFDMUcsU0FBUyxLQUFLLE9BQU8sU0FBUyxhQUFhLEtBQUssT0FBTyxTQUFTLFdBQVcsY0FBYyxFQUN6RixTQUFTLE9BQU8sVUFBVTtBQUMxQixtQkFBYSxZQUFZLHNCQUFzQixRQUFXLHVCQUF1QixLQUFLO0FBQ3RGLFdBQUssT0FBTyxTQUFTLGFBQWEsS0FBSyxPQUFPLFNBQVMsV0FBVyxpQkFBaUI7QUFDbkYsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQWtCSixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSwrQkFBK0IsRUFDdkMsUUFBUSwyRUFBMkUsRUFDbkYsVUFBVSxhQUFXLFFBQ3BCLFNBQVMsS0FBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLFlBQVksRUFDdkYsU0FBUyxPQUFPLFVBQVU7QUFDMUIsbUJBQWEsWUFBWSxzQkFBc0IsUUFBVyw4QkFBOEIsS0FBSztBQUM3RixXQUFLLE9BQU8sU0FBUyxhQUFhLEtBQUssT0FBTyxTQUFTLFdBQVcsZUFBZTtBQUNqRixZQUFNLEtBQUssT0FBTyxhQUFhO0FBQy9CLFdBQUssUUFBUTtBQUFBLElBQ2QsQ0FBQyxDQUFDO0FBRUosUUFBSSxLQUFLLE9BQU8sU0FBUyxhQUFhLEtBQUssT0FBTyxTQUFTLFdBQVcsY0FBYztBQUVuRixVQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxtQkFBbUIsRUFDM0IsUUFBUSxnQ0FBZ0MsRUFDeEMsUUFBUSxVQUFRLEtBQ2YsZUFBZSxhQUFhLFVBQVUsRUFDdEMsU0FBUyxLQUFLLE9BQU8sU0FBUyxhQUFhLEtBQUssT0FBTyxTQUFTLFdBQVcsUUFBUSxFQUNuRixTQUFTLE9BQU8sVUFBVTtBQUMxQixxQkFBYSxZQUFZLHNCQUFzQixRQUFXLDBCQUEwQjtBQUNwRixhQUFLLE9BQU8sU0FBUyxhQUFhLEtBQUssT0FBTyxTQUFTLFdBQVcsV0FBVztBQUM3RSxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQyxDQUFDO0FBR0osVUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEsdUJBQXVCLEVBQy9CLFFBQVEsb0NBQW9DLEVBQzVDLFFBQVEsVUFBUSxLQUNmLGVBQWUsYUFBYSxjQUFjLEVBQzFDLFNBQVMsS0FBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLFlBQVksRUFDdkYsU0FBUyxPQUFPLFVBQVU7QUFDMUIscUJBQWEsWUFBWSxzQkFBc0IsUUFBVyw4QkFBOEI7QUFDeEYsYUFBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLGVBQWU7QUFDakYsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUMsQ0FBQztBQUFBLElBQ0w7QUFJQSxRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSw4QkFBOEIsRUFFdEMsVUFBVSxhQUFXLFFBQ3BCLFNBQVMsS0FBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLFNBQVMsRUFDcEYsU0FBUyxPQUFPLFVBQVU7QUFDMUIsbUJBQWEsWUFBWSxzQkFBc0IsUUFBVyxrQ0FBa0MsS0FBSztBQUNqRyxXQUFLLE9BQU8sU0FBUyxhQUFhLEtBQUssT0FBTyxTQUFTLFdBQVcsWUFBWTtBQUM5RSxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFFaEMsQ0FBQyxDQUFDO0FBR0osZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUN0RSxnQkFBWSxTQUFTLE1BQU0sRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBR3RFLFFBQUkseUJBQVEsV0FBVyxFQUNyQixRQUFRLDBCQUEwQixFQUNsQyxRQUFRLDJDQUEyQyxFQUNuRCxRQUFRLFVBQVEsS0FDZixlQUFlLGFBQWEsTUFBTSxFQUNsQyxTQUFTLEtBQUssT0FBTyxTQUFTLGFBQWEsS0FBSyxPQUFPLFNBQVMsV0FBVyxRQUFRLEVBQ25GLFNBQVMsT0FBTyxVQUFVO0FBQzFCLG1CQUFhLFlBQVksc0JBQXNCLFFBQVcsK0JBQStCLEtBQUs7QUFDOUYsV0FBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLFdBQVc7QUFDN0UsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUdKLFFBQUkseUJBQVEsV0FBVyxFQUNyQixRQUFRLCtDQUErQyxFQUN2RCxRQUFRLG9DQUFvQyxFQUM1QyxRQUFRLFVBQVEsS0FDZixlQUFlLGFBQWEsV0FBVyxFQUN2QyxTQUFTLEtBQUssT0FBTyxTQUFTLGFBQWEsS0FBSyxPQUFPLFNBQVMsV0FBVyxhQUFhLEVBQ3hGLFNBQVMsT0FBTyxVQUFVO0FBQzFCLG1CQUFhLFlBQVksc0JBQXNCLFFBQVcsZ0RBQWdELEtBQUs7QUFDL0csV0FBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLGdCQUFnQjtBQUNsRixZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBR0osUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEscUJBQXFCLEVBQzdCLFFBQVEsMEVBQTBFLEVBQ2xGLFVBQVUsYUFBVyxRQUNwQixTQUFTLEtBQUssT0FBTyxTQUFTLGFBQWEsS0FBSyxPQUFPLFNBQVMsV0FBVyxVQUFVLEVBQ3JGLFNBQVMsT0FBTyxVQUFVO0FBQzFCLG1CQUFhLFlBQVksc0JBQXNCLFFBQVcsOEJBQThCLEtBQUs7QUFDN0YsV0FBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLGFBQWE7QUFDL0UsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUMvQixXQUFLLFFBQVE7QUFBQSxJQUNkLENBQUMsQ0FBQztBQUdKLFFBQUksS0FBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLFlBQVk7QUFFakYsVUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEsbUJBQW1CLEVBQzNCLFFBQVEsZ0NBQWdDLEVBQ3hDLFFBQVEsVUFBUSxLQUNmLGVBQWUsYUFBYSxRQUFRLEVBQ3BDLFNBQVMsS0FBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLE1BQU0sRUFDakYsU0FBUyxPQUFPLFVBQVU7QUFDMUIscUJBQWEsWUFBWSxzQkFBc0IsUUFBVywwQkFBMEI7QUFDcEYsYUFBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sU0FBUyxXQUFXLFNBQVM7QUFDM0UsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUMsQ0FBQztBQUdKLFVBQUkseUJBQVEsV0FBVyxFQUNyQixRQUFRLHVCQUF1QixFQUMvQixRQUFRLG9DQUFvQyxFQUM1QyxRQUFRLFVBQVEsS0FDZixlQUFlLGFBQWEsWUFBWSxFQUN4QyxTQUFTLEtBQUssT0FBTyxTQUFTLGFBQWEsS0FBSyxPQUFPLFNBQVMsV0FBVyxVQUFVLEVBQ3JGLFNBQVMsT0FBTyxVQUFVO0FBQzFCLHFCQUFhLFlBQVksc0JBQXNCLFFBQVcsOEJBQThCO0FBQ3hGLGFBQUssT0FBTyxTQUFTLGFBQWEsS0FBSyxPQUFPLFNBQVMsV0FBVyxhQUFhO0FBQy9FLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDLENBQUM7QUFBQSxJQUNMO0FBQUEsRUFHRDtBQUNEO0FBR08sSUFBTUMsdUJBQU4sTUFBMEI7QUFBQSxFQUExQjtBQUlOLHdCQUF3QjtBQUFBO0FBQUEsRUFHeEIsVUFBVSxNQUFxQjtBQUM5QixTQUFLLFNBQVM7QUFBQSxFQUNmO0FBQUEsRUFFQSxXQUFXLFNBQTBCO0FBQ3BDLFNBQUssV0FBVztBQUFBLEVBQ2pCO0FBQUEsRUFFTyxJQUFJLEdBQVcsR0FBbUI7QUFDeEMsV0FBTyxJQUFJO0FBQUEsRUFDWjtBQUNEO0FBRUEsSUFBcUIsa0JBQXJCLGNBQTZDLHdCQUFPO0FBQUEsRUFBcEQ7QUFBQTtBQU9DLHFCQUFxQjtBQUNyQixvQkFBb0I7QUFDcEIsc0JBQXFCO0FBQ3JCLDZCQUE2QjtBQUM3QixxQ0FBcUM7QUFDckMsb0NBQW9DO0FBQ3BDLDhCQUFxQjtBQUNyQiw0QkFBNEI7QUFHNUIsc0JBQWEsSUFBSTtBQTRYakIsd0JBQWUsQ0FBQyxXQUF1QjtBQUN0QyxVQUFJLEtBQUssVUFBVTtBQUVsQixjQUFNLE9BQU8sZ0JBQXFCLE9BQU8sS0FBSyxJQUFJLENBQUMsSUFBSSxNQUFNLE9BQU8sS0FBSyxVQUFVLElBQUksTUFBTSxPQUFPLEtBQUssSUFBSSxJQUFJLEtBQUssVUFBVSxJQUFJLE1BQU0sT0FBTyxLQUFLLGlCQUFpQixJQUFJLE1BQU0sT0FBTyxLQUFLLGtCQUFrQjtBQUMvTSxxQkFBYSxZQUFZLHdCQUF3QixLQUFLLE9BQU8sUUFBUSxJQUFJO0FBQ3pFLFlBQUksVUFBVSxNQUFNO0FBQUEsUUFBRSxPQUNqQjtBQUNKLGNBQUksT0FBTyxNQUFNO0FBQ2hCLGdCQUFJLENBQUMsT0FBTyxjQUFjLENBQUMsT0FBTyxjQUFjO0FBQy9DO0FBQUEsWUFDRCxPQUFPO0FBQ04sa0JBQUksS0FBSyxvQkFBb0IsT0FBTztBQUVuQyw2QkFBYSxZQUFZLHdCQUF3QixLQUFLLE9BQU8sUUFBUSxxREFBcUQsT0FBTyxPQUFPLFVBQVUsSUFBSSxNQUFNLE9BQU8sT0FBTyxZQUFZLElBQUksTUFBTSxPQUFPLEtBQUssZ0JBQWdCLENBQUM7QUFDN04scUJBQUssZ0JBQWdCO0FBQUEsY0FDdEI7QUFBQSxZQUNEO0FBQUEsVUFDRDtBQUFBLFFBQ0Q7QUFFQSxZQUFLLEtBQUssSUFBSSxJQUFJLEtBQUssYUFBYSxLQUFLLFNBQVMsYUFBYSxLQUFLLFNBQVMsV0FBVyxxQkFBc0IsS0FBSyxxQkFBcUIsUUFBUSxLQUFLLDZCQUE2QixTQUFVLEtBQUssc0JBQXNCLE9BQVE7QUFDOU4sdUJBQWEsWUFBWSx3QkFBd0IsS0FBSyxPQUFPLFFBQVEsc0JBQXNCO0FBQzNGLGVBQUssYUFBYSxLQUFLLElBQUk7QUFDM0IsZUFBSyxnQkFBZ0I7QUFBQSxRQUd0QixXQUNNLEtBQUssSUFBSSxJQUFJLEtBQUssYUFBYSxLQUFLLFNBQVMsYUFBYSxLQUFLLFNBQVMsV0FBVyxvQkFBc0IsS0FBSyxxQkFBcUIsUUFBVSxLQUFLLHNCQUFzQixPQUFRO0FBQ3BMLHdCQUFjLEtBQUssVUFBVSxLQUFLLFVBQVU7QUFBQSxRQUM3QztBQUFBLE1BQ0Y7QUFBQSxJQUVEO0FBQUE7QUFBQSxFQXhaUSxtQkFBbUIsYUFBcUI7QUFFL0Msa0JBQWMsWUFBWSxRQUFRLDBCQUFxQix3QkFBbUI7QUFFMUUsUUFBSSxLQUFLO0FBQ1Qsa0JBQWMsWUFBWSxRQUFRLElBQUksRUFBRTtBQUN4QyxTQUFLO0FBQ0wsa0JBQWMsWUFBWSxRQUFRLElBQUksRUFBRTtBQUN4QyxXQUFPLEVBQUUsWUFBWTtBQUFBLEVBQ3RCO0FBQUEsRUFFUSxnQkFBMEM7QUFDakQsVUFBTSxhQUFhLElBQUksVUFBVSxvQkFBb0IsNkJBQVk7QUFDakUsUUFBSSxlQUFlLE1BQU07QUFDeEIsVUFBSSxLQUFLLG1CQUFtQixNQUFNO0FBQ2pDLHFCQUFhLFlBQVksaUJBQWlCLEtBQUssT0FBTyxRQUFRLG1EQUFtRDtBQUNqSDtBQUFBLE1BQ0QsT0FBTztBQUNOLGVBQU8sS0FBSztBQUFBLE1BQ2I7QUFBQSxJQUNEO0FBQ0EsU0FBSyxpQkFBaUI7QUFDdEIsaUJBQWEsWUFBWSxzQkFBc0IsS0FBSyxPQUFPLFFBQVEsS0FBSyxlQUFlLGVBQWUsQ0FBQztBQUN2RyxXQUFPLEtBQUs7QUFBQSxFQUNiO0FBQUEsRUFFQSxXQUFpQjtBQUNoQixTQUFLLE9BQU8sZUFBZTtBQUMzQixTQUFLLElBQUksVUFBVSxpQkFBaUIsQ0FBQyxTQUFTO0FBQzdDLGNBQVEsS0FBSyxLQUFLLFlBQVk7QUFBQSxhQUN4QixtQkFBbUI7QUFDdkIsZUFBSyxPQUFPLFNBQVUsS0FBSztBQUMzQixlQUFLLE9BQU8sT0FBTyxRQUFRLEtBQUssTUFBTTtBQUN0QyxlQUFLLE9BQU8sT0FBTyxPQUFPLFVBQVUsS0FBSyxPQUFPLE1BQU07QUFDdEQsZUFBSyxPQUFPLE9BQU8sT0FBTyxXQUFXLEtBQUssT0FBTztBQUNqRCxlQUFLLFlBQVk7QUFDakIsZUFBSyxXQUFXO0FBQ2hCO0FBQUEsUUFDRDtBQUFBLGFBQ0ssYUFBYTtBQUNqQixlQUFLLE9BQU8sWUFBYSxLQUFLO0FBQzlCLGVBQUssT0FBTyxVQUFVLFFBQVEsS0FBSyxNQUFNO0FBQ3pDLGVBQUssT0FBTyxVQUFVLE9BQU8sVUFBVSxLQUFLLE9BQU8sTUFBTTtBQUN6RCxlQUFLLE9BQU8sVUFBVSxPQUFPLFdBQVcsS0FBSyxPQUFPO0FBQ3BELGVBQUssT0FBTyxlQUFlO0FBQzNCLGVBQUssaUJBQWlCO0FBRXRCO0FBQUEsUUFDRDtBQUFBO0FBQUEsSUFFRixDQUFDO0FBQ0QsU0FBSyxjQUFjO0FBQUEsRUFFcEI7QUFBQSxFQUVBLE1BQU0sU0FBd0I7QUFDN0IsU0FBSyw4QkFBOEIsQ0FBQyxTQUFTLFlBQVk7QUFDeEQsbUJBQWEsWUFBWSxtQkFBbUIsUUFBVyxPQUFPO0FBQzlELG1CQUFhLFlBQVksbUJBQW1CLFFBQVcsT0FBTztBQUM5RCxjQUFRLGlCQUFpQixHQUFHLEVBQUUsUUFBUSxDQUFDLE9BQU87QUFDN0MsWUFBSSwyQkFBMkIsRUFBRSxHQUFHO0FBQ25DLGNBQUksTUFBTSxLQUFLO0FBQ2Ysa0JBQVEsU0FBUyxJQUFJLHlCQUF5QixFQUFFLGFBQWEsSUFBbUIsSUFBSSxDQUFDLENBQUM7QUFBQSxRQUN2RjtBQUFBLE1BQ0QsQ0FBQztBQUFBLElBQ0YsQ0FBQztBQUdELFNBQUssY0FBYyxJQUFJLG9CQUFvQixLQUFLLEtBQUssSUFBSSxDQUFDO0FBQzFELFVBQU0sS0FBSyxhQUFhO0FBQ3hCLGlCQUFhLEtBQUssU0FBUztBQUczQixTQUFLLFdBQVcsS0FBSyxpQkFBaUI7QUFFdEMsU0FBSyxTQUFTLElBQUlBO0FBQ2xCLFNBQUssT0FBTyxXQUFXLElBQUk7QUFFM0IsU0FBSyxhQUFhO0FBRWxCLFVBQU0sS0FBSyxlQUFlO0FBQzFCLFNBQUssU0FBUztBQUdkLFNBQUssY0FBYyxRQUFRLHlCQUF5QixNQUFNO0FBQ3pELFdBQUssU0FBUztBQUNkLFVBQUksS0FBSyxhQUFhLE9BQU87QUFDNUIsYUFBSyxXQUFXO0FBQ2hCLFlBQUksQ0FBQyxLQUFLLFdBQVc7QUFDcEIsZUFBSyxhQUFhO0FBQUEsUUFDbkI7QUFBQSxNQUNELE9BQU87QUFDTixhQUFLLFdBQVc7QUFDaEIsYUFBSyxlQUFlO0FBQUEsTUFDckI7QUFBQSxJQUVELENBQUM7QUFFRCxTQUFLLGNBQWMsUUFBUSx3QkFBd0IsTUFBTTtBQUN4RCxXQUFLLFNBQVM7QUFDZCxVQUFJLEtBQUssVUFBVSxRQUFXO0FBQzdCLFlBQUksS0FBSyxPQUFPLGdCQUFnQixPQUFPO0FBQ3RDLGVBQUssZ0JBQWdCO0FBQUEsUUFDdEIsT0FBTztBQUNOLGVBQUssa0JBQWtCO0FBQUEsUUFDeEI7QUFBQSxNQUNEO0FBQUEsSUFDRCxDQUFDO0FBTUQsU0FBSyxXQUFXO0FBQUEsTUFDZixJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU07QUFDZiw2QkFBcUIsSUFBSSxLQUFLO0FBQzlCLHVCQUFlLElBQUksS0FBSztBQUFBLE1BQ3pCO0FBQUEsSUFDRCxDQUFDO0FBR0QsUUFBSSxLQUFLLFVBQVU7QUFDbEIsV0FBSyxlQUFlO0FBRXBCLFdBQUssT0FBTyxPQUFPLGNBQWMsS0FBSyxTQUFTLGFBQWEsS0FBSyxTQUFTLFdBQVcsZ0JBQWdCLElBQUk7QUFDekcsV0FBSyxlQUFlO0FBQUEsSUFDckI7QUFDQSxTQUFLO0FBQUEsTUFDSixLQUFLLFdBQVcsT0FBTyxZQUFZLEtBQUssY0FBYyxLQUFLLFNBQVMsYUFBYSxLQUFLLFNBQVMsV0FBVyxnQkFBZ0I7QUFBQSxJQUMzSDtBQUNBLFNBQUssd0JBQXdCLENBQUMsd0JBQVcsZUFBZSxHQUFHLEtBQUssWUFBWSxDQUFDLENBQUM7QUFBQSxFQUMvRTtBQUFBLEVBRUEsTUFBTSxpQkFBa0M7QUFFdkMsU0FBSyxTQUFTO0FBRWQsaUJBQWEsWUFBWSxhQUFhLEtBQUssT0FBTyxRQUFRLHNCQUFzQjtBQUNoRixRQUFJLFVBQWtCLENBQUM7QUFFdkIsU0FBSyxhQUFhLEtBQUssSUFBSTtBQUMzQixVQUFNLGNBQWMsS0FBSyxVQUFVLEtBQUssVUFBVTtBQUdsRCxRQUFJLFdBQVcsWUFBWSxLQUFLLFFBQVEsSUFBSSxhQUFhLGNBQWMsVUFBVTtBQUNqRixpQkFBYSxZQUFZLHNCQUFzQixLQUFLLE9BQU8sUUFBUSxRQUFRO0FBRTNFLFFBQUksV0FBbUI7QUFDdkIsUUFBSSxhQUFhLEtBQUssY0FBYztBQUNwQyxRQUFJLGNBQWMsUUFBVztBQUFFLFdBQUssT0FBTyxlQUFlO0FBQUEsSUFBVztBQUVyRSxRQUFJLFlBQW9CO0FBQ3hCLFFBQUksWUFBcUI7QUFDekIsUUFBSSxlQUF3QjtBQUU1QixRQUFJLGNBQWMsTUFBTTtBQUN2QixtQkFBYSxZQUFZLG1CQUFtQixLQUFLLE9BQU8sUUFBUSx3QkFBd0I7QUFFeEYsZUFBUyxJQUFJLEdBQUcsSUFBSSxXQUFXLE9BQU8sVUFBVSxHQUFHLEtBQUs7QUFDdkQscUJBQWEsWUFBWSxnQkFBZ0IsS0FBSyxPQUFPLFFBQVEsR0FBRyxLQUFLLFdBQVcsT0FBTyxRQUFRLENBQUMsQ0FBQztBQUNqRyxxQkFBYSxZQUFZLGdCQUFnQixLQUFLLE9BQU8sUUFBUSxjQUFjLFdBQVcsT0FBTyxRQUFRLENBQUMsRUFBRSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZILFlBQUksV0FBVyxPQUFPLFFBQVEsQ0FBQyxFQUFFLFVBQVUsR0FBRyxDQUFDLEtBQUssT0FBTztBQUMxRCxjQUFJLENBQUMsV0FBVztBQUNmLHdCQUFZO0FBQ1osMkJBQWU7QUFDZix5QkFBYSxZQUFZLG1CQUFtQixLQUFLLE9BQU8sUUFBUSxnQ0FBZ0MsRUFBRSxTQUFTLEdBQUcsU0FBUztBQUFBLFVBQ3hILE9BQU87QUFDTiwyQkFBZTtBQUFBLFVBQ2hCO0FBQUEsUUFDRDtBQUVBLFlBQUssQ0FBQyxhQUFlLENBQUMsY0FBZTtBQUVwQyxxQkFBVyxTQUFTLE9BQU8sV0FBVyxPQUFPLFFBQVEsQ0FBQyxJQUFJLElBQUk7QUFBQSxRQUMvRCxPQUNLO0FBRUosa0JBQVEsV0FBVyxPQUFPLFFBQVEsQ0FBQyxFQUFFLFVBQVUsR0FBRyxpQkFBaUIsV0FBVyxNQUFNO0FBQUEsaUJBQzlFLGlCQUFpQixZQUFZO0FBQ2pDLDBCQUFZLFdBQVcsT0FBTyxRQUFRLENBQUMsRUFBRSxVQUFVLGlCQUFpQixXQUFXLFFBQVEsV0FBVyxPQUFPLFFBQVEsQ0FBQyxFQUFFLFNBQVMsQ0FBQztBQUM5SCwwQkFBWSxVQUFVLEtBQUs7QUFDM0I7QUFBQSxZQUNEO0FBQUEscUJBQ1M7QUFBQSxZQUFFO0FBQUE7QUFBQSxRQUdiO0FBQ0EsWUFBSSxJQUFJLFdBQVcsT0FBTyxVQUFVLEdBQUc7QUFDdEMsY0FBSSxXQUFXLE9BQU8sUUFBUSxDQUFDLEVBQUUsVUFBVSxHQUFHLENBQUMsS0FBSyxPQUFPO0FBQzFELGdCQUFLLGFBQWUsQ0FBQyxjQUFlO0FBQUUsMEJBQVk7QUFBQSxZQUFNLE9BQU87QUFBRSw2QkFBZTtBQUFBLFlBQU07QUFBQSxVQUN2RjtBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUdBLGVBQVcsS0FBSyxXQUFXLGNBQWMsUUFBUTtBQUNqRCxRQUFJLGFBQWEsSUFBSTtBQUFFLGtCQUFZO0FBQUEsSUFBVTtBQUU3QyxpQkFBYSxZQUFZLG1CQUFtQixRQUFXLGlDQUFpQztBQUN4RixVQUFNLHVCQUF1QixLQUFLLE9BQU8sT0FBTyxrQkFBa0IsS0FBSyxVQUFVLFVBQVUsV0FBVyxVQUFVLEtBQUs7QUFDckgseUJBQXFCLEtBQUssV0FBUztBQUNsQyxtQkFBYSxZQUFZLG1CQUFtQixRQUFXLEtBQUs7QUFBQSxJQUM3RCxDQUFDO0FBR0QsUUFBSSxLQUFLLE9BQU8sY0FBYztBQUM3QixVQUFJLEtBQUssSUFBSSxJQUFJLEtBQUssT0FBTyxVQUFVLG1CQUFtQixLQUFLLFNBQVMsYUFBYSxLQUFLLFNBQVMsV0FBVyxrQkFBa0I7QUFFL0gsYUFBSyxPQUFPLFVBQVUsa0JBQWtCLEtBQUssSUFBSTtBQUNqRCxxQkFBYSxZQUFZLHdCQUF3QixLQUFLLE9BQU8sUUFBUSxvQkFBb0IsS0FBSyxPQUFPLFVBQVUsaUJBQWlCO0FBSWhJLGFBQUssNEJBQTRCO0FBRWpDLFlBQUksZUFBdUIscUJBQXFCLGFBQWE7QUFHN0QsY0FBTSxpQkFBaUIsS0FBSyxPQUFPLE9BQU8sa0JBQWtCLEtBQUssVUFBVSxVQUFVLFdBQVcsVUFBVSxNQUFNLFlBQVk7QUFDNUgsdUJBQWUsS0FBSyxXQUFTO0FBRzVCLHVCQUFhLFlBQVksbUJBQW1CLEtBQUssT0FBTyxRQUFRLEtBQUs7QUFDckUsZ0JBQU0sYUFBYSxLQUFLLE9BQU8sVUFBVSxTQUFTLEtBQUssUUFBUSxLQUFLLFVBQVUsT0FBTyxLQUFLLE9BQU8sVUFBVSxlQUFlO0FBQzFILHFCQUFXLEtBQUssQ0FBQUMsV0FBUztBQUN4QixnQkFBSUEsVUFBUyxRQUFXO0FBQUUsMkJBQWEsWUFBWSx3QkFBd0IsS0FBSyxPQUFPLFFBQVFBLE1BQUs7QUFBQSxZQUFFO0FBQUEsVUFHdkcsQ0FBQztBQUFBLFFBQ0YsQ0FBQztBQUFBLE1BQ0YsT0FBTztBQUFFLGFBQUssNEJBQTRCO0FBQUEsTUFBSztBQUFBLElBQ2hEO0FBRUEsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLE1BQU0sa0JBQWtCO0FBR3ZCLFFBQUksS0FBSyxPQUFPLGFBQWEsUUFBVztBQUN2QyxXQUFLO0FBQUEsUUFDSjtBQUFBLFFBQ0EsQ0FBQUMsVUFBUSxJQUFJLFFBQVFBLEtBQUk7QUFBQSxNQUN6QjtBQUFBLElBQ0Q7QUFFQSxVQUFNLE9BQU8sS0FBSyxXQUFXO0FBQzdCLFFBQUksUUFBUSxRQUFXO0FBQ3RCLFdBQUssYUFBYTtBQUFBLFFBQ2pCLE1BQU07QUFBQSxRQUNOLFFBQVE7QUFBQSxNQUNULENBQUM7QUFDRCxZQUFNLEtBQUssZUFBZTtBQUMxQixXQUFLLElBQUksVUFBVSxXQUFXLElBQUk7QUFBQSxJQUNuQyxPQUFPO0FBQ04sbUJBQWEsWUFBWSxtQkFBbUIsUUFBVyxzQkFBc0I7QUFBQSxJQUM5RTtBQUNBLFNBQUssU0FBUztBQUNkLFNBQUssV0FBVztBQUNoQixTQUFLLGlCQUFpQjtBQUN0QixTQUFLLGdCQUFnQjtBQUNyQixTQUFLLFNBQVMsUUFBUSxXQUFXO0FBQUEsRUFDbEM7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUVwQixRQUFJLEtBQUssT0FBTyxVQUFVLFFBQVc7QUFDcEMsV0FBSztBQUFBLFFBQ0o7QUFBQSxRQUNBLENBQUFBLFVBQVEsSUFBSUMsZUFBY0QsS0FBSTtBQUFBLE1BQy9CO0FBQUEsSUFDRDtBQUVBLFVBQU0sT0FBTyxLQUFLLGlCQUFpQjtBQUNuQyxRQUFJLFFBQVEsUUFBVztBQUN0QixXQUFLLGFBQWE7QUFBQSxRQUNqQixNQUFNO0FBQUEsUUFDTixRQUFRO0FBQUEsTUFDVCxDQUFDO0FBQ0QsWUFBTSxLQUFLLGVBQWU7QUFDMUIsV0FBSyxJQUFJLFVBQVUsV0FBVyxJQUFJO0FBQUEsSUFDbkMsT0FBTztBQUNOLG1CQUFhLFlBQVksbUJBQW1CLFFBQVcsNEJBQTRCO0FBQUEsSUFDcEY7QUFDQSxTQUFLLFNBQVM7QUFDZCxTQUFLLFdBQVc7QUFDaEIsU0FBSyxnQkFBZ0I7QUFDckIsU0FBSyxTQUFTLFFBQVEsaUJBQWlCO0FBQUEsRUFDeEM7QUFBQSxFQUVBLE1BQU0sb0JBQW9CO0FBQ3pCLFNBQUssSUFBSSxVQUFVLG1CQUFtQixXQUFXO0FBQ2pELFNBQUssT0FBTyxlQUFlO0FBQzNCLFNBQUssaUJBQWlCO0FBQ3RCLFNBQUssU0FBUyxRQUFRLFlBQVk7QUFBQSxFQUNuQztBQUFBLEVBRUEsTUFBTSxpQkFBaUI7QUFDdEIsU0FBSyxJQUFJLFVBQVUsbUJBQW1CLGlCQUFpQjtBQUN2RCxTQUFLLFlBQVk7QUFDakIsU0FBSyxPQUFPLE9BQU8sT0FBTztBQUMxQixTQUFLLFNBQVMsUUFBUSxrQkFBa0I7QUFBQSxFQUN6QztBQUFBLEVBRUEsYUFBd0M7QUFDdkMsUUFBSSxRQUFpQjtBQUNyQixRQUFJLE1BQWlDO0FBRXJDLFNBQUssSUFBSSxVQUFVLGlCQUFpQixDQUFDLFNBQVM7QUFDN0MsVUFBSSxDQUFDLE9BQU87QUFDWCxnQkFBUSxLQUFLLEtBQUssWUFBWTtBQUFBLGVBQ3hCLGFBQWE7QUFDakIsb0JBQVE7QUFDUixrQkFBTTtBQUFBLFVBRVA7QUFBQTtBQUFBLE1BRUY7QUFBQSxJQUNELENBQUM7QUFDRCxRQUFJLENBQUMsT0FBTztBQUNYLG1CQUFhLFlBQVksZ0JBQWdCLFFBQVcsT0FBTztBQUMzRCxZQUFNLEtBQUssSUFBSSxVQUFVLFFBQVEsT0FBTztBQUN4QyxtQkFBYSxZQUFZLGdCQUFnQixRQUFXLEdBQUc7QUFBQSxJQUN4RDtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxtQkFBOEM7QUFDN0MsUUFBSSxRQUFpQjtBQUNyQixRQUFJLE1BQWlDO0FBRXJDLFNBQUssSUFBSSxVQUFVLGlCQUFpQixDQUFDLFNBQVM7QUFDN0MsVUFBSSxDQUFDLE9BQU87QUFDWCxnQkFBUSxLQUFLLEtBQUssWUFBWTtBQUFBLGVBQ3hCLG1CQUFtQjtBQUN2QixvQkFBUTtBQUNSLGtCQUFNO0FBQUEsVUFFUDtBQUFBO0FBQUEsTUFFRjtBQUFBLElBQ0QsQ0FBQztBQUNELFFBQUksQ0FBQyxPQUFPO0FBQ1gsbUJBQWEsWUFBWSxnQkFBZ0IsUUFBVyxPQUFPO0FBQzNELFlBQU0sS0FBSyxJQUFJLFVBQVUsUUFBUSxPQUFPO0FBQ3hDLG1CQUFhLFlBQVksZ0JBQWdCLFFBQVcsR0FBRztBQUFBLElBQ3hEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUdBLE1BQU0sV0FBVztBQUVoQixTQUFLLElBQUksVUFBVSxtQkFBbUIsV0FBVztBQUFBLEVBR2xEO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsU0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDLEdBQUcsaUJBQWlCLE1BQU0sS0FBSyxTQUFTLENBQUM7QUFBQSxFQUN6RTtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUNqQyxRQUFJLEtBQUssT0FBTyxVQUFVLFFBQVc7QUFBRSxXQUFLLE9BQU8sT0FBTyxjQUFjLEtBQUssU0FBUyxhQUFhLEtBQUssU0FBUyxXQUFXLGdCQUFnQixLQUFLO0FBQUEsSUFBRTtBQUNuSixTQUFLLG9CQUFvQjtBQUFBLEVBRTFCO0FBQUEsRUFFQSxhQUFhO0FBQ1osa0JBQWMsS0FBSyxVQUFVLEtBQUssVUFBVTtBQUFBLEVBQzdDO0FBQUEsRUFvQ0EsZ0JBQWdCLFNBQW1CO0FBRWxDLFNBQUsscUJBQXFCO0FBQzFCLFNBQUssbUJBQW1CO0FBRXhCLFFBQUksV0FBVyxRQUFRLFdBQVcsUUFBVztBQUFFLFdBQUssU0FBUztBQUFBLElBQUU7QUFFL0QsaUJBQWEsWUFBWSxtQkFBbUIsS0FBSyxPQUFPLFFBQVEsdUJBQXVCO0FBRXZGLFNBQUssU0FBUztBQUNkLFFBQUksYUFBYSxLQUFLLGNBQWM7QUFDcEMsU0FBSyxlQUFlO0FBRXBCLFFBQUksQ0FBQyxLQUFLLFVBQVU7QUFDbkIsV0FBSyxXQUFXO0FBd0JoQixXQUFLLFdBQVc7QUFBQSxJQUNqQjtBQUVBLFNBQUssbUJBQW1CO0FBQ3hCLFNBQUsscUJBQXFCO0FBQUEsRUFDM0I7QUFBQSxFQUdBLG1CQUEyQjtBQUMxQixRQUFJLEtBQUssT0FBTyxPQUFPLFVBQVUsZUFBZSxNQUFNO0FBQ3JELGFBQU87QUFBQSxJQUNSLE9BQU87QUFDTixhQUFPLEtBQUssT0FBTyxPQUFPLFdBQVc7QUFBQSxJQUN0QztBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0saUJBQWlCO0FBR3RCLFFBQUksaUJBQWlCLFlBQVksS0FBSyxRQUFRLElBQUksYUFBYSxRQUFRLFVBQVU7QUFDakYsUUFBSTtBQUNKLFFBQUksS0FBSyxTQUFTLGFBQWEsS0FBSyxTQUFTLFdBQVcsZ0JBQWdCLEtBQUssU0FBUyxhQUFhLEtBQUssU0FBUyxXQUFXLFlBQVksSUFBSTtBQUMzSSxxQkFBZTtBQUFBLFFBQ2QsS0FBSztBQUFBLFFBQ0wsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFVBQ1IsZ0JBQWdCO0FBQUEsVUFDaEIsaUJBQWlCLFdBQVcsS0FBSyxLQUFLLFNBQVMsYUFBYSxLQUFLLFNBQVMsV0FBVyxXQUFXLE1BQU0sS0FBSyxTQUFTLGFBQWEsS0FBSyxTQUFTLFdBQVcsWUFBWTtBQUFBLFFBQ3ZLO0FBQUEsTUFDRDtBQUFBLElBQ0QsT0FBTztBQUNOLHFCQUFlO0FBQUEsUUFDZCxLQUFLO0FBQUEsUUFDTCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsVUFDUixnQkFBZ0I7QUFBQSxRQUNqQjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBRUEsaUJBQWEsWUFBWSxzQkFBc0IsS0FBSyxPQUFPLFFBQVEsWUFBWTtBQUMvRSxRQUFJO0FBQ0gsWUFBTSxnQkFBZ0IsVUFBTSw2QkFBVyxZQUFZO0FBQ25ELG1CQUFhLFlBQVksd0JBQXdCLEtBQUssT0FBTyxRQUFRLHFDQUFxQyxjQUFjLE9BQU8sU0FBUyxHQUFHO0FBQUEsSUFDNUksU0FDTyxHQUFQO0FBQ0MsbUJBQWEsWUFBWSxrQkFBa0IsS0FBSyxPQUFPLFFBQVEsdUJBQXVCLGdCQUFnQjtBQUN0RyxtQkFBYSxZQUFZLGtCQUFrQixLQUFLLE9BQU8sUUFBUSxFQUFFLFNBQVMsQ0FBQztBQUFBLElBQzVFO0FBQUEsRUFDRDtBQUVEOyIsCiAgIm5hbWVzIjogWyJTZW1hTG9naWNQbHVnaW5Db21tIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgInJvdyIsICJTZW1hTG9naWNWaWV3IiwgImltcG9ydF9vYnNpZGlhbiIsICJwYXJzZUNvbW1hbmRzIiwgImltcG9ydF92aWV3IiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiYXBwIiwgIlNlbWFMb2dpY1BsdWdpbkNvbW0iLCAidmFsdWUiLCAibGVhZiIsICJTZW1hTG9naWNWaWV3Il0KfQo=
